/*

 Copyright (c) 2012-2013 Chris Pettitt

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 ****************************************************** !*\
  !*** ./node_modules/node-libs-browser/mock/empty.js ***!
  \***************************************************** no static exports found  *********************************************** !*\
  !*** ./node_modules/path-browserify/index.js ***!
  \********************************************** ./../process/browser.js  ***************************************** !*\
  !*** ./node_modules/process/browser.js ***!
  \**************************************** *********************************** !*\
  !*** (webpack)/buildin/module.js ***!
  \********************************** ********************** !*\
  !*** ./package.json ***!
  \********************* exports provided: name, version, description, main, keywords, scripts, repository, author, license, standard, dependencies, devDependencies, files, yarn-upgrade-all, sideEffects, husky, default  *********************** !*\
  !*** ./src/config.js ***!
  \********************** exports provided: defaultConfig, updateCurrentConfig, setSiteConfig, saveConfigFromInitilize, updateSiteConfig, getSiteConfig, setConfig, getConfig, sanitize, addDirective, reset  ./utils  ./logger  ./themes  ./defaultConfig  *************************************** !*\
  !*** ./src/dagre-wrapper/clusters.js ***!
  \************************************** exports provided: insertCluster, getClusterTitleWidth, clear, positionCluster  ./intersect/intersect-rect  ../logger  ./createLabel  d3  ../config  ****************************************** !*\
  !*** ./src/dagre-wrapper/createLabel.js ***!
  \***************************************** exports provided: default  ************************************ !*\
  !*** ./src/dagre-wrapper/edges.js ***!
  \*********************************** exports provided: clear, insertEdgeLabel, positionEdgeLabel, intersection, insertEdge  ../utils  ************************************ !*\
  !*** ./src/dagre-wrapper/index.js ***!
  \*********************************** exports provided: render  dagre  graphlib  ./markers  ./shapes/util  ./mermaid-graphlib  ./nodes  ./clusters  ./edges  ********************************************** !*\
  !*** ./src/dagre-wrapper/intersect/index.js ***!
  \********************************************* ./intersect-node.js  ./intersect-circle.js  ./intersect-ellipse.js  ./intersect-polygon.js  ./intersect-rect.js  ********************************************************* !*\
  !*** ./src/dagre-wrapper/intersect/intersect-circle.js ***!
  \******************************************************** ./intersect-ellipse  ********************************************************** !*\
  !*** ./src/dagre-wrapper/intersect/intersect-ellipse.js ***!
  \********************************************************* ******************************************************* !*\
  !*** ./src/dagre-wrapper/intersect/intersect-line.js ***!
  \****************************************************** ******************************************************* !*\
  !*** ./src/dagre-wrapper/intersect/intersect-node.js ***!
  \****************************************************** ********************************************************** !*\
  !*** ./src/dagre-wrapper/intersect/intersect-polygon.js ***!
  \********************************************************* ./intersect-line  ******************************************************* !*\
  !*** ./src/dagre-wrapper/intersect/intersect-rect.js ***!
  \****************************************************** ************************************** !*\
  !*** ./src/dagre-wrapper/markers.js ***!
  \************************************* *********************************************** !*\
  !*** ./src/dagre-wrapper/mermaid-graphlib.js ***!
  \********************************************** exports provided: clusterDb, clear, extractDecendants, validate, findNonClusterChild, adjustClustersAndEdges, extractor, sortNodesByHierarchy  ************************************ !*\
  !*** ./src/dagre-wrapper/nodes.js ***!
  \*********************************** exports provided: insertNode, setNodeElem, clear, positionNode  ./intersect/index.js  ./shapes/note  ../diagrams/class/svgDraw  ****************************************** !*\
  !*** ./src/dagre-wrapper/shapes/note.js ***!
  \***************************************** ./util  ../../logger  ../intersect/index.js  ****************************************** !*\
  !*** ./src/dagre-wrapper/shapes/util.js ***!
  \***************************************** exports provided: labelHelper, updateNodeBounds, insertPolygonShape  ../createLabel  ../../config  ****************************** !*\
  !*** ./src/defaultConfig.js ***!
  \***************************** *************************************** !*\
  !*** ./src/diagrams/class/classDb.js ***!
  \************************************** exports provided: parseDirective, addClass, lookUpDomId, clear, getClass, getClasses, getRelations, addRelation, addAnnotation, addMember, addMembers, cleanupLabel, setCssClass, setLink, setClickEvent, bindFunctions, lineType, relationType, default  ../common/common  ../../utils  ../../mermaidAPI  ************************************************ !*\
  !*** ./src/diagrams/class/classRenderer-v2.js ***!
  \*********************************************** exports provided: addClasses, addRelations, setConf, drawOld, draw, default  ./classDb  ./parser/classDiagram  ./svgDraw  ../../dagre-wrapper/index.js  ********************************************* !*\
  !*** ./src/diagrams/class/classRenderer.js ***!
  \******************************************** exports provided: setConf, draw, default  ****************************************************** !*\
  !*** ./src/diagrams/class/parser/classDiagram.jison ***!
  \***************************************************** fs  path  ./../../../../node_modules/process/browser.js  ./../../../../node_modules/webpack/buildin/module.js  ************************************** !*\
  !*** ./src/diagrams/class/styles.js ***!
  \************************************* *************************************** !*\
  !*** ./src/diagrams/class/svgDraw.js ***!
  \************************************** exports provided: drawEdge, drawClass, parseMember, default  *************************************** !*\
  !*** ./src/diagrams/common/common.js ***!
  \************************************** exports provided: getRows, removeScript, sanitizeText, lineBreakRegex, hasBreaks, splitBreaks, default  ********************************* !*\
  !*** ./src/diagrams/er/erDb.js ***!
  \******************************** exports provided: parseDirective, default  ************************************** !*\
  !*** ./src/diagrams/er/erMarkers.js ***!
  \************************************* *************************************** !*\
  !*** ./src/diagrams/er/erRenderer.js ***!
  \************************************** ./erDb  ./parser/erDiagram  ./erMarkers  ************************************************ !*\
  !*** ./src/diagrams/er/parser/erDiagram.jison ***!
  \*********************************************** *********************************** !*\
  !*** ./src/diagrams/er/styles.js ***!
  \********************************** *************************************************** !*\
  !*** ./src/diagrams/flowchart/flowChartShapes.js ***!
  \************************************************** exports provided: addToRender, addToRenderV2, default  dagre-d3  ****************************************** !*\
  !*** ./src/diagrams/flowchart/flowDb.js ***!
  \***************************************** exports provided: parseDirective, lookUpDomId, addVertex, addSingleLink, addLink, updateLinkInterpolate, updateLink, addClass, setDirection, setClass, setLink, getTooltip, setClickEvent, bindFunctions, getDirection, getVertices, getEdges, getClasses, clear, setGen, defaultStyle, addSubGraph, getDepthFirstPos, indexNodes, getSubGraphs, firstGraph, default  *************************************************** !*\
  !*** ./src/diagrams/flowchart/flowRenderer-v2.js ***!
  \************************************************** exports provided: setConf, addVertices, addEdges, getClasses, draw, default  ./flowDb  ./parser/flow  dagre-d3/lib/label/add-html-label.js  ************************************************ !*\
  !*** ./src/diagrams/flowchart/flowRenderer.js ***!
  \*********************************************** ./flowChartShapes  ************************************************** !*\
  !*** ./src/diagrams/flowchart/parser/flow.jison ***!
  \************************************************* ****************************************** !*\
  !*** ./src/diagrams/flowchart/styles.js ***!
  \***************************************** *************************************** !*\
  !*** ./src/diagrams/gantt/ganttDb.js ***!
  \************************************** exports provided: parseDirective, clear, setAxisFormat, getAxisFormat, setTodayMarker, getTodayMarker, setDateFormat, enableInclusiveEndDates, endDatesAreInclusive, getDateFormat, setExcludes, getExcludes, setTitle, getTitle, addSection, getSections, getTasks, addTask, findTaskById, addTaskOrg, setLink, setClass, setClickEvent, bindFunctions, default  moment-mini  @braintree/sanitize-url  ********************************************* !*\
  !*** ./src/diagrams/gantt/ganttRenderer.js ***!
  \******************************************** ./parser/gantt  ./ganttDb  *********************************************** !*\
  !*** ./src/diagrams/gantt/parser/gantt.jison ***!
  \********************************************** ************************************** !*\
  !*** ./src/diagrams/gantt/styles.js ***!
  \************************************* ***************************************** !*\
  !*** ./src/diagrams/git/gitGraphAst.js ***!
  \**************************************** exports provided: setDirection, setOptions, getOptions, commit, branch, merge, checkout, reset, prettyPrint, clear, getBranchesAsObjArray, getBranches, getCommits, getCommitsArray, getCurrentBranch, getDirection, getHead, default  ********************************************** !*\
  !*** ./src/diagrams/git/gitGraphRenderer.js ***!
  \********************************************* ./gitGraphAst  ./parser/gitGraph  ************************************************ !*\
  !*** ./src/diagrams/git/parser/gitGraph.jison ***!
  \*********************************************** ************************************ !*\
  !*** ./src/diagrams/git/styles.js ***!
  \*********************************** ************************************* !*\
  !*** ./src/diagrams/info/infoDb.js ***!
  \************************************ exports provided: setMessage, getMessage, setInfo, getInfo, default  ******************************************* !*\
  !*** ./src/diagrams/info/infoRenderer.js ***!
  \****************************************** ./infoDb  ./parser/info  ********************************************* !*\
  !*** ./src/diagrams/info/parser/info.jison ***!
  \******************************************** ************************************* !*\
  !*** ./src/diagrams/info/styles.js ***!
  \************************************ ******************************************* !*\
  !*** ./src/diagrams/pie/parser/pie.jison ***!
  \****************************************** *********************************** !*\
  !*** ./src/diagrams/pie/pieDb.js ***!
  \********************************** ***************************************** !*\
  !*** ./src/diagrams/pie/pieRenderer.js ***!
  \**************************************** ./pieDb  ./parser/pie  ************************************ !*\
  !*** ./src/diagrams/pie/styles.js ***!
  \*********************************** ************************************************************ !*\
  !*** ./src/diagrams/sequence/parser/sequenceDiagram.jison ***!
  \*********************************************************** ********************************************* !*\
  !*** ./src/diagrams/sequence/sequenceDb.js ***!
  \******************************************** exports provided: parseDirective, addActor, addMessage, addSignal, getMessages, getActors, getActor, getActorKeys, getTitle, getTitleWrapped, enableSequenceNumbers, showSequenceNumbers, setWrap, autoWrap, clear, parseMessage, LINETYPE, ARROWTYPE, PLACEMENT, addNote, setTitle, apply, default  *************************************************** !*\
  !*** ./src/diagrams/sequence/sequenceRenderer.js ***!
  \************************************************** exports provided: bounds, drawActors, setConf, draw, default  ./parser/sequenceDiagram  ./sequenceDb  ***************************************** !*\
  !*** ./src/diagrams/sequence/styles.js ***!
  \**************************************** ****************************************** !*\
  !*** ./src/diagrams/sequence/svgDraw.js ***!
  \***************************************** exports provided: drawRect, drawText, drawLabel, drawActor, anchorElement, drawActivation, drawLoop, drawBackgroundRect, insertArrowHead, insertArrowFilledHead, insertSequenceNumber, insertArrowCrossHead, getTextObj, getNoteRect, default  **************************************** !*\
  !*** ./src/diagrams/state/id-cache.js ***!
  \*************************************** exports provided: set, get, keys, size, default  ****************************************************** !*\
  !*** ./src/diagrams/state/parser/stateDiagram.jison ***!
  \***************************************************** ************************************** !*\
  !*** ./src/diagrams/state/shapes.js ***!
  \************************************* exports provided: drawStartState, drawDivider, drawSimpleState, drawDescrState, addTitleAndBox, drawText, drawNote, drawState, drawEdge  ./id-cache.js  ./stateDb  *************************************** !*\
  !*** ./src/diagrams/state/stateDb.js ***!
  \************************************** exports provided: parseDirective, addState, clear, getState, getStates, logDocuments, getRelations, addRelation, cleanupLabel, lineType, relationType, default  ************************************************ !*\
  !*** ./src/diagrams/state/stateRenderer-v2.js ***!
  \*********************************************** exports provided: setConf, getClasses, draw, default  ./parser/stateDiagram  ********************************************* !*\
  !*** ./src/diagrams/state/stateRenderer.js ***!
  \******************************************** ./shapes  ************************************** !*\
  !*** ./src/diagrams/state/styles.js ***!
  \************************************* ************************************************ !*\
  !*** ./src/diagrams/user-journey/journeyDb.js ***!
  \*********************************************** exports provided: parseDirective, clear, setTitle, getTitle, addSection, getSections, getTasks, addTask, addTaskOrg, default  ****************************************************** !*\
  !*** ./src/diagrams/user-journey/journeyRenderer.js ***!
  \***************************************************** exports provided: setConf, draw, bounds, drawTasks, default  ./parser/journey  ./journeyDb  ******************************************************** !*\
  !*** ./src/diagrams/user-journey/parser/journey.jison ***!
  \******************************************************* ********************************************* !*\
  !*** ./src/diagrams/user-journey/styles.js ***!
  \******************************************** ********************************************** !*\
  !*** ./src/diagrams/user-journey/svgDraw.js ***!
  \********************************************* exports provided: drawRect, drawFace, drawCircle, drawText, drawLabel, drawSection, drawTask, drawBackgroundRect, getTextObj, getNoteRect, default  ****************************** !*\
  !*** ./src/errorRenderer.js ***!
  \***************************** *********************** !*\
  !*** ./src/logger.js ***!
  \********************** exports provided: LEVELS, log, setLogLevel  ************************ !*\
  !*** ./src/mermaid.js ***!
  \*********************** entity-decode/browser  ./mermaidAPI  sequence config was passed as #1  Check if previously processed  Wait for document loaded before starting the execution
 *************************** !*\
  !*** ./src/mermaidAPI.js ***!
  \************************** exports provided: encodeEntities, decodeEntities, default  stylis  ../package.json  ./diagrams/flowchart/flowRenderer  ./diagrams/flowchart/flowRenderer-v2  ./diagrams/flowchart/parser/flow  ./diagrams/flowchart/flowDb  ./diagrams/sequence/sequenceRenderer  ./diagrams/sequence/parser/sequenceDiagram  ./diagrams/sequence/sequenceDb  ./diagrams/gantt/ganttRenderer  ./diagrams/gantt/parser/gantt  ./diagrams/gantt/ganttDb  ./diagrams/class/classRenderer  ./diagrams/class/classRenderer-v2  ./diagrams/class/parser/classDiagram  ./diagrams/class/classDb  ./diagrams/state/stateRenderer  ./diagrams/state/stateRenderer-v2  ./diagrams/state/parser/stateDiagram  ./diagrams/state/stateDb  ./diagrams/git/gitGraphRenderer  ./diagrams/git/parser/gitGraph  ./diagrams/git/gitGraphAst  ./diagrams/info/infoRenderer  ./errorRenderer  ./diagrams/info/parser/info  ./diagrams/info/infoDb  ./diagrams/pie/pieRenderer  ./diagrams/pie/parser/pie  ./diagrams/pie/pieDb  ./diagrams/er/erDb  ./diagrams/er/parser/erDiagram  ./diagrams/er/erRenderer  ./diagrams/user-journey/parser/journey  ./diagrams/user-journey/journeyDb  ./diagrams/user-journey/journeyRenderer  ./config  ./styles  *********************** !*\
  !*** ./src/styles.js ***!
  \********************** exports provided: calcThemeVariables, default  ./diagrams/class/styles  ./diagrams/er/styles  ./diagrams/flowchart/styles  ./diagrams/gantt/styles  ./diagrams/git/styles  ./diagrams/info/styles  ./diagrams/pie/styles  ./diagrams/sequence/styles  ./diagrams/state/styles  ./diagrams/user-journey/styles  ***************************** !*\
  !*** ./src/themes/index.js ***!
  \**************************** ./theme-base  ./theme-dark  ./theme-default  ./theme-forest  ./theme-neutral  ********************************** !*\
  !*** ./src/themes/theme-base.js ***!
  \********************************* exports provided: getThemeVariables  khroma  ./theme-helpers  ********************************** !*\
  !*** ./src/themes/theme-dark.js ***!
  \********************************* ************************************* !*\
  !*** ./src/themes/theme-default.js ***!
  \************************************ ************************************ !*\
  !*** ./src/themes/theme-forest.js ***!
  \*********************************** ************************************* !*\
  !*** ./src/themes/theme-helpers.js ***!
  \************************************ exports provided: mkBorder  ************************************* !*\
  !*** ./src/themes/theme-neutral.js ***!
  \************************************ ********************** !*\
  !*** ./src/utils.js ***!
  \********************* exports provided: detectInit, detectDirective, detectType, isSubstringInArray, interpolateToCurve, formatUrl, runFunc, getStylesFromArray, generateId, random, assignWithDepth, getTextObj, drawSimpleText, wrapLabel, calculateTextHeight, calculateTextWidth, calculateTextDimensions, calculateSvgSizeAttrs, configureSvgSize, initIdGeneratior, default  ./diagrams/common/common  ****************************************** !*\
  !*** external "@braintree/sanitize-url" ***!
  \***************************************** ********************* !*\
  !*** external "d3" ***!
  \******************** ************************ !*\
  !*** external "dagre" ***!
  \*********************** *************************** !*\
  !*** external "dagre-d3" ***!
  \************************** ******************************************************* !*\
  !*** external "dagre-d3/lib/label/add-html-label.js" ***!
  \****************************************************** **************************************** !*\
  !*** external "entity-decode/browser" ***!
  \*************************************** *************************** !*\
  !*** external "graphlib" ***!
  \************************** ************************* !*\
  !*** external "khroma" ***!
  \************************ ****************************** !*\
  !*** external "moment-mini" ***!
  \***************************** ************************* !*\
  !*** external "stylis" ***!
  \*************************/
'use strict';var commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function getDefaultExportFromCjs(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}
function getAugmentedNamespace(b){if(b.__esModule)return b;var d=Object.defineProperty({},"__esModule",{value:!0});Object.keys(b).forEach(function(e){var f=Object.getOwnPropertyDescriptor(b,e);Object.defineProperty(d,e,f.get?f:{enumerable:!0,get:function(){return b[e]}})});return d}function createCommonjsModule(b){var d={exports:{}};return b(d,d.exports),d.exports}
function commonjsRequire(b){throw Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.');}var invalidPrototcolRegex=/^(%20|\s)*(javascript|data)/im,ctrlCharactersRegex=/[^\x20-\x7E]/gmi,urlSchemeRegex=/^([^:]+):/gm,relativeFirstCharacters=[".","/"];function isRelativeUrl(b){return-1<relativeFirstCharacters.indexOf(b[0])}
function sanitizeUrl(b){if(!b)return"about:blank";var d=b.replace(ctrlCharactersRegex,"").trim();if(isRelativeUrl(d))return d;b=d.match(urlSchemeRegex);return!b||invalidPrototcolRegex.test(b[0])?"about:blank":d}var sanitizeUrl_1={sanitizeUrl},version$3="5.16.0";function ascending$3(b,d){return b<d?-1:b>d?1:b>=d?0:NaN}
function bisector(b){1===b.length&&(b=ascendingComparator(b));return{left:function(d,e,f,g){null==f&&(f=0);null==g&&(g=d.length);for(;f<g;){var h=f+g>>>1;0>b(d[h],e)?f=h+1:g=h}return f},right:function(d,e,f,g){null==f&&(f=0);null==g&&(g=d.length);for(;f<g;){var h=f+g>>>1;0<b(d[h],e)?g=h:f=h+1}return f}}}function ascendingComparator(b){return function(d,e){return ascending$3(b(d),e)}}var ascendingBisect=bisector(ascending$3),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left;
function pairs(b,d){null==d&&(d=pair);for(var e=0,f=b.length-1,g=b[0],h=Array(0>f?0:f);e<f;)h[e]=d(g,g=b[++e]);return h}function pair(b,d){return[b,d]}function cross$2(b,d,e){var f=b.length,g=d.length,h=Array(f*g),l,m,p;null==e&&(e=pair);for(l=p=0;l<f;++l){var n=b[l];for(m=0;m<g;++m,++p)h[p]=e(n,d[m])}return h}function descending$2(b,d){return d<b?-1:d>b?1:d>=b?0:NaN}function number$3(b){return null===b?NaN:+b}
function variance(b,d){var e=b.length,f=0,g=-1,h=0,l,m=0;if(null==d)for(;++g<e;){if(!isNaN(l=number$3(b[g]))){var p=l-h;h+=p/++f;m+=p*(l-h)}}else for(;++g<e;)isNaN(l=number$3(d(b[g],g,b)))||(p=l-h,h+=p/++f,m+=p*(l-h));if(1<f)return m/(f-1)}function deviation(b,d){return(b=variance(b,d))?Math.sqrt(b):b}
function extent$1(b,d){var e=b.length,f=-1,g,h,l;if(null==d)for(;++f<e;){if(null!=(g=b[f])&&g>=g)for(h=l=g;++f<e;)null!=(g=b[f])&&(h>g&&(h=g),l<g&&(l=g))}else for(;++f<e;)if(null!=(g=d(b[f],f,b))&&g>=g)for(h=l=g;++f<e;)null!=(g=d(b[f],f,b))&&(h>g&&(h=g),l<g&&(l=g));return[h,l]}var array$3=Array.prototype,slice$6=array$3.slice,map$4=array$3.map;function constant$e(b){return function(){return b}}function identity$a(b){return b}
function sequence(b,d,e){b=+b;d=+d;e=2>(g=arguments.length)?(d=b,b=0,1):3>g?1:+e;for(var f=-1,g=Math.max(0,Math.ceil((d-b)/e))|0,h=Array(g);++f<g;)h[f]=b+f*e;return h}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);
function ticks(b,d,e){var f,g=-1,h;d=+d;b=+b;e=+e;if(b===d&&0<e)return[b];if(f=d<b){var l=b;b=d;d=l}if(0===(h=tickIncrement(b,d,e))||!isFinite(h))return[];if(0<h)for(b=Math.ceil(b/h),d=Math.floor(d/h),d=Array(l=Math.ceil(d-b+1));++g<l;)d[g]=(b+g)*h;else for(b=Math.floor(b*h),d=Math.ceil(d*h),d=Array(l=Math.ceil(b-d+1));++g<l;)d[g]=(b-g)/h;f&&d.reverse();return d}
function tickIncrement(b,d,e){d=(d-b)/Math.max(0,e);b=Math.floor(Math.log(d)/Math.LN10);d/=Math.pow(10,b);return 0<=b?(d>=e10?10:d>=e5?5:d>=e2?2:1)*Math.pow(10,b):-Math.pow(10,-b)/(d>=e10?10:d>=e5?5:d>=e2?2:1)}function tickStep(b,d,e){var f=Math.abs(d-b)/Math.max(0,e);e=Math.pow(10,Math.floor(Math.log(f)/Math.LN10));f/=e;f>=e10?e*=10:f>=e5?e*=5:f>=e2&&(e*=2);return d<b?-e:e}function thresholdSturges(b){return Math.ceil(Math.log(b.length)/Math.LN2)+1}
function histogram(){function b(b){var g,l=b.length,m=Array(l);for(g=0;g<l;++g)m[g]=d(b[g],g,b);g=e(m);var p=g[0],n=g[1],q=f(m,p,n);Array.isArray(q)||(q=tickStep(p,n,q),q=sequence(Math.ceil(p/q)*q,n,q));for(var r=q.length;q[0]<=p;)q.shift(),--r;for(;q[r-1]>n;)q.pop(),--r;var t=Array(r+1);for(g=0;g<=r;++g){var v=t[g]=[];v.x0=0<g?q[g-1]:p;v.x1=g<r?q[g]:n}for(g=0;g<l;++g)v=m[g],p<=v&&v<=n&&t[bisectRight(q,v,0,r)].push(b[g]);return t}var d=identity$a,e=extent$1,f=thresholdSturges;b.value=function(e){return arguments.length?
(d="function"===typeof e?e:constant$e(e),b):d};b.domain=function(d){return arguments.length?(e="function"===typeof d?d:constant$e([d[0],d[1]]),b):e};b.thresholds=function(d){return arguments.length?(f="function"===typeof d?d:Array.isArray(d)?constant$e(slice$6.call(d)):constant$e(d),b):f};return b}
function threshold$1(b,d,e){null==e&&(e=number$3);if(f=b.length){if(0>=(d=+d)||2>f)return+e(b[0],0,b);if(1<=d)return+e(b[f-1],f-1,b);var f;d*=f-1;f=Math.floor(d);var g=+e(b[f],f,b);b=+e(b[f+1],f+1,b);return g+(b-g)*(d-f)}}function freedmanDiaconis(b,d,e){b=map$4.call(b,number$3).sort(ascending$3);return Math.ceil((e-d)/(2*(threshold$1(b,.75)-threshold$1(b,.25))*Math.pow(b.length,-1/3)))}function scott(b,d,e){return Math.ceil((e-d)/(3.5*deviation(b)*Math.pow(b.length,-1/3)))}
function max$3(b,d){var e=b.length,f=-1,g,h;if(null==d)for(;++f<e;){if(null!=(g=b[f])&&g>=g)for(h=g;++f<e;)null!=(g=b[f])&&g>h&&(h=g)}else for(;++f<e;)if(null!=(g=d(b[f],f,b))&&g>=g)for(h=g;++f<e;)null!=(g=d(b[f],f,b))&&g>h&&(h=g);return h}function mean(b,d){var e=b.length,f=e,g=-1,h,l=0;if(null==d)for(;++g<e;)isNaN(h=number$3(b[g]))?--f:l+=h;else for(;++g<e;)isNaN(h=number$3(d(b[g],g,b)))?--f:l+=h;if(f)return l/f}
function median(b,d){var e=b.length,f=-1,g,h=[];if(null==d)for(;++f<e;)isNaN(g=number$3(b[f]))||h.push(g);else for(;++f<e;)isNaN(g=number$3(d(b[f],f,b)))||h.push(g);return threshold$1(h.sort(ascending$3),.5)}function merge$1(b){var d=b.length;var e=-1;for(var f=0,g,h;++e<d;)f+=b[e].length;for(g=Array(f);0<=--d;)for(h=b[d],e=h.length;0<=--e;)g[--f]=h[e];return g}
function min$2(b,d){var e=b.length,f=-1,g,h;if(null==d)for(;++f<e;){if(null!=(g=b[f])&&g>=g)for(h=g;++f<e;)null!=(g=b[f])&&h>g&&(h=g)}else for(;++f<e;)if(null!=(g=d(b[f],f,b))&&g>=g)for(h=g;++f<e;)null!=(g=d(b[f],f,b))&&h>g&&(h=g);return h}function permute(b,d){for(var e=d.length,f=Array(e);e--;)f[e]=b[d[e]];return f}function scan(b,d){if(e=b.length){var e,f=0,g=0,h,l=b[g];for(null==d&&(d=ascending$3);++f<e;)if(0>d(h=b[f],l)||0!==d(l,l))l=h,g=f;if(0===d(l,l))return g}}
function shuffle$1(b,d,e){e=(null==e?b.length:e)-(d=null==d?0:+d);for(var f,g;e;)g=Math.random()*e--|0,f=b[e+d],b[e+d]=b[g+d],b[g+d]=f;return b}function sum$2(b,d){var e=b.length,f=-1,g,h=0;if(null==d)for(;++f<e;){if(g=+b[f])h+=g}else for(;++f<e;)if(g=+d(b[f],f,b))h+=g;return h}function transpose(b){if(!(h=b.length))return[];for(var d=-1,e=min$2(b,length$2),f=Array(e);++d<e;)for(var g=-1,h,l=f[d]=Array(h);++g<h;)l[g]=b[g][d];return f}function length$2(b){return b.length}
function zip(){return transpose(arguments)}var slice$5=Array.prototype.slice;function identity$9(b){return b}var top=1,right=2,bottom=3,left=4,epsilon$4=1E-6;function translateX(b){return"translate("+(b+.5)+",0)"}function translateY(b){return"translate(0,"+(b+.5)+")"}function number$2(b){return function(d){return+b(d)}}function center$1(b){var d=Math.max(0,b.bandwidth()-1)/2;b.round()&&(d=Math.round(d));return function(e){return+b(e)+d}}function entering(){return!this.__axis}
function axis(b,d){function e(e){var t=null==g?d.ticks?d.ticks.apply(d,f):d.domain():g,u=null==h?d.tickFormat?d.tickFormat.apply(d,f):identity$9:h,w=Math.max(l,0)+p,J=d.range(),H=+J[0]+.5;J=+J[J.length-1]+.5;var z=(d.bandwidth?center$1:number$2)(d.copy()),I=e.selection?e.selection():e,O=I.selectAll(".domain").data([null]);t=I.selectAll(".tick").data(t,d).order();var N=t.exit(),L=t.enter().append("g").attr("class","tick"),F=t.select("line"),G=t.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class",
"domain").attr("stroke","currentColor"));t=t.merge(L);F=F.merge(L.append("line").attr("stroke","currentColor").attr(q+"2",n*l));G=G.merge(L.append("text").attr("fill","currentColor").attr(q,n*w).attr("dy",b===top?"0em":b===bottom?"0.71em":"0.32em"));e!==I&&(O=O.transition(e),t=t.transition(e),F=F.transition(e),G=G.transition(e),N=N.transition(e).attr("opacity",epsilon$4).attr("transform",function(b){return isFinite(b=z(b))?r(b):this.getAttribute("transform")}),L.attr("opacity",epsilon$4).attr("transform",
function(b){var d=this.parentNode.__axis;return r(d&&isFinite(d=d(b))?d:z(b))}));N.remove();O.attr("d",b===left||b==right?m?"M"+n*m+","+H+"H0.5V"+J+"H"+n*m:"M0.5,"+H+"V"+J:m?"M"+H+","+n*m+"V0.5H"+J+"V"+n*m:"M"+H+",0.5H"+J);t.attr("opacity",1).attr("transform",function(b){return r(z(b))});F.attr(q+"2",n*l);G.attr(q,n*w).text(u);I.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",b===right?"start":b===left?"end":"middle");I.each(function(){this.__axis=
z})}var f=[],g=null,h=null,l=6,m=6,p=3,n=b===top||b===left?-1:1,q=b===left||b===right?"x":"y",r=b===top||b===bottom?translateX:translateY;e.scale=function(b){return arguments.length?(d=b,e):d};e.ticks=function(){return f=slice$5.call(arguments),e};e.tickArguments=function(b){return arguments.length?(f=null==b?[]:slice$5.call(b),e):f.slice()};e.tickValues=function(b){return arguments.length?(g=null==b?null:slice$5.call(b),e):g&&g.slice()};e.tickFormat=function(b){return arguments.length?(h=b,e):h};
e.tickSize=function(b){return arguments.length?(l=m=+b,e):l};e.tickSizeInner=function(b){return arguments.length?(l=+b,e):l};e.tickSizeOuter=function(b){return arguments.length?(m=+b,e):m};e.tickPadding=function(b){return arguments.length?(p=+b,e):p};return e}function axisTop(b){return axis(top,b)}function axisRight(b){return axis(right,b)}function axisBottom(b){return axis(bottom,b)}function axisLeft(b){return axis(left,b)}var noop$4={value:function(){}};
function dispatch(){for(var b=0,d=arguments.length,e={},f;b<d;++b){if(!(f=arguments[b]+"")||f in e||/[\s.]/.test(f))throw Error("illegal type: "+f);e[f]=[]}return new Dispatch(e)}function Dispatch(b){this._=b}function parseTypenames$1(b,d){return b.trim().split(/^|\s+/).map(function(b){var e="",g=b.indexOf(".");0<=g&&(e=b.slice(g+1),b=b.slice(0,g));if(b&&!d.hasOwnProperty(b))throw Error("unknown type: "+b);return{type:b,name:e}})}
Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(b,d){var e=this._,f=parseTypenames$1(b+"",e),g,h=-1,l=f.length;if(2>arguments.length)for(;++h<l;){if((g=(b=f[h]).type)&&(g=get$2(e[g],b.name)))return g}else{if(null!=d&&"function"!==typeof d)throw Error("invalid callback: "+d);for(;++h<l;)if(g=(b=f[h]).type)e[g]=set$2(e[g],b.name,d);else if(null==d)for(g in e)e[g]=set$2(e[g],b.name,null);return this}},copy:function(){var b={},d=this._,e;for(e in d)b[e]=d[e].slice();return new Dispatch(b)},
call:function(b,d){if(0<(g=arguments.length-2))for(var e=Array(g),f=0,g,h;f<g;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(b))throw Error("unknown type: "+b);h=this._[b];f=0;for(g=h.length;f<g;++f)h[f].value.apply(d,e)},apply:function(b,d,e){if(!this._.hasOwnProperty(b))throw Error("unknown type: "+b);b=this._[b];for(var f=0,g=b.length;f<g;++f)b[f].value.apply(d,e)}};function get$2(b,d){for(var e=0,f=b.length,g;e<f;++e)if((g=b[e]).name===d)return g.value}
function set$2(b,d,e){for(var f=0,g=b.length;f<g;++f)if(b[f].name===d){b[f]=noop$4;b=b.slice(0,f).concat(b.slice(f+1));break}null!=e&&b.push({name:d,value:e});return b}var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};
function namespace(b){var d=b+="",e=d.indexOf(":");0<=e&&"xmlns"!==(d=b.slice(0,e))&&(b=b.slice(e+1));return namespaces.hasOwnProperty(d)?{space:namespaces[d],local:b}:b}function creatorInherit(b){return function(){var d=this.ownerDocument,e=this.namespaceURI;return e===xhtml&&d.documentElement.namespaceURI===xhtml?d.createElement(b):d.createElementNS(e,b)}}function creatorFixed(b){return function(){return this.ownerDocument.createElementNS(b.space,b.local)}}
function creator(b){b=namespace(b);return(b.local?creatorFixed:creatorInherit)(b)}function none$2(){}function selector(b){return null==b?none$2:function(){return this.querySelector(b)}}function selection_select(b){"function"!==typeof b&&(b=selector(b));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h=d[g],l=h.length,m=f[g]=Array(l),p,n,q=0;q<l;++q)(p=h[q])&&(n=b.call(p,p.__data__,q,h))&&("__data__"in p&&(n.__data__=p.__data__),m[q]=n);return new Selection$1(f,this._parents)}
function empty$1(){return[]}function selectorAll(b){return null==b?empty$1:function(){return this.querySelectorAll(b)}}function selection_selectAll(b){"function"!==typeof b&&(b=selectorAll(b));for(var d=this._groups,e=d.length,f=[],g=[],h=0;h<e;++h)for(var l=d[h],m=l.length,p,n=0;n<m;++n)if(p=l[n])f.push(b.call(p,p.__data__,n,l)),g.push(p);return new Selection$1(f,g)}function matcher(b){return function(){return this.matches(b)}}
function selection_filter(b){"function"!==typeof b&&(b=matcher(b));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h=d[g],l=h.length,m=f[g]=[],p,n=0;n<l;++n)(p=h[n])&&b.call(p,p.__data__,n,h)&&m.push(p);return new Selection$1(f,this._parents)}function sparse(b){return Array(b.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}
function EnterNode(b,d){this.ownerDocument=b.ownerDocument;this.namespaceURI=b.namespaceURI;this._next=null;this._parent=b;this.__data__=d}EnterNode.prototype={constructor:EnterNode,appendChild:function(b){return this._parent.insertBefore(b,this._next)},insertBefore:function(b,d){return this._parent.insertBefore(b,d)},querySelector:function(b){return this._parent.querySelector(b)},querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};
function constant$d(b){return function(){return b}}var keyPrefix$1="$";function bindIndex(b,d,e,f,g,h){for(var l=0,m,p=d.length,n=h.length;l<n;++l)(m=d[l])?(m.__data__=h[l],f[l]=m):e[l]=new EnterNode(b,h[l]);for(;l<p;++l)if(m=d[l])g[l]=m}
function bindKey(b,d,e,f,g,h,l){var m,p,n={},q=d.length,r=h.length,t=Array(q),v;for(m=0;m<q;++m)if(p=d[m])t[m]=v=keyPrefix$1+l.call(p,p.__data__,m,d),v in n?g[m]=p:n[v]=p;for(m=0;m<r;++m)v=keyPrefix$1+l.call(b,h[m],m,h),(p=n[v])?(f[m]=p,p.__data__=h[m],n[v]=null):e[m]=new EnterNode(b,h[m]);for(m=0;m<q;++m)(p=d[m])&&n[t[m]]===p&&(g[m]=p)}
function selection_data(b,d){if(!b)return v=Array(this.size()),n=-1,this.each(function(b){v[++n]=b}),v;var e=d?bindKey:bindIndex,f=this._parents,g=this._groups;"function"!==typeof b&&(b=constant$d(b));for(var h=g.length,l=Array(h),m=Array(h),p=Array(h),n=0;n<h;++n){var q=f[n],r=g[n],t=r.length,v=b.call(q,q&&q.__data__,n,f),u=v.length,w=m[n]=Array(u),J=l[n]=Array(u);t=p[n]=Array(t);e(q,r,w,J,t,v,d);r=q=0;for(var H;q<u;++q)if(t=w[q]){for(q>=r&&(r=q+1);!(H=J[r])&&++r<u;);t._next=H||null}}l=new Selection$1(l,
f);l._enter=m;l._exit=p;return l}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(b,d,e){var f=this.enter(),g=this,h=this.exit();f="function"===typeof b?b(f):f.append(b+"");null!=d&&(g=d(g));null==e?h.remove():e(h);return f&&g?f.merge(g).order():g}
function selection_merge(b){var d=this._groups;b=b._groups;for(var e=d.length,f=Math.min(e,b.length),g=Array(e),h=0;h<f;++h)for(var l=d[h],m=b[h],p=l.length,n=g[h]=Array(p),q,r=0;r<p;++r)if(q=l[r]||m[r])n[r]=q;for(;h<e;++h)g[h]=d[h];return new Selection$1(g,this._parents)}function selection_order(){for(var b=this._groups,d=-1,e=b.length;++d<e;)for(var f=b[d],g=f.length-1,h=f[g],l;0<=--g;)if(l=f[g])h&&l.compareDocumentPosition(h)^4&&h.parentNode.insertBefore(l,h),h=l;return this}
function selection_sort(b){function d(d,e){return d&&e?b(d.__data__,e.__data__):!d-!e}b||(b=ascending$2);for(var e=this._groups,f=e.length,g=Array(f),h=0;h<f;++h){for(var l=e[h],m=l.length,p=g[h]=Array(m),n,q=0;q<m;++q)if(n=l[q])p[q]=n;p.sort(d)}return(new Selection$1(g,this._parents)).order()}function ascending$2(b,d){return b<d?-1:b>d?1:b>=d?0:NaN}function selection_call(){var b=arguments[0];arguments[0]=this;b.apply(null,arguments);return this}
function selection_nodes(){var b=Array(this.size()),d=-1;this.each(function(){b[++d]=this});return b}function selection_node(){for(var b=this._groups,d=0,e=b.length;d<e;++d)for(var f=b[d],g=0,h=f.length;g<h;++g){var l=f[g];if(l)return l}return null}function selection_size(){var b=0;this.each(function(){++b});return b}function selection_empty(){return!this.node()}
function selection_each(b){for(var d=this._groups,e=0,f=d.length;e<f;++e)for(var g=d[e],h=0,l=g.length,m;h<l;++h)(m=g[h])&&b.call(m,m.__data__,h,g);return this}function attrRemove$1(b){return function(){this.removeAttribute(b)}}function attrRemoveNS$1(b){return function(){this.removeAttributeNS(b.space,b.local)}}function attrConstant$1(b,d){return function(){this.setAttribute(b,d)}}function attrConstantNS$1(b,d){return function(){this.setAttributeNS(b.space,b.local,d)}}
function attrFunction$1(b,d){return function(){var e=d.apply(this,arguments);null==e?this.removeAttribute(b):this.setAttribute(b,e)}}function attrFunctionNS$1(b,d){return function(){var e=d.apply(this,arguments);null==e?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,e)}}
function selection_attr(b,d){var e=namespace(b);if(2>arguments.length){var f=this.node();return e.local?f.getAttributeNS(e.space,e.local):f.getAttribute(e)}return this.each((null==d?e.local?attrRemoveNS$1:attrRemove$1:"function"===typeof d?e.local?attrFunctionNS$1:attrFunction$1:e.local?attrConstantNS$1:attrConstant$1)(e,d))}function defaultView(b){return b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView}
function styleRemove$1(b){return function(){this.style.removeProperty(b)}}function styleConstant$1(b,d,e){return function(){this.style.setProperty(b,d,e)}}function styleFunction$1(b,d,e){return function(){var f=d.apply(this,arguments);null==f?this.style.removeProperty(b):this.style.setProperty(b,f,e)}}function selection_style(b,d,e){return 1<arguments.length?this.each((null==d?styleRemove$1:"function"===typeof d?styleFunction$1:styleConstant$1)(b,d,null==e?"":e)):styleValue(this.node(),b)}
function styleValue(b,d){return b.style.getPropertyValue(d)||defaultView(b).getComputedStyle(b,null).getPropertyValue(d)}function propertyRemove(b){return function(){delete this[b]}}function propertyConstant(b,d){return function(){this[b]=d}}function propertyFunction(b,d){return function(){var e=d.apply(this,arguments);null==e?delete this[b]:this[b]=e}}
function selection_property(b,d){return 1<arguments.length?this.each((null==d?propertyRemove:"function"===typeof d?propertyFunction:propertyConstant)(b,d)):this.node()[b]}function classArray(b){return b.trim().split(/^|\s+/)}function classList(b){return b.classList||new ClassList(b)}function ClassList(b){this._node=b;this._names=classArray(b.getAttribute("class")||"")}
ClassList.prototype={add:function(b){0>this._names.indexOf(b)&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){b=this._names.indexOf(b);0<=b&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return 0<=this._names.indexOf(b)}};function classedAdd(b,d){b=classList(b);for(var e=-1,f=d.length;++e<f;)b.add(d[e])}
function classedRemove(b,d){b=classList(b);for(var e=-1,f=d.length;++e<f;)b.remove(d[e])}function classedTrue(b){return function(){classedAdd(this,b)}}function classedFalse(b){return function(){classedRemove(this,b)}}function classedFunction(b,d){return function(){(d.apply(this,arguments)?classedAdd:classedRemove)(this,b)}}
function selection_classed(b,d){var e=classArray(b+"");if(2>arguments.length){for(var f=classList(this.node()),g=-1,h=e.length;++g<h;)if(!f.contains(e[g]))return!1;return!0}return this.each(("function"===typeof d?classedFunction:d?classedTrue:classedFalse)(e,d))}function textRemove(){this.textContent=""}function textConstant$1(b){return function(){this.textContent=b}}function textFunction$1(b){return function(){var d=b.apply(this,arguments);this.textContent=null==d?"":d}}
function selection_text(b){return arguments.length?this.each(null==b?textRemove:("function"===typeof b?textFunction$1:textConstant$1)(b)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(b){return function(){this.innerHTML=b}}function htmlFunction(b){return function(){var d=b.apply(this,arguments);this.innerHTML=null==d?"":d}}
function selection_html(b){return arguments.length?this.each(null==b?htmlRemove:("function"===typeof b?htmlFunction:htmlConstant)(b)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}
function selection_append(b){var d="function"===typeof b?b:creator(b);return this.select(function(){return this.appendChild(d.apply(this,arguments))})}function constantNull(){return null}function selection_insert(b,d){var e="function"===typeof b?b:creator(b),f=null==d?constantNull:"function"===typeof d?d:selector(d);return this.select(function(){return this.insertBefore(e.apply(this,arguments),f.apply(this,arguments)||null)})}function remove(){var b=this.parentNode;b&&b.removeChild(this)}
function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var b=this.cloneNode(!1),d=this.parentNode;return d?d.insertBefore(b,this.nextSibling):b}function selection_cloneDeep(){var b=this.cloneNode(!0),d=this.parentNode;return d?d.insertBefore(b,this.nextSibling):b}function selection_clone(b){return this.select(b?selection_cloneDeep:selection_cloneShallow)}function selection_datum(b){return arguments.length?this.property("__data__",b):this.node().__data__}
var filterEvents={},event=null;if("undefined"!==typeof document){var element=document.documentElement;"onmouseenter"in element||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"})}function filterContextListener(b,d,e){b=contextListener(b,d,e);return function(d){var e=d.relatedTarget;e&&(e===this||e.compareDocumentPosition(this)&8)||b.call(this,d)}}function contextListener(b,d,e){return function(f){var g=event;event=f;try{b.call(this,this.__data__,d,e)}finally{event=g}}}
function parseTypenames(b){return b.trim().split(/^|\s+/).map(function(b){var d="",f=b.indexOf(".");0<=f&&(d=b.slice(f+1),b=b.slice(0,f));return{type:b,name:d}})}function onRemove(b){return function(){var d=this.__on;if(d){for(var e=0,f=-1,g=d.length,h;e<g;++e)(h=d[e],b.type&&h.type!==b.type||h.name!==b.name)?d[++f]=h:this.removeEventListener(h.type,h.listener,h.capture);++f?d.length=f:delete this.__on}}}
function onAdd(b,d,e){var f=filterEvents.hasOwnProperty(b.type)?filterContextListener:contextListener;return function(g,h,l){g=this.__on;var m;h=f(d,h,l);if(g){l=0;for(var p=g.length;l<p;++l)if((m=g[l]).type===b.type&&m.name===b.name){this.removeEventListener(m.type,m.listener,m.capture);this.addEventListener(m.type,m.listener=h,m.capture=e);m.value=d;return}}this.addEventListener(b.type,h,e);m={type:b.type,name:b.name,value:d,listener:h,capture:e};g?g.push(m):this.__on=[m]}}
function selection_on(b,d,e){var f=parseTypenames(b+""),g=f.length,h;if(2>arguments.length){var l=this.node().__on;if(l)for(var m=0,p=l.length,n;m<p;++m){var q=0;for(n=l[m];q<g;++q)if((h=f[q]).type===n.type&&h.name===n.name)return n.value}}else{l=d?onAdd:onRemove;null==e&&(e=!1);for(q=0;q<g;++q)this.each(l(f[q],d,e));return this}}function customEvent(b,d,e,f){var g=event;b.sourceEvent=event;event=b;try{return d.apply(e,f)}finally{event=g}}
function dispatchEvent(b,d,e){var f=defaultView(b),g=f.CustomEvent;"function"===typeof g?g=new g(d,e):(g=f.document.createEvent("Event"),e?(g.initEvent(d,e.bubbles,e.cancelable),g.detail=e.detail):g.initEvent(d,!1,!1));b.dispatchEvent(g)}function dispatchConstant(b,d){return function(){return dispatchEvent(this,b,d)}}function dispatchFunction(b,d){return function(){return dispatchEvent(this,b,d.apply(this,arguments))}}
function selection_dispatch(b,d){return this.each(("function"===typeof d?dispatchFunction:dispatchConstant)(b,d))}var root$2=[null];function Selection$1(b,d){this._groups=b;this._parents=d}function selection(){return new Selection$1([[document.documentElement]],root$2)}
Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,
text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch};function select(b){return"string"===typeof b?new Selection$1([[document.querySelector(b)]],[document.documentElement]):new Selection$1([[b]],root$2)}function create$1(b){return select(creator(b).call(document.documentElement))}var nextId=0;
function local$1(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}Local.prototype=local$1.prototype={constructor:Local,get:function(b){for(var d=this._;!(d in b);)if(!(b=b.parentNode))return;return b[d]},set:function(b,d){return b[this._]=d},remove:function(b){return this._ in b&&delete b[this._]},toString:function(){return this._}};function sourceEvent(){for(var b=event,d;d=b.sourceEvent;)b=d;return b}
function point$5(b,d){var e=b.ownerSVGElement||b;if(e.createSVGPoint)return e=e.createSVGPoint(),e.x=d.clientX,e.y=d.clientY,e=e.matrixTransform(b.getScreenCTM().inverse()),[e.x,e.y];e=b.getBoundingClientRect();return[d.clientX-e.left-b.clientLeft,d.clientY-e.top-b.clientTop]}function mouse(b){var d=sourceEvent();d.changedTouches&&(d=d.changedTouches[0]);return point$5(b,d)}
function selectAll(b){return"string"===typeof b?new Selection$1([document.querySelectorAll(b)],[document.documentElement]):new Selection$1([null==b?[]:b],root$2)}function touch(b,d,e){3>arguments.length&&(e=d,d=sourceEvent().changedTouches);for(var f=0,g=d?d.length:0,h;f<g;++f)if((h=d[f]).identifier===e)return point$5(b,h);return null}function touches(b,d){null==d&&(d=sourceEvent().touches);for(var e=0,f=d?d.length:0,g=Array(f);e<f;++e)g[e]=point$5(b,d[e]);return g}
function nopropagation$2(){event.stopImmediatePropagation()}function noevent$2(){event.preventDefault();event.stopImmediatePropagation()}function dragDisable(b){var d=b.document.documentElement;b=select(b).on("dragstart.drag",noevent$2,!0);if("onselectstart"in d)b.on("selectstart.drag",noevent$2,!0);else d.__noselect=d.style.MozUserSelect,d.style.MozUserSelect="none"}
function yesdrag(b,d){var e=b.document.documentElement,f=select(b).on("dragstart.drag",null);d&&(f.on("click.drag",noevent$2,!0),setTimeout(function(){f.on("click.drag",null)},0));if("onselectstart"in e)f.on("selectstart.drag",null);else e.style.MozUserSelect=e.__noselect,delete e.__noselect}function constant$c(b){return function(){return b}}
function DragEvent(b,d,e,f,g,h,l,m,p,n){this.target=b;this.type=d;this.subject=e;this.identifier=f;this.active=g;this.x=h;this.y=l;this.dx=m;this.dy=p;this._=n}DragEvent.prototype.on=function(){var b=this._.on.apply(this._,arguments);return b===this._?this:b};function defaultFilter$2(){return!event.ctrlKey&&!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(b){return null==b?{x:event.x,y:event.y}:b}
function defaultTouchable$2(){return navigator.maxTouchPoints||"ontouchstart"in this}
function drag(){function b(b){b.on("mousedown.drag",d).filter(r).on("touchstart.drag",g).on("touchmove.drag",h).on("touchend.drag touchcancel.drag",l).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!z&&p.apply(this,arguments)){var b=m("mouse",n.apply(this,arguments),mouse,this,arguments);b&&(select(event.view).on("mousemove.drag",e,!0).on("mouseup.drag",f,!0),dragDisable(event.view),nopropagation$2(),H=!1,w=event.clientX,J=event.clientY,b("start"))}}
function e(){noevent$2();if(!H){var b=event.clientX-w,d=event.clientY-J;H=b*b+d*d>I}t.mouse("drag")}function f(){select(event.view).on("mousemove.drag mouseup.drag",null);yesdrag(event.view,H);noevent$2();t.mouse("end")}function g(){if(p.apply(this,arguments)){var b=event.changedTouches,d=n.apply(this,arguments),e=b.length,f,g;for(f=0;f<e;++f)if(g=m(b[f].identifier,d,touch,this,arguments))nopropagation$2(),g("start")}}function h(){var b=event.changedTouches,d=b.length,e,f;for(e=0;e<d;++e)if(f=t[b[e].identifier])noevent$2(),
f("drag")}function l(){var b=event.changedTouches,d=b.length,e,f;z&&clearTimeout(z);z=setTimeout(function(){z=null},500);for(e=0;e<d;++e)if(f=t[b[e].identifier])nopropagation$2(),f("end")}function m(d,e,f,g,h){var n=f(e,d),m,l,p,r=v.copy();if(customEvent(new DragEvent(b,"beforestart",m,d,u,n[0],n[1],0,0,r),function(){if(null==(event.subject=m=q.apply(g,h)))return!1;l=m.x-n[0]||0;p=m.y-n[1]||0;return!0}))return function S(q){var F=n;switch(q){case "start":t[d]=S;var G=u++;break;case "end":delete t[d],
--u;case "drag":n=f(e,d),G=u}customEvent(new DragEvent(b,q,m,d,G,n[0]+l,n[1]+p,n[0]-F[0],n[1]-F[1],r),r.apply,r,[q,g,h])}}var p=defaultFilter$2,n=defaultContainer,q=defaultSubject,r=defaultTouchable$2,t={},v=dispatch("start","drag","end"),u=0,w,J,H,z,I=0;b.filter=function(d){return arguments.length?(p="function"===typeof d?d:constant$c(!!d),b):p};b.container=function(d){return arguments.length?(n="function"===typeof d?d:constant$c(d),b):n};b.subject=function(d){return arguments.length?(q="function"===
typeof d?d:constant$c(d),b):q};b.touchable=function(d){return arguments.length?(r="function"===typeof d?d:constant$c(!!d),b):r};b.on=function(){var d=v.on.apply(v,arguments);return d===v?b:d};b.clickDistance=function(d){return arguments.length?(I=(d=+d)*d,b):Math.sqrt(I)};return b}function define(b,d,e){b.prototype=d.prototype=e;e.constructor=b}function extend(b,d){b=Object.create(b.prototype);for(var e in d)b[e]=d[e];return b}function Color$1(){}
var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+
[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,
darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,
greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,
lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,
palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,
steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color$1,{copy:function(b){return Object.assign(new this.constructor,this,b)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});
function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}
function color$1(b){var d,e;b=(b+"").trim().toLowerCase();return(d=reHex.exec(b))?(e=d[1].length,d=parseInt(d[1],16),6===e?rgbn(d):3===e?new Rgb(d>>8&15|d>>4&240,d>>4&15|d&240,(d&15)<<4|d&15,1):8===e?rgba$2(d>>24&255,d>>16&255,d>>8&255,(d&255)/255):4===e?rgba$2(d>>12&15|d>>8&240,d>>8&15|d>>4&240,d>>4&15|d&240,((d&15)<<4|d&15)/255):null):(d=reRgbInteger.exec(b))?new Rgb(d[1],d[2],d[3],1):(d=reRgbPercent.exec(b))?new Rgb(255*d[1]/100,255*d[2]/100,255*d[3]/100,1):(d=reRgbaInteger.exec(b))?rgba$2(d[1],
d[2],d[3],d[4]):(d=reRgbaPercent.exec(b))?rgba$2(255*d[1]/100,255*d[2]/100,255*d[3]/100,d[4]):(d=reHslPercent.exec(b))?hsla$2(d[1],d[2]/100,d[3]/100,1):(d=reHslaPercent.exec(b))?hsla$2(d[1],d[2]/100,d[3]/100,d[4]):named.hasOwnProperty(b)?rgbn(named[b]):"transparent"===b?new Rgb(NaN,NaN,NaN,0):null}function rgbn(b){return new Rgb(b>>16&255,b>>8&255,b&255,1)}function rgba$2(b,d,e,f){0>=f&&(b=d=e=NaN);return new Rgb(b,d,e,f)}
function rgbConvert(b){b instanceof Color$1||(b=color$1(b));if(!b)return new Rgb;b=b.rgb();return new Rgb(b.r,b.g,b.b,b.opacity)}function rgb$2(b,d,e,f){return 1===arguments.length?rgbConvert(b):new Rgb(b,d,e,null==f?1:f)}function Rgb(b,d,e,f){this.r=+b;this.g=+d;this.b=+e;this.opacity=+f}
define(Rgb,rgb$2,extend(Color$1,{brighter:function(b){b=null==b?brighter:Math.pow(brighter,b);return new Rgb(this.r*b,this.g*b,this.b*b,this.opacity)},darker:function(b){b=null==b?darker:Math.pow(darker,b);return new Rgb(this.r*b,this.g*b,this.b*b,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,
toString:rgb_formatRgb}));function rgb_formatHex(){return"#"+hex$2(this.r)+hex$2(this.g)+hex$2(this.b)}function rgb_formatRgb(){var b=this.opacity;b=isNaN(b)?1:Math.max(0,Math.min(1,b));return(1===b?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===b?")":", "+b+")")}function hex$2(b){b=Math.max(0,Math.min(255,Math.round(b)||0));return(16>b?"0":"")+b.toString(16)}
function hsla$2(b,d,e,f){0>=f?b=d=e=NaN:0>=e||1<=e?b=d=NaN:0>=d&&(b=NaN);return new Hsl(b,d,e,f)}function hslConvert(b){if(b instanceof Hsl)return new Hsl(b.h,b.s,b.l,b.opacity);b instanceof Color$1||(b=color$1(b));if(!b)return new Hsl;if(b instanceof Hsl)return b;b=b.rgb();var d=b.r/255,e=b.g/255,f=b.b/255,g=Math.min(d,e,f),h=Math.max(d,e,f),l=NaN,m=h-g,p=(h+g)/2;m?(l=d===h?(e-f)/m+6*(e<f):e===h?(f-d)/m+2:(d-e)/m+4,m/=.5>p?h+g:2-h-g,l*=60):m=0<p&&1>p?0:l;return new Hsl(l,m,p,b.opacity)}
function hsl$4(b,d,e,f){return 1===arguments.length?hslConvert(b):new Hsl(b,d,e,null==f?1:f)}function Hsl(b,d,e,f){this.h=+b;this.s=+d;this.l=+e;this.opacity=+f}
define(Hsl,hsl$4,extend(Color$1,{brighter:function(b){b=null==b?brighter:Math.pow(brighter,b);return new Hsl(this.h,this.s,this.l*b,this.opacity)},darker:function(b){b=null==b?darker:Math.pow(darker,b);return new Hsl(this.h,this.s,this.l*b,this.opacity)},rgb:function(){var b=this.h%360+360*(0>this.h),d=isNaN(b)||isNaN(this.s)?0:this.s,e=this.l;d=e+(.5>e?e:1-e)*d;e=2*e-d;return new Rgb(hsl2rgb(240<=b?b-240:b+120,e,d),hsl2rgb(b,e,d),hsl2rgb(120>b?b+240:b-120,e,d),this.opacity)},displayable:function(){return(0<=
this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var b=this.opacity;b=isNaN(b)?1:Math.max(0,Math.min(1,b));return(1===b?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===b?")":", "+b+")")}}));function hsl2rgb(b,d,e){return 255*(60>b?d+(e-d)*b/60:180>b?e:240>b?d+(e-d)*(240-b)/60:d)}var deg2rad=Math.PI/180,rad2deg=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;
function labConvert(b){if(b instanceof Lab)return new Lab(b.l,b.a,b.b,b.opacity);if(b instanceof Hcl)return hcl2lab(b);b instanceof Rgb||(b=rgbConvert(b));var d=rgb2lrgb(b.r),e=rgb2lrgb(b.g),f=rgb2lrgb(b.b),g=xyz2lab((.2225045*d+.7168786*e+.0606169*f)/Yn);if(d===e&&e===f)var h=d=g;else h=xyz2lab((.4360747*d+.3850649*e+.1430804*f)/Xn),d=xyz2lab((.0139322*d+.0971045*e+.7141733*f)/Zn);return new Lab(116*g-16,500*(h-g),200*(g-d),b.opacity)}function gray(b,d){return new Lab(b,0,0,null==d?1:d)}
function lab$1(b,d,e,f){return 1===arguments.length?labConvert(b):new Lab(b,d,e,null==f?1:f)}function Lab(b,d,e,f){this.l=+b;this.a=+d;this.b=+e;this.opacity=+f}
define(Lab,lab$1,extend(Color$1,{brighter:function(b){return new Lab(this.l+K*(null==b?1:b),this.a,this.b,this.opacity)},darker:function(b){return new Lab(this.l-K*(null==b?1:b),this.a,this.b,this.opacity)},rgb:function(){var b=(this.l+16)/116,d=isNaN(this.a)?b:b+this.a/500,e=isNaN(this.b)?b:b-this.b/200;d=Xn*lab2xyz(d);b=Yn*lab2xyz(b);e=Zn*lab2xyz(e);return new Rgb(lrgb2rgb(3.1338561*d-1.6168667*b-.4906146*e),lrgb2rgb(-.9787684*d+1.9161415*b+.033454*e),lrgb2rgb(.0719453*d-.2289914*b+1.4052427*e),
this.opacity)}}));function xyz2lab(b){return b>t3?Math.pow(b,1/3):b/t2+t0$1}function lab2xyz(b){return b>t1$1?b*b*b:t2*(b-t0$1)}function lrgb2rgb(b){return 255*(.0031308>=b?12.92*b:1.055*Math.pow(b,1/2.4)-.055)}function rgb2lrgb(b){return.04045>=(b/=255)?b/12.92:Math.pow((b+.055)/1.055,2.4)}
function hclConvert(b){if(b instanceof Hcl)return new Hcl(b.h,b.c,b.l,b.opacity);b instanceof Lab||(b=labConvert(b));if(0===b.a&&0===b.b)return new Hcl(NaN,0<b.l&&100>b.l?0:NaN,b.l,b.opacity);var d=Math.atan2(b.b,b.a)*rad2deg;return new Hcl(0>d?d+360:d,Math.sqrt(b.a*b.a+b.b*b.b),b.l,b.opacity)}function lch(b,d,e,f){return 1===arguments.length?hclConvert(b):new Hcl(e,d,b,null==f?1:f)}function hcl$2(b,d,e,f){return 1===arguments.length?hclConvert(b):new Hcl(b,d,e,null==f?1:f)}
function Hcl(b,d,e,f){this.h=+b;this.c=+d;this.l=+e;this.opacity=+f}function hcl2lab(b){if(isNaN(b.h))return new Lab(b.l,0,0,b.opacity);var d=b.h*deg2rad;return new Lab(b.l,Math.cos(d)*b.c,Math.sin(d)*b.c,b.opacity)}define(Hcl,hcl$2,extend(Color$1,{brighter:function(b){return new Hcl(this.h,this.c,this.l+K*(null==b?1:b),this.opacity)},darker:function(b){return new Hcl(this.h,this.c,this.l-K*(null==b?1:b),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));
var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(b){if(b instanceof Cubehelix)return new Cubehelix(b.h,b.s,b.l,b.opacity);b instanceof Rgb||(b=rgbConvert(b));var d=b.g/255,e=b.b/255,f=(BC_DA*e+b.r/255*ED-EB*d)/(BC_DA+ED-EB);e-=f;var g=(E*(d-f)-C*e)/D;e=(d=Math.sqrt(g*g+e*e)/(E*f*(1-f)))?Math.atan2(g,e)*rad2deg-120:NaN;return new Cubehelix(0>e?e+360:e,d,f,b.opacity)}
function cubehelix$3(b,d,e,f){return 1===arguments.length?cubehelixConvert(b):new Cubehelix(b,d,e,null==f?1:f)}function Cubehelix(b,d,e,f){this.h=+b;this.s=+d;this.l=+e;this.opacity=+f}
define(Cubehelix,cubehelix$3,extend(Color$1,{brighter:function(b){b=null==b?brighter:Math.pow(brighter,b);return new Cubehelix(this.h,this.s,this.l*b,this.opacity)},darker:function(b){b=null==b?darker:Math.pow(darker,b);return new Cubehelix(this.h,this.s,this.l*b,this.opacity)},rgb:function(){var b=isNaN(this.h)?0:(this.h+120)*deg2rad,d=+this.l,e=isNaN(this.s)?0:this.s*d*(1-d),f=Math.cos(b);b=Math.sin(b);return new Rgb(255*(d+e*(A*f+B*b)),255*(d+e*(C*f+D*b)),255*(d+e*E*f),this.opacity)}}));
function basis$1(b,d,e,f,g){var h=b*b,l=h*b;return((1-3*b+3*h-l)*d+(4-6*h+3*l)*e+(1+3*b+3*h-3*l)*f+l*g)/6}function basis$2(b){var d=b.length-1;return function(e){var f=0>=e?e=0:1<=e?(e=1,d-1):Math.floor(e*d),g=b[f],h=b[f+1];return basis$1((e-f/d)*d,0<f?b[f-1]:2*g-h,g,h,f<d-1?b[f+2]:2*h-g)}}function basisClosed$1(b){var d=b.length;return function(e){var f=Math.floor((0>(e%=1)?++e:e)*d);return basis$1((e-f/d)*d,b[(f+d-1)%d],b[f%d],b[(f+1)%d],b[(f+2)%d])}}
function constant$b(b){return function(){return b}}function linear$2(b,d){return function(e){return b+e*d}}function exponential$1(b,d,e){return b=Math.pow(b,e),d=Math.pow(d,e)-b,e=1/e,function(f){return Math.pow(b+f*d,e)}}function hue$3(b,d){var e=d-b;return e?linear$2(b,180<e||-180>e?e-360*Math.round(e/360):e):constant$b(isNaN(b)?d:b)}function gamma(b){return 1===(b=+b)?nogamma:function(d,e){return e-d?exponential$1(d,e,b):constant$b(isNaN(d)?e:d)}}
function nogamma(b,d){var e=d-b;return e?linear$2(b,e):constant$b(isNaN(b)?d:b)}var interpolateRgb=function rgbGamma(b){function e(b,e){var g=f((b=rgb$2(b)).r,(e=rgb$2(e)).r),h=f(b.g,e.g),p=f(b.b,e.b),n=nogamma(b.opacity,e.opacity);return function(e){b.r=g(e);b.g=h(e);b.b=p(e);b.opacity=n(e);return b+""}}var f=gamma(b);e.gamma=rgbGamma;return e}(1);
function rgbSpline(b){return function(d){var e=d.length,f=Array(e),g=Array(e),h=Array(e),l;for(l=0;l<e;++l){var m=rgb$2(d[l]);f[l]=m.r||0;g[l]=m.g||0;h[l]=m.b||0}f=b(f);g=b(g);h=b(h);m.opacity=1;return function(b){m.r=f(b);m.g=g(b);m.b=h(b);return m+""}}}var rgbBasis=rgbSpline(basis$2),rgbBasisClosed=rgbSpline(basisClosed$1);function numberArray(b,d){d||(d=[]);var e=b?Math.min(d.length,b.length):0,f=d.slice(),g;return function(h){for(g=0;g<e;++g)f[g]=b[g]*(1-h)+d[g]*h;return f}}
function isNumberArray(b){return ArrayBuffer.isView(b)&&!(b instanceof DataView)}function array$2(b,d){return(isNumberArray(d)?numberArray:genericArray)(b,d)}function genericArray(b,d){var e=d?d.length:0,f=b?Math.min(e,b.length):0,g=Array(f),h=Array(e),l;for(l=0;l<f;++l)g[l]=interpolateValue(b[l],d[l]);for(;l<e;++l)h[l]=d[l];return function(b){for(l=0;l<f;++l)h[l]=g[l](b);return h}}function date$1(b,d){var e=new Date;return b=+b,d=+d,function(f){return e.setTime(b*(1-f)+d*f),e}}
function interpolateNumber(b,d){return b=+b,d=+d,function(e){return b*(1-e)+d*e}}function object$1(b,d){var e={},f={},g;if(null===b||"object"!==typeof b)b={};if(null===d||"object"!==typeof d)d={};for(g in d)g in b?e[g]=interpolateValue(b[g],d[g]):f[g]=d[g];return function(b){for(g in e)f[g]=e[g](b);return f}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(b){return function(){return b}}function one(b){return function(d){return b(d)+""}}
function interpolateString(b,d){var e=reA.lastIndex=reB.lastIndex=0,f,g,h,l=-1,m=[],p=[];b+="";for(d+="";(f=reA.exec(b))&&(g=reB.exec(d));)(h=g.index)>e&&(h=d.slice(e,h),m[l]?m[l]+=h:m[++l]=h),(f=f[0])===(g=g[0])?m[l]?m[l]+=g:m[++l]=g:(m[++l]=null,p.push({i:l,x:interpolateNumber(f,g)})),e=reB.lastIndex;e<d.length&&(h=d.slice(e),m[l]?m[l]+=h:m[++l]=h);return 2>m.length?p[0]?one(p[0].x):zero(d):(d=p.length,function(b){for(var e=0,f;e<d;++e)m[(f=p[e]).i]=f.x(b);return m.join("")})}
function interpolateValue(b,d){var e=typeof d,f;return null==d||"boolean"===e?constant$b(d):("number"===e?interpolateNumber:"string"===e?(f=color$1(d))?(d=f,interpolateRgb):interpolateString:d instanceof color$1?interpolateRgb:d instanceof Date?date$1:isNumberArray(d)?numberArray:Array.isArray(d)?genericArray:"function"!==typeof d.valueOf&&"function"!==typeof d.toString||isNaN(d)?object$1:interpolateNumber)(b,d)}
function discrete(b){var d=b.length;return function(e){return b[Math.max(0,Math.min(d-1,Math.floor(e*d)))]}}function hue$2(b,d){var e=hue$3(+b,+d);return function(b){b=e(b);return b-360*Math.floor(b/360)}}function interpolateRound(b,d){return b=+b,d=+d,function(e){return Math.round(b*(1-e)+d*e)}}var degrees$1=180/Math.PI,identity$8={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};
function decompose(b,d,e,f,g,h){var l,m,p;if(l=Math.sqrt(b*b+d*d))b/=l,d/=l;if(p=b*e+d*f)e-=b*p,f-=d*p;if(m=Math.sqrt(e*e+f*f))e/=m,f/=m,p/=m;b*f<d*e&&(b=-b,d=-d,p=-p,l=-l);return{translateX:g,translateY:h,rotate:Math.atan2(d,b)*degrees$1,skewX:Math.atan(p)*degrees$1,scaleX:l,scaleY:m}}var cssNode,cssRoot,cssView,svgNode;
function parseCss(b){if("none"===b)return identity$8;cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView);cssNode.style.transform=b;b=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform");cssRoot.removeChild(cssNode);b=b.slice(7,-1).split(",");return decompose(+b[0],+b[1],+b[2],+b[3],+b[4],+b[5])}
function parseSvg(b){if(null==b)return identity$8;svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g"));svgNode.setAttribute("transform",b);if(!(b=svgNode.transform.baseVal.consolidate()))return identity$8;b=b.matrix;return decompose(b.a,b.b,b.c,b.d,b.e,b.f)}
function interpolateTransform(b,d,e,f){function g(b){return b.length?b.pop()+" ":""}function h(b,f,g,h,m,l){b!==g||f!==h?(m=m.push("translate(",null,d,null,e),l.push({i:m-4,x:interpolateNumber(b,g)},{i:m-2,x:interpolateNumber(f,h)})):(g||h)&&m.push("translate("+g+d+h+e)}function l(b,d,e,h){b!==d?(180<b-d?d+=360:180<d-b&&(b+=360),h.push({i:e.push(g(e)+"rotate(",null,f)-2,x:interpolateNumber(b,d)})):d&&e.push(g(e)+"rotate("+d+f)}function m(b,d,e,h){b!==d?h.push({i:e.push(g(e)+"skewX(",null,f)-2,x:interpolateNumber(b,
d)}):d&&e.push(g(e)+"skewX("+d+f)}function p(b,d,e,f,h,m){b!==e||d!==f?(h=h.push(g(h)+"scale(",null,",",null,")"),m.push({i:h-4,x:interpolateNumber(b,e)},{i:h-2,x:interpolateNumber(d,f)})):1===e&&1===f||h.push(g(h)+"scale("+e+","+f+")")}return function(d,e){var f=[],g=[];d=b(d);e=b(e);h(d.translateX,d.translateY,e.translateX,e.translateY,f,g);l(d.rotate,e.rotate,f,g);m(d.skewX,e.skewX,f,g);p(d.scaleX,d.scaleY,e.scaleX,e.scaleY,f,g);d=e=null;return function(b){for(var d=-1,e=g.length,h;++d<e;)f[(h=
g[d]).i]=h.x(b);return f.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),rho=Math.SQRT2,rho2=2,rho4=4,epsilon2$2=1E-12;function cosh(b){return((b=Math.exp(b))+1/b)/2}function sinh(b){return((b=Math.exp(b))-1/b)/2}function tanh(b){return((b=Math.exp(2*b))-1)/(b+1)}
function interpolateZoom(b,d){var e=b[0],f=b[1],g=b[2];b=d[2];var h=d[0]-e,l=d[1]-f,m=h*h+l*l;if(m<epsilon2$2){var p=Math.log(b/g)/rho;b=function(b){return[e+b*h,f+b*l,g*Math.exp(rho*b*p)]}}else{var n=Math.sqrt(m);d=(b*b-g*g+rho4*m)/(2*g*rho2*n);b=(b*b-g*g-rho4*m)/(2*b*rho2*n);var q=Math.log(Math.sqrt(d*d+1)-d);p=(Math.log(Math.sqrt(b*b+1)-b)-q)/rho;b=function(b){b*=p;var d=cosh(q),m=g/(rho2*n)*(d*tanh(rho*b+q)-sinh(q));return[e+m*h,f+m*l,g*d/cosh(rho*b+q)]}}b.duration=1E3*p;return b}
function hsl$2(b){return function(d,e){var f=b((d=hsl$4(d)).h,(e=hsl$4(e)).h),g=nogamma(d.s,e.s),h=nogamma(d.l,e.l),l=nogamma(d.opacity,e.opacity);return function(b){d.h=f(b);d.s=g(b);d.l=h(b);d.opacity=l(b);return d+""}}}var hsl$3=hsl$2(hue$3),hslLong=hsl$2(nogamma);function lab(b,d){var e=nogamma((b=lab$1(b)).l,(d=lab$1(d)).l),f=nogamma(b.a,d.a),g=nogamma(b.b,d.b),h=nogamma(b.opacity,d.opacity);return function(d){b.l=e(d);b.a=f(d);b.b=g(d);b.opacity=h(d);return b+""}}
function hcl(b){return function(d,e){var f=b((d=hcl$2(d)).h,(e=hcl$2(e)).h),g=nogamma(d.c,e.c),h=nogamma(d.l,e.l),l=nogamma(d.opacity,e.opacity);return function(b){d.h=f(b);d.c=g(b);d.l=h(b);d.opacity=l(b);return d+""}}}var hcl$1=hcl(hue$3),hclLong=hcl(nogamma);
function cubehelix$1(b){return function f(e){function g(f,g){var h=b((f=cubehelix$3(f)).h,(g=cubehelix$3(g)).h),l=nogamma(f.s,g.s),n=nogamma(f.l,g.l),q=nogamma(f.opacity,g.opacity);return function(b){f.h=h(b);f.s=l(b);f.l=n(Math.pow(b,e));f.opacity=q(b);return f+""}}e=+e;g.gamma=f;return g}(1)}var cubehelix$2=cubehelix$1(hue$3),cubehelixLong=cubehelix$1(nogamma);
function piecewise(b,d){for(var e=0,f=d.length-1,g=d[0],h=Array(0>f?0:f);e<f;)h[e]=b(g,g=d[++e]);return function(b){var d=Math.max(0,Math.min(f-1,Math.floor(b*=f)));return h[d](b-d)}}function quantize$1(b,d){for(var e=Array(d),f=0;f<d;++f)e[f]=b(f/(d-1));return e}
var frame=0,timeout$1=0,interval$1=0,pokeDelay=1E3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock="object"===typeof performance&&performance.now?performance:Date,setFrame="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(b){setTimeout(b,17)};function now$1(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}
Timer.prototype=timer.prototype={constructor:Timer,restart:function(b,d,e){if("function"!==typeof b)throw new TypeError("callback is not a function");e=(null==e?now$1():+e)+(null==d?0:+d);this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this);this._call=b;this._time=e;sleep()},stop:function(){this._call&&(this._call=null,this._time=Infinity,sleep())}};function timer(b,d,e){var f=new Timer;f.restart(b,d,e);return f}
function timerFlush(){now$1();++frame;for(var b=taskHead,d;b;)0<=(d=clockNow-b._time)&&b._call.call(null,d),b=b._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew;frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var b=clock.now(),d=b-clockLast;d>pokeDelay&&(clockSkew-=d,clockLast=b)}
function nap(){for(var b,d=taskHead,e,f=Infinity;d;)d._call?(f>d._time&&(f=d._time),b=d,d=d._next):(e=d._next,d._next=null,d=b?b._next=e:taskHead=e);taskTail=b;sleep(f)}function sleep(b){frame||(timeout$1&&(timeout$1=clearTimeout(timeout$1)),24<b-clockNow?(Infinity>b&&(timeout$1=setTimeout(wake,b-clock.now()-clockSkew)),interval$1&&(interval$1=clearInterval(interval$1))):(interval$1||(clockLast=clock.now(),interval$1=setInterval(poke,pokeDelay)),frame=1,setFrame(wake)))}
function timeout(b,d,e){var f=new Timer;d=null==d?0:+d;f.restart(function(e){f.stop();b(e+d)},d,e);return f}function interval(b,d,e){var f=new Timer,g=d;if(null==d)return f.restart(b,d,e),f;d=+d;e=null==e?now$1():+e;f.restart(function m(l){l+=g;f.restart(m,g+=d,e);b(l)},d,e);return f}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;
function schedule(b,d,e,f,g,h){var l=b.__transition;if(!l)b.__transition={};else if(e in l)return;create(b,e,{name:d,index:f,group:g,on:emptyOn,tween:emptyTween,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:CREATED})}function init(b,d){b=get$1(b,d);if(b.state>CREATED)throw Error("too late; already scheduled");return b}function set$1(b,d){b=get$1(b,d);if(b.state>STARTED)throw Error("too late; already running");return b}
function get$1(b,d){b=b.__transition;if(!b||!(b=b[d]))throw Error("transition not found");return b}
function create(b,d,e){function f(p){var n,q;if(e.state!==SCHEDULED)return h();for(t in l){var r=l[t];if(r.name===e.name){if(r.state===STARTED)return timeout(f);r.state===RUNNING?(r.state=ENDED,r.timer.stop(),r.on.call("interrupt",b,b.__data__,r.index,r.group),delete l[t]):+t<d&&(r.state=ENDED,r.timer.stop(),r.on.call("cancel",b,b.__data__,r.index,r.group),delete l[t])}}timeout(function(){e.state===STARTED&&(e.state=RUNNING,e.timer.restart(g,e.delay,e.time),g(p))});e.state=STARTING;e.on.call("start",
b,b.__data__,e.index,e.group);if(e.state===STARTING){e.state=STARTED;m=Array(q=e.tween.length);var t=0;for(n=-1;t<q;++t)if(r=e.tween[t].value.call(b,b.__data__,e.index,e.group))m[++n]=r;m.length=n+1}}function g(d){d=d<e.duration?e.ease.call(null,d/e.duration):(e.timer.restart(h),e.state=ENDING,1);for(var f=-1,g=m.length;++f<g;)m[f].call(b,d);e.state===ENDING&&(e.on.call("end",b,b.__data__,e.index,e.group),h())}function h(){e.state=ENDED;e.timer.stop();delete l[d];for(var f in l)return;delete b.__transition}
var l=b.__transition,m;l[d]=e;e.timer=timer(function(b){e.state=SCHEDULED;e.timer.restart(f,e.delay,e.time);e.delay<=b&&f(b-e.delay)},0,e.time)}function interrupt(b,d){var e=b.__transition,f,g=!0,h;if(e){d=null==d?null:d+"";for(h in e)if((f=e[h]).name!==d)g=!1;else{var l=f.state>STARTING&&f.state<ENDING;f.state=ENDED;f.timer.stop();f.on.call(l?"interrupt":"cancel",b,b.__data__,f.index,f.group);delete e[h]}g&&delete b.__transition}}
function selection_interrupt(b){return this.each(function(){interrupt(this,b)})}function tweenRemove(b,d){var e,f;return function(){var g=set$1(this,b),h=g.tween;if(h!==e){f=e=h;h=0;for(var l=f.length;h<l;++h)if(f[h].name===d){f=f.slice();f.splice(h,1);break}}g.tween=f}}
function tweenFunction(b,d,e){var f,g;if("function"!==typeof e)throw Error();return function(){var h=set$1(this,b),l=h.tween;if(l!==f){g=(f=l).slice();l={name:d,value:e};for(var m=0,p=g.length;m<p;++m)if(g[m].name===d){g[m]=l;break}m===p&&g.push(l)}h.tween=g}}
function transition_tween(b,d){var e=this._id;b+="";if(2>arguments.length){e=get$1(this.node(),e).tween;for(var f=0,g=e.length,h;f<g;++f)if((h=e[f]).name===b)return h.value;return null}return this.each((null==d?tweenRemove:tweenFunction)(e,b,d))}function tweenValue(b,d,e){var f=b._id;b.each(function(){var b=set$1(this,f);(b.value||(b.value={}))[d]=e.apply(this,arguments)});return function(b){return get$1(b,f).value[d]}}
function interpolate$1(b,d){var e;return("number"===typeof d?interpolateNumber:d instanceof color$1?interpolateRgb:(e=color$1(d))?(d=e,interpolateRgb):interpolateString)(b,d)}function attrRemove(b){return function(){this.removeAttribute(b)}}function attrRemoveNS(b){return function(){this.removeAttributeNS(b.space,b.local)}}function attrConstant(b,d,e){var f,g=e+"",h;return function(){var l=this.getAttribute(b);return l===g?null:l===f?h:h=d(f=l,e)}}
function attrConstantNS(b,d,e){var f,g=e+"",h;return function(){var l=this.getAttributeNS(b.space,b.local);return l===g?null:l===f?h:h=d(f=l,e)}}function attrFunction(b,d,e){var f,g,h;return function(){var l=e(this);if(null==l)return void this.removeAttribute(b);var m=this.getAttribute(b);var p=l+"";return m===p?null:m===f&&p===g?h:(g=p,h=d(f=m,l))}}
function attrFunctionNS(b,d,e){var f,g,h;return function(){var l=e(this);if(null==l)return void this.removeAttributeNS(b.space,b.local);var m=this.getAttributeNS(b.space,b.local);var p=l+"";return m===p?null:m===f&&p===g?h:(g=p,h=d(f=m,l))}}
function transition_attr(b,d){var e=namespace(b),f="transform"===e?interpolateTransformSvg:interpolate$1;return this.attrTween(b,"function"===typeof d?(e.local?attrFunctionNS:attrFunction)(e,f,tweenValue(this,"attr."+b,d)):null==d?(e.local?attrRemoveNS:attrRemove)(e):(e.local?attrConstantNS:attrConstant)(e,f,d))}function attrInterpolate(b,d){return function(e){this.setAttribute(b,d.call(this,e))}}
function attrInterpolateNS(b,d){return function(e){this.setAttributeNS(b.space,b.local,d.call(this,e))}}function attrTweenNS(b,d){function e(){var e=d.apply(this,arguments);e!==g&&(f=(g=e)&&attrInterpolateNS(b,e));return f}var f,g;e._value=d;return e}function attrTween(b,d){function e(){var e=d.apply(this,arguments);e!==g&&(f=(g=e)&&attrInterpolate(b,e));return f}var f,g;e._value=d;return e}
function transition_attrTween(b,d){var e="attr."+b;if(2>arguments.length)return(e=this.tween(e))&&e._value;if(null==d)return this.tween(e,null);if("function"!==typeof d)throw Error();var f=namespace(b);return this.tween(e,(f.local?attrTweenNS:attrTween)(f,d))}function delayFunction(b,d){return function(){init(this,b).delay=+d.apply(this,arguments)}}function delayConstant(b,d){return d=+d,function(){init(this,b).delay=d}}
function transition_delay(b){var d=this._id;return arguments.length?this.each(("function"===typeof b?delayFunction:delayConstant)(d,b)):get$1(this.node(),d).delay}function durationFunction(b,d){return function(){set$1(this,b).duration=+d.apply(this,arguments)}}function durationConstant(b,d){return d=+d,function(){set$1(this,b).duration=d}}
function transition_duration(b){var d=this._id;return arguments.length?this.each(("function"===typeof b?durationFunction:durationConstant)(d,b)):get$1(this.node(),d).duration}function easeConstant(b,d){if("function"!==typeof d)throw Error();return function(){set$1(this,b).ease=d}}function transition_ease(b){var d=this._id;return arguments.length?this.each(easeConstant(d,b)):get$1(this.node(),d).ease}
function transition_filter(b){"function"!==typeof b&&(b=matcher(b));for(var d=this._groups,e=d.length,f=Array(e),g=0;g<e;++g)for(var h=d[g],l=h.length,m=f[g]=[],p,n=0;n<l;++n)(p=h[n])&&b.call(p,p.__data__,n,h)&&m.push(p);return new Transition(f,this._parents,this._name,this._id)}
function transition_merge(b){if(b._id!==this._id)throw Error();var d=this._groups;b=b._groups;for(var e=d.length,f=Math.min(e,b.length),g=Array(e),h=0;h<f;++h)for(var l=d[h],m=b[h],p=l.length,n=g[h]=Array(p),q,r=0;r<p;++r)if(q=l[r]||m[r])n[r]=q;for(;h<e;++h)g[h]=d[h];return new Transition(g,this._parents,this._name,this._id)}function start(b){return(b+"").trim().split(/^|\s+/).every(function(b){var d=b.indexOf(".");0<=d&&(b=b.slice(0,d));return!b||"start"===b})}
function onFunction(b,d,e){var f,g,h=start(d)?init:set$1;return function(){var l=h(this,b),m=l.on;if(m!==f)(g=(f=m).copy()).on(d,e);l.on=g}}function transition_on(b,d){var e=this._id;return 2>arguments.length?get$1(this.node(),e).on.on(b):this.each(onFunction(e,b,d))}function removeFunction(b){return function(){var d=this.parentNode,e;for(e in this.__transition)if(+e!==b)return;d&&d.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}
function transition_select(b){var d=this._name,e=this._id;"function"!==typeof b&&(b=selector(b));for(var f=this._groups,g=f.length,h=Array(g),l=0;l<g;++l)for(var m=f[l],p=m.length,n=h[l]=Array(p),q,r,t=0;t<p;++t)(q=m[t])&&(r=b.call(q,q.__data__,t,m))&&("__data__"in q&&(r.__data__=q.__data__),n[t]=r,schedule(n[t],d,e,t,n,get$1(q,e)));return new Transition(h,this._parents,d,e)}
function transition_selectAll(b){var d=this._name,e=this._id;"function"!==typeof b&&(b=selectorAll(b));for(var f=this._groups,g=f.length,h=[],l=[],m=0;m<g;++m)for(var p=f[m],n=p.length,q,r=0;r<n;++r)if(q=p[r]){for(var t=b.call(q,q.__data__,r,p),v,u=get$1(q,e),w=0,J=t.length;w<J;++w)(v=t[w])&&schedule(v,d,e,w,t,u);h.push(t);l.push(q)}return new Transition(h,l,d,e)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}
function styleNull(b,d){var e,f,g;return function(){var h=styleValue(this,b),l=(this.style.removeProperty(b),styleValue(this,b));return h===l?null:h===e&&l===f?g:g=d(e=h,f=l)}}function styleRemove(b){return function(){this.style.removeProperty(b)}}function styleConstant(b,d,e){var f,g=e+"",h;return function(){var l=styleValue(this,b);return l===g?null:l===f?h:h=d(f=l,e)}}
function styleFunction(b,d,e){var f,g,h;return function(){var l=styleValue(this,b),m=e(this),p=m+"";null==m&&(p=m=(this.style.removeProperty(b),styleValue(this,b)));return l===p?null:l===f&&p===g?h:(g=p,h=d(f=l,m))}}function styleMaybeRemove(b,d){var e,f,g,h="style."+d,l="end."+h,m;return function(){var p=set$1(this,b),n=p.on,q=null==p.value[h]?m||(m=styleRemove(d)):void 0;if(n!==e||g!==q)(f=(e=n).copy()).on(l,g=q);p.on=f}}
function transition_style(b,d,e){var f="transform"===(b+="")?interpolateTransformCss:interpolate$1;return null==d?this.styleTween(b,styleNull(b,f)).on("end.style."+b,styleRemove(b)):"function"===typeof d?this.styleTween(b,styleFunction(b,f,tweenValue(this,"style."+b,d))).each(styleMaybeRemove(this._id,b)):this.styleTween(b,styleConstant(b,f,d),e).on("end.style."+b,null)}function styleInterpolate(b,d,e){return function(f){this.style.setProperty(b,d.call(this,f),e)}}
function styleTween(b,d,e){function f(){var f=d.apply(this,arguments);f!==h&&(g=(h=f)&&styleInterpolate(b,f,e));return g}var g,h;f._value=d;return f}function transition_styleTween(b,d,e){var f="style."+(b+="");if(2>arguments.length)return(f=this.tween(f))&&f._value;if(null==d)return this.tween(f,null);if("function"!==typeof d)throw Error();return this.tween(f,styleTween(b,d,null==e?"":e))}function textConstant(b){return function(){this.textContent=b}}
function textFunction(b){return function(){var d=b(this);this.textContent=null==d?"":d}}function transition_text(b){return this.tween("text","function"===typeof b?textFunction(tweenValue(this,"text",b)):textConstant(null==b?"":b+""))}function textInterpolate(b){return function(d){this.textContent=b.call(this,d)}}function textTween(b){function d(){var d=b.apply(this,arguments);d!==f&&(e=(f=d)&&textInterpolate(d));return e}var e,f;d._value=b;return d}
function transition_textTween(b){var d="text";if(1>arguments.length)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!==typeof b)throw Error();return this.tween(d,textTween(b))}
function transition_transition(){for(var b=this._name,d=this._id,e=newId(),f=this._groups,g=f.length,h=0;h<g;++h)for(var l=f[h],m=l.length,p,n=0;n<m;++n)if(p=l[n]){var q=get$1(p,d);schedule(p,b,e,n,l,{time:q.time+q.delay+q.duration,delay:0,duration:q.duration,ease:q.ease})}return new Transition(f,this._parents,b,e)}
function transition_end(){var b,d,e=this,f=e._id,g=e.size();return new Promise(function(h,l){var m={value:l},p={value:function(){0===--g&&h()}};e.each(function(){var e=set$1(this,f),g=e.on;g!==b&&(d=(b=g).copy(),d._.cancel.push(m),d._.interrupt.push(m),d._.end.push(p));e.on=d})})}var id=0;function Transition(b,d,e,f){this._groups=b;this._parents=d;this._name=e;this._id=f}function transition(b){return selection().transition(b)}function newId(){return++id}var selection_prototype=selection.prototype;
Transition.prototype=transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,
styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,end:transition_end};function linear$1(b){return+b}function quadIn(b){return b*b}function quadOut(b){return b*(2-b)}function quadInOut(b){return(1>=(b*=2)?b*b:--b*(2-b)+1)/2}function cubicIn(b){return b*b*b}function cubicOut(b){return--b*b*b+1}
function cubicInOut(b){return(1>=(b*=2)?b*b*b:(b-=2)*b*b+2)/2}var exponent$1=3,polyIn=function custom(b){function e(e){return Math.pow(e,b)}b=+b;e.exponent=custom;return e}(exponent$1),polyOut=function custom(b){function e(e){return 1-Math.pow(1-e,b)}b=+b;e.exponent=custom;return e}(exponent$1),polyInOut=function custom(b){function e(e){return(1>=(e*=2)?Math.pow(e,b):2-Math.pow(2-e,b))/2}b=+b;e.exponent=custom;return e}(exponent$1),pi$4=Math.PI,halfPi$3=pi$4/2;
function sinIn(b){return 1===+b?1:1-Math.cos(b*halfPi$3)}function sinOut(b){return Math.sin(b*halfPi$3)}function sinInOut(b){return(1-Math.cos(pi$4*b))/2}function tpmt(b){return 1.0009775171065494*(Math.pow(2,-10*b)-9.765625E-4)}function expIn(b){return tpmt(1-+b)}function expOut(b){return 1-tpmt(b)}function expInOut(b){return(1>=(b*=2)?tpmt(1-b):2-tpmt(b-1))/2}function circleIn(b){return 1-Math.sqrt(1-b*b)}function circleOut(b){return Math.sqrt(1- --b*b)}
function circleInOut(b){return(1>=(b*=2)?1-Math.sqrt(1-b*b):Math.sqrt(1-(b-=2)*b)+1)/2}var b1=4/11,b2=6/11,b3=8/11,b4=.75,b5=9/11,b6=10/11,b7=.9375,b8=21/22,b9=.984375,b0=1/b1/b1;function bounceIn(b){return 1-bounceOut(1-b)}function bounceOut(b){return(b=+b)<b1?b0*b*b:b<b3?b0*(b-=b2)*b+b4:b<b6?b0*(b-=b5)*b+b7:b0*(b-=b8)*b+b9}function bounceInOut(b){return(1>=(b*=2)?1-bounceOut(1-b):bounceOut(b-1)+1)/2}
var overshoot=1.70158,backIn=function custom(b){function e(e){return(e=+e)*e*(b*(e-1)+e)}b=+b;e.overshoot=custom;return e}(overshoot),backOut=function custom(b){function e(e){return--e*e*((e+1)*b+e)+1}b=+b;e.overshoot=custom;return e}(overshoot),backInOut=function custom(b){function e(e){return(1>(e*=2)?e*e*((b+1)*e-b):(e-=2)*e*((b+1)*e+b)+2)/2}b=+b;e.overshoot=custom;return e}(overshoot),tau$4=2*Math.PI,amplitude=1,period=.3,elasticIn=function custom(b,d){function f(f){return b*tpmt(- --f)*Math.sin((g-
f)/d)}var g=Math.asin(1/(b=Math.max(1,b)))*(d/=tau$4);f.amplitude=function(b){return custom(b,d*tau$4)};f.period=function(d){return custom(b,d)};return f}(amplitude,period),elasticOut=function custom(b,d){function f(f){return 1-b*tpmt(f=+f)*Math.sin((f+g)/d)}var g=Math.asin(1/(b=Math.max(1,b)))*(d/=tau$4);f.amplitude=function(b){return custom(b,d*tau$4)};f.period=function(d){return custom(b,d)};return f}(amplitude,period),elasticInOut=function custom(b,d){function f(f){return(0>(f=2*f-1)?b*tpmt(-f)*
Math.sin((g-f)/d):2-b*tpmt(f)*Math.sin((g+f)/d))/2}var g=Math.asin(1/(b=Math.max(1,b)))*(d/=tau$4);f.amplitude=function(b){return custom(b,d*tau$4)};f.period=function(d){return custom(b,d)};return f}(amplitude,period),defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(b,d){for(var e;!(e=b.__transition)||!(e=e[d]);)if(!(b=b.parentNode))return defaultTiming.time=now$1(),defaultTiming;return e}
function selection_transition(b){var d;if(b instanceof Transition){var e=b._id;b=b._name}else e=newId(),(d=defaultTiming).time=now$1(),b=null==b?null:b+"";for(var f=this._groups,g=f.length,h=0;h<g;++h)for(var l=f[h],m=l.length,p,n=0;n<m;++n)(p=l[n])&&schedule(p,b,e,n,l,d||inherit(p,e));return new Transition(f,this._parents,b,e)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;var root$1=[null];
function active(b,d){var e=b.__transition,f,g;if(e)for(g in d=null==d?null:d+"",e)if((f=e[g]).state>SCHEDULED&&f.name===d)return new Transition([[b]],root$1,d,+g);return null}function constant$a(b){return function(){return b}}function BrushEvent(b,d,e){this.target=b;this.type=d;this.selection=e}function nopropagation$1(){event.stopImmediatePropagation()}function noevent$1(){event.preventDefault();event.stopImmediatePropagation()}
var MODE_DRAG={name:"drag"},MODE_SPACE={name:"space"},MODE_HANDLE={name:"handle"},MODE_CENTER={name:"center"};function number1(b){return[+b[0],+b[1]]}function number2(b){return[number1(b[0]),number1(b[1])]}function toucher(b){return function(d){return touch(d,event.touches,b)}}
var X={name:"x",handles:["w","e"].map(type$1),input:function(b,d){return null==b?null:[[+b[0],d[0][1]],[+b[1],d[1][1]]]},output:function(b){return b&&[b[0][0],b[1][0]]}},Y={name:"y",handles:["n","s"].map(type$1),input:function(b,d){return null==b?null:[[d[0][0],+b[0]],[d[1][0],+b[1]]]},output:function(b){return b&&[b[0][1],b[1][1]]}},XY={name:"xy",handles:"n w e s nw ne sw se".split(" ").map(type$1),input:function(b){return null==b?null:number2(b)},output:function(b){return b}},cursors={overlay:"crosshair",
selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},flipX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},flipY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},signsX={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},signsY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type$1(b){return{type:b}}function defaultFilter$1(){return!event.ctrlKey&&!event.button}
function defaultExtent$1(){var b=this.ownerSVGElement||this;return b.hasAttribute("viewBox")?(b=b.viewBox.baseVal,[[b.x,b.y],[b.x+b.width,b.y+b.height]]):[[0,0],[b.width.baseVal.value,b.height.baseVal.value]]}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function local(b){for(;!b.__brush;)if(!(b=b.parentNode))return;return b.__brush}function empty(b){return b[0][0]===b[1][0]||b[0][1]===b[1][1]}
function brushSelection(b){return(b=b.__brush)?b.dim.output(b.selection):null}function brushX(){return brush$1(X)}function brushY(){return brush$1(Y)}function brush(){return brush$1(XY)}
function brush$1(b){function d(d){var f=d.property("__brush",p).selectAll(".overlay").data([type$1("overlay")]);f.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cursors.overlay).merge(f).each(function(){var b=local(this).extent;select(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])});d.selectAll(".selection").data([type$1("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cursors.selection).attr("fill",
"#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");f=d.selectAll(".handle").data(b.handles,function(b){return b.type});f.exit().remove();f.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return cursors[b.type]});d.each(e).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",l).on("touchend.brush touchcancel.brush",m).style("touch-action",
"none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){var b=select(this),d=local(this).selection;d?(b.selectAll(".selection").style("display",null).attr("x",d[0][0]).attr("y",d[0][1]).attr("width",d[1][0]-d[0][0]).attr("height",d[1][1]-d[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(b){return"e"===b.type[b.type.length-1]?d[1][0]-u/2:d[0][0]-u/2}).attr("y",function(b){return"s"===b.type[0]?d[1][1]-u/2:d[0][1]-u/2}).attr("width",function(b){return"n"===b.type||
"s"===b.type?d[1][0]-d[0][0]+u:u}).attr("height",function(b){return"e"===b.type||"w"===b.type?d[1][1]-d[0][1]+u:u})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(b,d,e){var f=b.__brush.emitter;return!f||e&&f.clean?new g(b,d,e):f}function g(b,d,e){this.that=b;this.args=d;this.state=b.__brush;this.active=0;this.clean=e}function h(){function d(){var b=Da(l);!ca||db||Xa||(Math.abs(b[0]-za[0])>Math.abs(b[1]-za[1])?
Xa=!0:db=!0);za=b;Aa=!0;noevent$1();g()}function g(){Z=za[0]-Ha[0];oa=za[1]-Ha[1];switch(r){case MODE_SPACE:case MODE_DRAG:G&&(Z=Math.max(ea-Q,Math.min(ua-V,Z)),Ba=Q+Z,da=V+Z);u&&(oa=Math.max(P-S,Math.min(ba-la,oa)),ya=S+oa,ja=la+oa);break;case MODE_HANDLE:0>G?(Z=Math.max(ea-Q,Math.min(ua-Q,Z)),Ba=Q+Z,da=V):0<G&&(Z=Math.max(ea-V,Math.min(ua-V,Z)),Ba=Q,da=V+Z);0>u?(oa=Math.max(P-S,Math.min(ba-S,oa)),ya=S+oa,ja=la):0<u&&(oa=Math.max(P-la,Math.min(ba-la,oa)),ya=S,ja=la+oa);break;case MODE_CENTER:G&&
(Ba=Math.max(ea,Math.min(ua,Q-Z*G)),da=Math.max(ea,Math.min(ua,V+Z*G))),u&&(ya=Math.max(P,Math.min(ba,S-oa*u)),ja=Math.max(P,Math.min(ba,la+oa*u)))}if(da<Ba){G*=-1;var b=Q;Q=V;V=b;b=Ba;Ba=da;da=b;p in flipX&&na.attr("cursor",cursors[p=flipX[p]])}ja<ya&&(u*=-1,b=S,S=la,la=b,b=ya,ya=ja,ja=b,p in flipY&&na.attr("cursor",cursors[p=flipY[p]]));v.selection&&(T=v.selection);db&&(Ba=T[0][0],da=T[1][0]);Xa&&(ya=T[0][1],ja=T[1][1]);if(T[0][0]!==Ba||T[0][1]!==ya||T[1][0]!==da||T[1][1]!==ja)v.selection=[[Ba,
ya],[da,ja]],e.call(l),va.brush()}function h(){nopropagation$1();if(event.touches){if(event.touches.length)return;w&&clearTimeout(w);w=setTimeout(function(){w=null},500)}else yesdrag(event.view,Aa),fa.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ia.attr("pointer-events","all");na.attr("cursor",cursors.overlay);v.selection&&(T=v.selection);empty(T)&&(v.selection=null,e.call(l));va.end()}function n(){switch(event.keyCode){case 16:ca=G&&u;break;case 18:r===MODE_HANDLE&&(G&&(V=da-
Z*G,Q=Ba+Z*G),u&&(la=ja-oa*u,S=ya+oa*u),r=MODE_CENTER,g());break;case 32:if(r===MODE_HANDLE||r===MODE_CENTER)0>G?V=da-Z:0<G&&(Q=Ba-Z),0>u?la=ja-oa:0<u&&(S=ya-oa),r=MODE_SPACE,na.attr("cursor",cursors.selection),g();break;default:return}noevent$1()}function m(){switch(event.keyCode){case 16:ca&&(db=Xa=ca=!1,g());break;case 18:r===MODE_CENTER&&(0>G?V=da:0<G&&(Q=Ba),0>u?la=ja:0<u&&(S=ya),r=MODE_HANDLE,g());break;case 32:r===MODE_SPACE&&(event.altKey?(G&&(V=da-Z*G,Q=Ba+Z*G),u&&(la=ja-oa*u,S=ya+oa*u),
r=MODE_CENTER):(0>G?V=da:0<G&&(Q=Ba),0>u?la=ja:0<u&&(S=ya),r=MODE_HANDLE),na.attr("cursor",cursors[p]),g());break;default:return}noevent$1()}if((!w||event.touches)&&q.apply(this,arguments)){var l=this,p=event.target.__data__.type,r="selection"===(t&&event.metaKey?p="overlay":p)?MODE_DRAG:t&&event.altKey?MODE_CENTER:MODE_HANDLE,G=b===Y?null:signsX[p],u=b===X?null:signsY[p],v=local(l),W=v.extent,T=v.selection,ea=W[0][0],Q,P=W[0][1],S,ua=W[1][0],V,ba=W[1][1],la,Z=0,oa=0,Aa,ca=G&&u&&t&&event.shiftKey,
db,Xa,Da=event.touches?toucher(event.changedTouches[0].identifier):mouse,Ha=Da(l),za=Ha,va=f(l,arguments,!0).beforestart();"overlay"===p?(T&&(Aa=!0),v.selection=T=[[Q=b===Y?ea:Ha[0],S=b===X?P:Ha[1]],[V=b===Y?ua:Q,la=b===X?ba:S]]):(Q=T[0][0],S=T[0][1],V=T[1][0],la=T[1][1]);var Ba=Q;var ya=S;var da=V;var ja=la;var ia=select(l).attr("pointer-events","none"),na=ia.selectAll(".overlay").attr("cursor",cursors[p]);if(event.touches)va.moved=d,va.ended=h;else{var fa=select(event.view).on("mousemove.brush",
d,!0).on("mouseup.brush",h,!0);if(t)fa.on("keydown.brush",n,!0).on("keyup.brush",m,!0);dragDisable(event.view)}nopropagation$1();interrupt(l);e.call(l);va.start()}}function l(){f(this,arguments).moved()}function m(){f(this,arguments).ended()}function p(){var d=this.__brush||{selection:null};d.extent=number2(n.apply(this,arguments));d.dim=b;return d}var n=defaultExtent$1,q=defaultFilter$1,r=defaultTouchable$1,t=!0,v=dispatch("start","brush","end"),u=6,w;d.move=function(d,g){d.selection?d.on("start.brush",
function(){f(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){f(this,arguments).end()}).tween("brush",function(){function d(b){n.selection=1===b&&null===p?null:q(b);e.call(h);m.brush()}var h=this,n=h.__brush,m=f(h,arguments),l=n.selection,p=b.input("function"===typeof g?g.apply(this,arguments):g,n.extent),q=interpolateValue(l,p);return null!==l&&null!==p?d:d(1)}):d.each(function(){var d=arguments,h=this.__brush,n=b.input("function"===typeof g?g.apply(this,d):g,h.extent);
d=f(this,d).beforestart();interrupt(this);h.selection=null===n?null:n;e.call(this);d.start().brush().end()})};d.clear=function(b){d.move(b,null)};g.prototype={beforestart:function(){1===++this.active&&(this.state.emitter=this,this.starting=!0);return this},start:function(){this.starting?(this.starting=!1,this.emit("start")):this.emit("brush");return this},brush:function(){this.emit("brush");return this},end:function(){0===--this.active&&(delete this.state.emitter,this.emit("end"));return this},emit:function(e){customEvent(new BrushEvent(d,
e,b.output(this.state.selection)),v.apply,v,[e,this.that,this.args])}};d.extent=function(b){return arguments.length?(n="function"===typeof b?b:constant$a(number2(b)),d):n};d.filter=function(b){return arguments.length?(q="function"===typeof b?b:constant$a(!!b),d):q};d.touchable=function(b){return arguments.length?(r="function"===typeof b?b:constant$a(!!b),d):r};d.handleSize=function(b){return arguments.length?(u=+b,d):u};d.keyModifiers=function(b){return arguments.length?(t=!!b,d):t};d.on=function(){var b=
v.on.apply(v,arguments);return b===v?d:b};return d}var cos$2=Math.cos,sin$2=Math.sin,pi$3=Math.PI,halfPi$2=pi$3/2,tau$3=2*pi$3,max$2=Math.max;function compareValue(b){return function(d,e){return b(d.source.value+d.target.value,e.source.value+e.target.value)}}
function chord(){function b(b){var h=b.length,m=[],p=sequence(h),n=[],q=[],r=q.groups=Array(h),t=Array(h*h),v,u;var w=0;for(v=-1;++v<h;){var J=0;for(u=-1;++u<h;)J+=b[v][u];m.push(J);n.push(sequence(h));w+=J}e&&p.sort(function(b,d){return e(m[b],m[d])});f&&n.forEach(function(d,e){d.sort(function(d,g){return f(b[e][d],b[e][g])})});var H=(w=max$2(0,tau$3-d*h)/w)?d:tau$3/h;J=0;for(v=-1;++v<h;){var z=J;for(u=-1;++u<h;){var I=p[v],O=n[I][u],N=b[I][O],L=J,F=J+=N*w;t[O*h+I]={index:I,subindex:O,startAngle:L,
endAngle:F,value:N}}r[I]={index:I,startAngle:z,endAngle:J,value:m[I]};J+=H}for(v=-1;++v<h;)for(u=v-1;++u<h;)p=t[u*h+v],n=t[v*h+u],(p.value||n.value)&&q.push(p.value<n.value?{source:n,target:p}:{source:p,target:n});return g?q.sort(g):q}var d=0,e=null,f=null,g=null;b.padAngle=function(e){return arguments.length?(d=max$2(0,e),b):d};b.sortGroups=function(d){return arguments.length?(e=d,b):e};b.sortSubgroups=function(d){return arguments.length?(f=d,b):f};b.sortChords=function(d){return arguments.length?
(null==d?g=null:(g=compareValue(d))._=d,b):g&&g._};return b}var slice$4=Array.prototype.slice;function constant$9(b){return function(){return b}}var pi$2=Math.PI,tau$2=2*pi$2,epsilon$3=1E-6,tauEpsilon=tau$2-epsilon$3;function Path(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function path(){return new Path}
Path.prototype=path.prototype={constructor:Path,moveTo:function(b,d){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+d)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(b,d){this._+="L"+(this._x1=+b)+","+(this._y1=+d)},quadraticCurveTo:function(b,d,e,f){this._+="Q"+ +b+","+ +d+","+(this._x1=+e)+","+(this._y1=+f)},bezierCurveTo:function(b,d,e,f,g,h){this._+="C"+ +b+","+ +d+","+ +e+","+ +f+","+(this._x1=+g)+","+(this._y1=+h)},arcTo:function(b,
d,e,f,g){b=+b;d=+d;e=+e;f=+f;g=+g;var h=this._x1,l=this._y1,m=e-b,p=f-d,n=h-b,q=l-d,r=n*n+q*q;if(0>g)throw Error("negative radius: "+g);if(null===this._x1)this._+="M"+(this._x1=b)+","+(this._y1=d);else if(r>epsilon$3)if(Math.abs(q*m-p*n)>epsilon$3&&g){e-=h;f-=l;var t=m*m+p*p;l=Math.sqrt(t);h=Math.sqrt(r);r=g*Math.tan((pi$2-Math.acos((t+r-(e*e+f*f))/(2*l*h)))/2);h=r/h;r/=l;Math.abs(h-1)>epsilon$3&&(this._+="L"+(b+h*n)+","+(d+h*q));this._+="A"+g+","+g+",0,0,"+ +(q*e>n*f)+","+(this._x1=b+r*m)+","+(this._y1=
d+r*p)}else this._+="L"+(this._x1=b)+","+(this._y1=d)},arc:function(b,d,e,f,g,h){b=+b;d=+d;e=+e;h=!!h;var l=e*Math.cos(f),m=e*Math.sin(f),p=b+l,n=d+m,q=1^h;f=h?f-g:g-f;if(0>e)throw Error("negative radius: "+e);if(null===this._x1)this._+="M"+p+","+n;else if(Math.abs(this._x1-p)>epsilon$3||Math.abs(this._y1-n)>epsilon$3)this._+="L"+p+","+n;e&&(0>f&&(f=f%tau$2+tau$2),f>tauEpsilon?this._+="A"+e+","+e+",0,1,"+q+","+(b-l)+","+(d-m)+"A"+e+","+e+",0,1,"+q+","+(this._x1=p)+","+(this._y1=n):f>epsilon$3&&(this._+=
"A"+e+","+e+",0,"+ +(f>=pi$2)+","+q+","+(this._x1=b+e*Math.cos(g))+","+(this._y1=d+e*Math.sin(g))))},rect:function(b,d,e,f){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+d)+"h"+ +e+"v"+ +f+"h"+-e+"Z"},toString:function(){return this._}};function defaultSource$1(b){return b.source}function defaultTarget(b){return b.target}function defaultRadius$1(b){return b.radius}function defaultStartAngle(b){return b.startAngle}function defaultEndAngle(b){return b.endAngle}
function ribbon(){function b(){var b,p=slice$4.call(arguments),n=d.apply(this,p),q=e.apply(this,p);n=+f.apply(this,(p[0]=n,p));var r=g.apply(this,p)-halfPi$2,t=h.apply(this,p)-halfPi$2,v=n*cos$2(r),u=n*sin$2(r);q=+f.apply(this,(p[0]=q,p));var w=g.apply(this,p)-halfPi$2;p=h.apply(this,p)-halfPi$2;l||(l=b=path());l.moveTo(v,u);l.arc(0,0,n,r,t);if(r!==w||t!==p)l.quadraticCurveTo(0,0,q*cos$2(w),q*sin$2(w)),l.arc(0,0,q,w,p);l.quadraticCurveTo(0,0,v,u);l.closePath();if(b)return l=null,b+""||null}var d=
defaultSource$1,e=defaultTarget,f=defaultRadius$1,g=defaultStartAngle,h=defaultEndAngle,l=null;b.radius=function(d){return arguments.length?(f="function"===typeof d?d:constant$9(+d),b):f};b.startAngle=function(d){return arguments.length?(g="function"===typeof d?d:constant$9(+d),b):g};b.endAngle=function(d){return arguments.length?(h="function"===typeof d?d:constant$9(+d),b):h};b.source=function(e){return arguments.length?(d=e,b):d};b.target=function(d){return arguments.length?(e=d,b):e};b.context=
function(d){return arguments.length?(l=null==d?null:d,b):l};return b}var prefix="$";function Map$2(){}
Map$2.prototype=map$3.prototype={constructor:Map$2,has:function(b){return prefix+b in this},get:function(b){return this[prefix+b]},set:function(b,d){this[prefix+b]=d;return this},remove:function(b){b=prefix+b;return b in this&&delete this[b]},clear:function(){for(var b in this)b[0]===prefix&&delete this[b]},keys:function(){var b=[],d;for(d in this)d[0]===prefix&&b.push(d.slice(1));return b},values:function(){var b=[],d;for(d in this)d[0]===prefix&&b.push(this[d]);return b},entries:function(){var b=
[],d;for(d in this)d[0]===prefix&&b.push({key:d.slice(1),value:this[d]});return b},size:function(){var b=0,d;for(d in this)d[0]===prefix&&++b;return b},empty:function(){for(var b in this)if(b[0]===prefix)return!1;return!0},each:function(b){for(var d in this)d[0]===prefix&&b(this[d],d.slice(1),this)}};
function map$3(b,d){var e=new Map$2;if(b instanceof Map$2)b.each(function(b,d){e.set(d,b)});else if(Array.isArray(b)){var f=-1,g=b.length,h;if(null==d)for(;++f<g;)e.set(f,b[f]);else for(;++f<g;)e.set(d(h=b[f],f,b),h)}else if(b)for(f in b)e.set(f,b[f]);return e}
function nest(){function b(d,f,n,l){if(f>=e.length)return null!=g&&d.sort(g),null!=h?h(d):d;for(var m=-1,p=d.length,q=e[f++],u,w,J=map$3(),H,z=n();++m<p;)(H=J.get(u=q(w=d[m])+""))?H.push(w):J.set(u,[w]);J.each(function(d,e){l(z,e,b(d,f,n,l))});return z}function d(b,g){if(++g>e.length)return b;var n=f[g-1];if(null!=h&&g>=e.length)var m=b.entries();else m=[],b.each(function(b,e){m.push({key:e,values:d(b,g)})});return null!=n?m.sort(function(b,d){return n(b.key,d.key)}):m}var e=[],f=[],g,h,l;return l=
{object:function(d){return b(d,0,createObject,setObject)},map:function(d){return b(d,0,createMap,setMap)},entries:function(e){return d(b(e,0,createMap,setMap),0)},key:function(b){e.push(b);return l},sortKeys:function(b){f[e.length-1]=b;return l},sortValues:function(b){g=b;return l},rollup:function(b){h=b;return l}}}function createObject(){return{}}function setObject(b,d,e){b[d]=e}function createMap(){return map$3()}function setMap(b,d,e){b.set(d,e)}function Set$2(){}var proto=map$3.prototype;
Set$2.prototype=set.prototype={constructor:Set$2,has:proto.has,add:function(b){b+="";this[prefix+b]=b;return this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each};function set(b,d){var e=new Set$2;if(b instanceof Set$2)b.each(function(b){e.add(b)});else if(b){var f=-1,g=b.length;if(null==d)for(;++f<g;)e.add(b[f]);else for(;++f<g;)e.add(d(b[f],f,b))}return e}function keys$1(b){var d=[],e;for(e in b)d.push(e);return d}
function values$1(b){var d=[],e;for(e in b)d.push(b[e]);return d}function entries(b){var d=[],e;for(e in b)d.push({key:e,value:b[e]});return d}var array$1=Array.prototype,slice$3=array$1.slice;function ascending$1(b,d){return b-d}function area$3(b){for(var d=0,e=b.length,f=b[e-1][1]*b[0][0]-b[e-1][0]*b[0][1];++d<e;)f+=b[d-1][1]*b[d][0]-b[d-1][0]*b[d][1];return f}function constant$8(b){return function(){return b}}
function contains$2(b,d){for(var e=-1,f=d.length,g;++e<f;)if(g=ringContains(b,d[e]))return g;return 0}function ringContains(b,d){for(var e=d[0],f=d[1],g=-1,h=0,l=b.length,m=l-1;h<l;m=h++){var p=b[h],n=p[0],q=p[1];m=b[m];var r=m[0],t=m[1];if(segmentContains(p,m,d))return 0;q>f!==t>f&&e<(r-n)*(f-q)/(t-q)+n&&(g=-g)}return g}function segmentContains(b,d,e){var f;return collinear(b,d,e)&&within(b[f=+(b[0]===d[0])],e[f],d[f])}
function collinear(b,d,e){return(d[0]-b[0])*(e[1]-b[1])===(e[0]-b[0])*(d[1]-b[1])}function within(b,d,e){return b<=d&&d<=e||e<=d&&d<=b}function noop$3(){}var cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];
function contours(){function b(b){var e=l(b);if(Array.isArray(e))e=e.slice().sort(ascending$1);else{var f=extent$1(b),g=f[0];f=f[1];e=tickStep(g,f,e);e=sequence(Math.floor(g/e)*e,Math.floor(f/e)*e,e)}return e.map(function(e){return d(b,e)})}function d(b,d){var f=[],g=[];e(b,d,function(e){m(e,b,d);0<area$3(e)?f.push([e]):g.push(e)});g.forEach(function(b){for(var d=0,e=f.length,g;d<e;++d)if(-1!==contains$2((g=f[d])[0],b)){g.push(b);break}});return{type:"MultiPolygon",value:d,coordinates:f}}function e(b,
d,e){function f(b){var d=[b[0][0]+p,b[0][1]+l];b=[b[1][0]+p,b[1][1]+l];var f=2*d[0]+d[1]*(g+1)*4,h=2*b[0]+b[1]*(g+1)*4,q,t;(q=m[f])?(t=n[h])?(delete m[q.end],delete n[t.start],q===t?(q.ring.push(b),e(q.ring)):n[q.start]=m[t.end]={start:q.start,end:t.end,ring:q.ring.concat(t.ring)}):(delete m[q.end],q.ring.push(b),m[q.end=h]=q):(q=n[h])?(t=m[f])?(delete n[q.start],delete m[t.end],q===t?(q.ring.push(b),e(q.ring)):n[t.start]=m[q.end]={start:t.start,end:q.end,ring:t.ring.concat(q.ring)}):(delete n[q.start],
q.ring.unshift(d),n[q.start=f]=q):n[f]=m[h]={start:f,end:h,ring:[d,b]}}var n=[],m=[],l;var p=l=-1;var q=b[0]>=d;for(cases[q<<1].forEach(f);++p<g-1;){var H=q;q=b[p+1]>=d;cases[H|q<<1].forEach(f)}for(cases[q<<0].forEach(f);++l<h-1;){p=-1;q=b[l*g+g]>=d;var z=b[l*g]>=d;for(cases[q<<1|z<<2].forEach(f);++p<g-1;){H=q;q=b[l*g+g+p+1]>=d;var I=z;z=b[l*g+p+1]>=d;cases[H|q<<1|z<<2|I<<3].forEach(f)}cases[q|z<<3].forEach(f)}p=-1;z=b[l*g]>=d;for(cases[z<<2].forEach(f);++p<g-1;)I=z,z=b[l*g+p+1]>=d,cases[z<<2|I<<
3].forEach(f);cases[z<<3].forEach(f)}function f(b,d,e){b.forEach(function(b){var f=b[0],n=b[1],m=f|0,l=n|0,p=d[l*g+m];if(0<f&&f<g&&m===f){var q=d[l*g+m-1];b[0]=f+(e-q)/(p-q)-.5}0<n&&n<h&&l===n&&(q=d[(l-1)*g+m],b[1]=n+(e-q)/(p-q)-.5)})}var g=1,h=1,l=thresholdSturges,m=f;b.contour=d;b.size=function(d){if(!arguments.length)return[g,h];var e=Math.ceil(d[0]),f=Math.ceil(d[1]);if(!(0<e&&0<f))throw Error("invalid size");return g=e,h=f,b};b.thresholds=function(d){return arguments.length?(l="function"===typeof d?
d:Array.isArray(d)?constant$8(slice$3.call(d)):constant$8(d),b):l};b.smooth=function(d){return arguments.length?(m=d?f:noop$3,b):m===f};return b}function blurX(b,d,e){for(var f=b.width,g=b.height,h=(e<<1)+1,l=0;l<g;++l)for(var m=0,p=0;m<f+e;++m)m<f&&(p+=b.data[m+l*f]),m>=e&&(m>=h&&(p-=b.data[m-h+l*f]),d.data[m-e+l*f]=p/Math.min(m+1,f-1+h-m,h))}
function blurY(b,d,e){for(var f=b.width,g=b.height,h=(e<<1)+1,l=0;l<f;++l)for(var m=0,p=0;m<g+e;++m)m<g&&(p+=b.data[l+m*f]),m>=e&&(m>=h&&(p-=b.data[l+(m-h)*f]),d.data[l+(m-e)*f]=p/Math.min(m+1,g-1+h-m,h))}function defaultX$1(b){return b[0]}function defaultY$1(b){return b[1]}function defaultWeight(){return 1}
function density(){function b(b){var e=new Float32Array(u*w),f=new Float32Array(u*w);b.forEach(function(b,d,f){var g=+l(b,d,f)+v>>t,h=+m(b,d,f)+v>>t;b=+p(b,d,f);0<=g&&g<u&&0<=h&&h<w&&(e[g+h*u]+=b)});blurX({width:u,height:w,data:e},{width:u,height:w,data:f},r>>t);blurY({width:u,height:w,data:f},{width:u,height:w,data:e},r>>t);blurX({width:u,height:w,data:e},{width:u,height:w,data:f},r>>t);blurY({width:u,height:w,data:f},{width:u,height:w,data:e},r>>t);blurX({width:u,height:w,data:e},{width:u,height:w,
data:f},r>>t);blurY({width:u,height:w,data:f},{width:u,height:w,data:e},r>>t);b=J(e);Array.isArray(b)||(f=max$3(e),b=tickStep(0,f,b),b=sequence(0,Math.floor(f/b)*b,b),b.shift());return contours().thresholds(b).size([u,w])(e).map(d)}function d(b){b.value*=Math.pow(2,-2*t);b.coordinates.forEach(e);return b}function e(b){b.forEach(f)}function f(b){b.forEach(g)}function g(b){b[0]=b[0]*Math.pow(2,t)-v;b[1]=b[1]*Math.pow(2,t)-v}function h(){v=3*r;u=n+2*v>>t;w=q+2*v>>t;return b}var l=defaultX$1,m=defaultY$1,
p=defaultWeight,n=960,q=500,r=20,t=2,v=3*r,u=n+2*v>>t,w=q+2*v>>t,J=constant$8(20);b.x=function(d){return arguments.length?(l="function"===typeof d?d:constant$8(+d),b):l};b.y=function(d){return arguments.length?(m="function"===typeof d?d:constant$8(+d),b):m};b.weight=function(d){return arguments.length?(p="function"===typeof d?d:constant$8(+d),b):p};b.size=function(b){if(!arguments.length)return[n,q];var d=Math.ceil(b[0]),e=Math.ceil(b[1]);if(!(0<=d||0<=d))throw Error("invalid size");return n=d,q=
e,h()};b.cellSize=function(b){if(!arguments.length)return 1<<t;if(!(1<=(b=+b)))throw Error("invalid cell size");return t=Math.floor(Math.log(b)/Math.LN2),h()};b.thresholds=function(d){return arguments.length?(J="function"===typeof d?d:Array.isArray(d)?constant$8(slice$3.call(d)):constant$8(d),b):J};b.bandwidth=function(b){if(!arguments.length)return Math.sqrt(r*(r+1));if(!(0<=(b=+b)))throw Error("invalid bandwidth");return r=Math.round((Math.sqrt(4*b*b+1)-1)/2),h()};return b}
var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(b){return new Function("d","return {"+b.map(function(b,e){return JSON.stringify(b)+": d["+e+'] || ""'}).join(",")+"}")}function customConverter(b,d){var e=objectConverter(b);return function(f,g){return d(e(f),g,b)}}function inferColumns(b){var d=Object.create(null),e=[];b.forEach(function(b){for(var f in b)f in d||e.push(d[f]=f)});return e}function pad$1(b,d){b+="";var e=b.length;return e<d?Array(d-e+1).join(0)+b:b}
function formatYear$1(b){return 0>b?"-"+pad$1(-b,6):9999<b?"+"+pad$1(b,6):pad$1(b,4)}function formatDate(b){var d=b.getUTCHours(),e=b.getUTCMinutes(),f=b.getUTCSeconds(),g=b.getUTCMilliseconds();return isNaN(b)?"Invalid Date":formatYear$1(b.getUTCFullYear())+"-"+pad$1(b.getUTCMonth()+1,2)+"-"+pad$1(b.getUTCDate(),2)+(g?"T"+pad$1(d,2)+":"+pad$1(e,2)+":"+pad$1(f,2)+"."+pad$1(g,3)+"Z":f?"T"+pad$1(d,2)+":"+pad$1(e,2)+":"+pad$1(f,2)+"Z":e||d?"T"+pad$1(d,2)+":"+pad$1(e,2)+"Z":"")}
function dsvFormat(b){function d(b,d){function e(){if(w)return EOF;if(J)return J=!1,EOL;var d,e=h,f;if(b.charCodeAt(e)===QUOTE){for(;h++<g&&b.charCodeAt(h)!==QUOTE||b.charCodeAt(++h)===QUOTE;);(d=h)>=g?w=!0:(f=b.charCodeAt(h++))===NEWLINE?J=!0:f===RETURN&&(J=!0,b.charCodeAt(h)===NEWLINE&&++h);return b.slice(e+1,d-1).replace(/""/g,'"')}for(;h<g;){if((f=b.charCodeAt(d=h++))===NEWLINE)J=!0;else if(f===RETURN)J=!0,b.charCodeAt(h)===NEWLINE&&++h;else if(f!==l)continue;return b.slice(e,d)}return w=!0,b.slice(e,
g)}var f=[],g=b.length,h=0,m=0,p,w=0>=g,J=!1;b.charCodeAt(g-1)===NEWLINE&&--g;for(b.charCodeAt(g-1)===RETURN&&--g;(p=e())!==EOF;){for(var H=[];p!==EOL&&p!==EOF;)H.push(p),p=e();d&&null==(H=d(H,m++))||f.push(H)}return f}function e(d,e){return d.map(function(d){return e.map(function(b){return g(d[b])}).join(b)})}function f(d){return d.map(g).join(b)}function g(b){return null==b?"":b instanceof Date?formatDate(b):h.test(b+="")?'"'+b.replace(/"/g,'""')+'"':b}var h=new RegExp('["'+b+"\n\r]"),l=b.charCodeAt(0);
return{parse:function(b,e){var f,g;b=d(b,function(b,d){if(f)return f(b,d-1);g=b;f=e?customConverter(b,e):objectConverter(b)});b.columns=g||[];return b},parseRows:d,format:function(d,f){null==f&&(f=inferColumns(d));return[f.map(g).join(b)].concat(e(d,f)).join("\n")},formatBody:function(b,d){null==d&&(d=inferColumns(b));return e(b,d).join("\n")},formatRows:function(b){return b.map(f).join("\n")},formatRow:f,formatValue:g}}
var csv$1=dsvFormat(","),csvParse=csv$1.parse,csvParseRows=csv$1.parseRows,csvFormat=csv$1.format,csvFormatBody=csv$1.formatBody,csvFormatRows=csv$1.formatRows,csvFormatRow=csv$1.formatRow,csvFormatValue=csv$1.formatValue,tsv$1=dsvFormat("\t"),tsvParse=tsv$1.parse,tsvParseRows=tsv$1.parseRows,tsvFormat=tsv$1.format,tsvFormatBody=tsv$1.formatBody,tsvFormatRows=tsv$1.formatRows,tsvFormatRow=tsv$1.formatRow,tsvFormatValue=tsv$1.formatValue;
function autoType(b){for(var d in b){var e=b[d].trim(),f;if(e)if("true"===e)e=!0;else if("false"===e)e=!1;else if("NaN"===e)e=NaN;else if(isNaN(f=+e))if(f=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))fixtz&&f[4]&&!f[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;else e=f;else e=null;b[d]=e}return b}var fixtz=(new Date("2019-01-01T00:00")).getHours()||(new Date("2019-07-01T00:00")).getHours();
function responseBlob(b){if(!b.ok)throw Error(b.status+" "+b.statusText);return b.blob()}function blob(b,d){return fetch(b,d).then(responseBlob)}function responseArrayBuffer(b){if(!b.ok)throw Error(b.status+" "+b.statusText);return b.arrayBuffer()}function buffer(b,d){return fetch(b,d).then(responseArrayBuffer)}function responseText(b){if(!b.ok)throw Error(b.status+" "+b.statusText);return b.text()}function text(b,d){return fetch(b,d).then(responseText)}
function dsvParse(b){return function(d,e,f){2===arguments.length&&"function"===typeof e&&(f=e,e=void 0);return text(d,e).then(function(d){return b(d,f)})}}function dsv(b,d,e,f){3===arguments.length&&"function"===typeof e&&(f=e,e=void 0);var g=dsvFormat(b);return text(d,e).then(function(b){return g.parse(b,f)})}var csv=dsvParse(csvParse),tsv=dsvParse(tsvParse);
function image(b,d){return new Promise(function(e,f){var g=new Image,h;for(h in d)g[h]=d[h];g.onerror=f;g.onload=function(){e(g)};g.src=b})}function responseJson(b){if(!b.ok)throw Error(b.status+" "+b.statusText);if(204!==b.status&&205!==b.status)return b.json()}function json$1(b,d){return fetch(b,d).then(responseJson)}function parser(b){return function(d,e){return text(d,e).then(function(d){return(new DOMParser).parseFromString(d,b)})}}
var xml=parser("application/xml"),html=parser("text/html"),svg=parser("image/svg+xml");function center(b,d){function e(){var e,h=f.length,l=0,m=0;for(e=0;e<h;++e){var p=f[e];l+=p.x;m+=p.y}l=l/h-b;m=m/h-d;for(e=0;e<h;++e)p=f[e],p.x-=l,p.y-=m}var f;null==b&&(b=0);null==d&&(d=0);e.initialize=function(b){f=b};e.x=function(d){return arguments.length?(b=+d,e):b};e.y=function(b){return arguments.length?(d=+b,e):d};return e}function constant$7(b){return function(){return b}}
function jiggle(){return 1E-6*(Math.random()-.5)}function tree_add(b){var d=+this._x.call(null,b),e=+this._y.call(null,b);return add$1(this.cover(d,e),d,e,b)}
function add$1(b,d,e,f){if(isNaN(d)||isNaN(e))return b;var g,h=b._root;f={data:f};var l=b._x0,m=b._y0,p=b._x1,n=b._y1,q,r,t,v;if(!h)return b._root=f,b;for(;h.length;)if((t=d>=(q=(l+p)/2))?l=q:p=q,(v=e>=(r=(m+n)/2))?m=r:n=r,g=h,!(h=h[t|=v<<1]))return g[t]=f,b;var u=+b._x.call(null,h.data);var w=+b._y.call(null,h.data);if(d===u&&e===w)return f.next=h,g?g[t]=f:b._root=f,b;do g=g?g[t]=Array(4):b._root=Array(4),(t=d>=(q=(l+p)/2))?l=q:p=q,(v=e>=(r=(m+n)/2))?m=r:n=r;while((t|=v<<1)===(v=(w>=r)<<1|u>=q));
return g[v]=h,g[t]=f,b}function addAll(b){var d,e,f=b.length,g,h,l=Array(f),m=Array(f),p=Infinity,n=Infinity,q=-Infinity,r=-Infinity;for(e=0;e<f;++e)isNaN(g=+this._x.call(null,d=b[e]))||isNaN(h=+this._y.call(null,d))||(l[e]=g,m[e]=h,g<p&&(p=g),g>q&&(q=g),h<n&&(n=h),h>r&&(r=h));if(p>q||n>r)return this;this.cover(p,n).cover(q,r);for(e=0;e<f;++e)add$1(this,l[e],m[e],b[e]);return this}
function tree_cover(b,d){if(isNaN(b=+b)||isNaN(d=+d))return this;var e=this._x0,f=this._y0,g=this._x1,h=this._y1;if(isNaN(e))g=(e=Math.floor(b))+1,h=(f=Math.floor(d))+1;else{for(var l=g-e,m=this._root,p,n;e>b||b>=g||f>d||d>=h;)switch(n=(d<f)<<1|b<e,p=Array(4),p[n]=m,m=p,l*=2,n){case 0:g=e+l;h=f+l;break;case 1:e=g-l;h=f+l;break;case 2:g=e+l;f=h-l;break;case 3:e=g-l,f=h-l}this._root&&this._root.length&&(this._root=m)}this._x0=e;this._y0=f;this._x1=g;this._y1=h;return this}
function tree_data(){var b=[];this.visit(function(d){if(!d.length){do b.push(d.data);while(d=d.next)}});return b}function tree_extent(b){return arguments.length?this.cover(+b[0][0],+b[0][1]).cover(+b[1][0],+b[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(b,d,e,f,g){this.node=b;this.x0=d;this.y0=e;this.x1=f;this.y1=g}
function tree_find(b,d,e){var f=this._x0,g=this._y0,h,l,m,p,n=this._x1,q=this._y1,r=[],t=this._root,v;t&&r.push(new Quad(t,f,g,n,q));null==e?e=Infinity:(f=b-e,g=d-e,n=b+e,q=d+e,e*=e);for(;v=r.pop();)if(!(!(t=v.node)||(h=v.x0)>n||(l=v.y0)>q||(m=v.x1)<f||(p=v.y1)<g))if(t.length){v=(h+m)/2;var u=(l+p)/2;r.push(new Quad(t[3],v,u,m,p),new Quad(t[2],h,u,v,p),new Quad(t[1],v,l,m,u),new Quad(t[0],h,l,v,u));if(t=(d>=u)<<1|b>=v)v=r[r.length-1],r[r.length-1]=r[r.length-1-t],r[r.length-1-t]=v}else if(v=b-+this._x.call(null,
t.data),u=d-+this._y.call(null,t.data),v=v*v+u*u,v<e){var w=Math.sqrt(e=v);f=b-w;g=d-w;n=b+w;q=d+w;w=t.data}return w}
function tree_remove(b){if(isNaN(p=+this._x.call(null,b))||isNaN(n=+this._y.call(null,b)))return this;var d,e=this._root,f,g=this._x0,h=this._y0,l=this._x1,m=this._y1,p,n,q,r,t,v;if(!e)return this;if(e.length)for(;;){(t=p>=(q=(g+l)/2))?g=q:l=q;(v=n>=(r=(h+m)/2))?h=r:m=r;if(!(d=e,e=e[t|=v<<1]))return this;if(!e.length)break;if(d[t+1&3]||d[t+2&3]||d[t+3&3]){var u=d;var w=t}}for(;e.data!==b;)if(!(f=e,e=e.next))return this;(b=e.next)&&delete e.next;if(f)return b?f.next=b:delete f.next,this;if(!d)return this._root=
b,this;b?d[t]=b:delete d[t];(e=d[0]||d[1]||d[2]||d[3])&&e===(d[3]||d[2]||d[1]||d[0])&&!e.length&&(u?u[w]=e:this._root=e);return this}function removeAll(b){for(var d=0,e=b.length;d<e;++d)this.remove(b[d]);return this}function tree_root(){return this._root}function tree_size(){var b=0;this.visit(function(d){if(!d.length){do++b;while(d=d.next)}});return b}
function tree_visit(b){var d=[],e,f=this._root,g,h,l,m;for(f&&d.push(new Quad(f,this._x0,this._y0,this._x1,this._y1));e=d.pop();)if(!b(f=e.node,h=e.x0,l=e.y0,m=e.x1,e=e.y1)&&f.length){var p=(h+m)/2,n=(l+e)/2;(g=f[3])&&d.push(new Quad(g,p,n,m,e));(g=f[2])&&d.push(new Quad(g,h,n,p,e));(g=f[1])&&d.push(new Quad(g,p,l,m,n));(g=f[0])&&d.push(new Quad(g,h,l,p,n))}return this}
function tree_visitAfter(b){var d=[],e=[],f;for(this._root&&d.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));f=d.pop();){var g=f.node;if(g.length){var h,l=f.x0,m=f.y0,p=f.x1,n=f.y1,q=(l+p)/2,r=(m+n)/2;(h=g[0])&&d.push(new Quad(h,l,m,q,r));(h=g[1])&&d.push(new Quad(h,q,m,p,r));(h=g[2])&&d.push(new Quad(h,l,r,q,n));(h=g[3])&&d.push(new Quad(h,q,r,p,n))}e.push(f)}for(;f=e.pop();)b(f.node,f.x0,f.y0,f.x1,f.y1);return this}function defaultX(b){return b[0]}
function tree_x(b){return arguments.length?(this._x=b,this):this._x}function defaultY(b){return b[1]}function tree_y(b){return arguments.length?(this._y=b,this):this._y}function quadtree(b,d,e){d=new Quadtree(null==d?defaultX:d,null==e?defaultY:e,NaN,NaN,NaN,NaN);return null==b?d:d.addAll(b)}function Quadtree(b,d,e,f,g,h){this._x=b;this._y=d;this._x0=e;this._y0=f;this._x1=g;this._y1=h;this._root=void 0}function leaf_copy(b){for(var d={data:b.data},e=d;b=b.next;)e=e.next={data:b.data};return d}
var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var b=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root,e,f;if(!d)return b;if(!d.length)return b._root=leaf_copy(d),b;for(e=[{source:d,target:b._root=Array(4)}];d=e.pop();)for(var g=0;4>g;++g)if(f=d.source[g])f.length?e.push({source:f,target:d.target[g]=Array(4)}):d.target[g]=leaf_copy(f);return b};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;
treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;function x$4(b){return b.x+b.vx}function y$4(b){return b.y+b.vy}
function collide(b){function d(){function b(b,d,e,f,g){var h=b.data;b=b.r;var n=w+b;if(h)h.index>t.index&&(d=v-h.x-h.vx,e=u-h.y-h.vy,f=d*d+e*e,f<n*n&&(0===d&&(d=jiggle(),f+=d*d),0===e&&(e=jiggle(),f+=e*e),f=(n-(f=Math.sqrt(f)))/f*l,t.vx+=(d*=f)*(n=(b*=b)/(J+b)),t.vy+=(e*=f)*n,h.vx-=d*(n=1-n),h.vy-=e*n));else return d>v+n||f<v-n||e>u+n||g<u-n}for(var d,f=g.length,r,t,v,u,w,J,H=0;H<m;++H)for(r=quadtree(g,x$4,y$4).visitAfter(e),d=0;d<f;++d)t=g[d],w=h[t.index],J=w*w,v=t.x+t.vx,u=t.y+t.vy,r.visit(b)}function e(b){if(b.data)return b.r=
h[b.data.index];for(var d=b.r=0;4>d;++d)b[d]&&b[d].r>b.r&&(b.r=b[d].r)}function f(){if(g){var d,e=g.length;h=Array(e);for(d=0;d<e;++d){var f=g[d];h[f.index]=+b(f,d,g)}}}var g,h,l=1,m=1;"function"!==typeof b&&(b=constant$7(null==b?1:+b));d.initialize=function(b){g=b;f()};d.iterations=function(b){return arguments.length?(m=+b,d):m};d.strength=function(b){return arguments.length?(l=+b,d):l};d.radius=function(e){return arguments.length?(b="function"===typeof e?e:constant$7(+e),f(),d):b};return d}
function index$3(b){return b.index}function find$1(b,d){b=b.get(d);if(!b)throw Error("missing: "+d);return b}
function link$2(b){function d(d){for(var e=0,f=b.length;e<v;++e)for(var g=0,h,l,p,q,r;g<f;++g)h=b[g],l=h.source,h=h.target,p=h.x+h.vx-l.x-l.vx||jiggle(),q=h.y+h.vy-l.y-l.vy||jiggle(),r=Math.sqrt(p*p+q*q),r=(r-n[g])/r*d*m[g],p*=r,q*=r,h.vx-=p*(r=t[g]),h.vy-=q*r,l.vx+=p*(r=1-r),l.vy+=q*r}function e(){if(q){var d=q.length,e=b.length,l=map$3(q,h);var p=0;for(r=Array(d);p<e;++p)d=b[p],d.index=p,"object"!==typeof d.source&&(d.source=find$1(l,d.source)),"object"!==typeof d.target&&(d.target=find$1(l,d.target)),
r[d.source.index]=(r[d.source.index]||0)+1,r[d.target.index]=(r[d.target.index]||0)+1;p=0;for(t=Array(e);p<e;++p)d=b[p],t[p]=r[d.source.index]/(r[d.source.index]+r[d.target.index]);m=Array(e);f();n=Array(e);g()}}function f(){if(q)for(var d=0,e=b.length;d<e;++d)m[d]=+l(b[d],d,b)}function g(){if(q)for(var d=0,e=b.length;d<e;++d)n[d]=+p(b[d],d,b)}var h=index$3,l=function(b){return 1/Math.min(r[b.source.index],r[b.target.index])},m,p=constant$7(30),n,q,r,t,v=1;null==b&&(b=[]);d.initialize=function(b){q=
b;e()};d.links=function(f){return arguments.length?(b=f,e(),d):b};d.id=function(b){return arguments.length?(h=b,d):h};d.iterations=function(b){return arguments.length?(v=+b,d):v};d.strength=function(b){return arguments.length?(l="function"===typeof b?b:constant$7(+b),f(),d):l};d.distance=function(b){return arguments.length?(p="function"===typeof b?b:constant$7(+b),g(),d):p};return d}function x$3(b){return b.x}function y$3(b){return b.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));
function simulation(b){function d(){e();v.call("tick",h);l<m&&(t.stop(),v.call("end",h))}function e(d){var e,f=b.length;void 0===d&&(d=1);for(var g=0;g<d;++g)for(l+=(n-l)*p,r.each(function(b){b(l)}),e=0;e<f;++e){var m=b[e];null==m.fx?m.x+=m.vx*=q:(m.x=m.fx,m.vx=0);null==m.fy?m.y+=m.vy*=q:(m.y=m.fy,m.vy=0)}return h}function f(){for(var d=0,e=b.length,f;d<e;++d){f=b[d];f.index=d;null!=f.fx&&(f.x=f.fx);null!=f.fy&&(f.y=f.fy);if(isNaN(f.x)||isNaN(f.y)){var g=initialRadius*Math.sqrt(d),h=d*initialAngle;
f.x=g*Math.cos(h);f.y=g*Math.sin(h)}if(isNaN(f.vx)||isNaN(f.vy))f.vx=f.vy=0}}function g(d){d.initialize&&d.initialize(b);return d}var h,l=1,m=.001,p=1-Math.pow(m,1/300),n=0,q=.6,r=map$3(),t=timer(d),v=dispatch("tick","end");null==b&&(b=[]);f();return h={tick:e,restart:function(){return t.restart(d),h},stop:function(){return t.stop(),h},nodes:function(d){return arguments.length?(b=d,f(),r.each(g),h):b},alpha:function(b){return arguments.length?(l=+b,h):l},alphaMin:function(b){return arguments.length?
(m=+b,h):m},alphaDecay:function(b){return arguments.length?(p=+b,h):+p},alphaTarget:function(b){return arguments.length?(n=+b,h):n},velocityDecay:function(b){return arguments.length?(q=1-b,h):1-q},force:function(b,d){return 1<arguments.length?(null==d?r.remove(b):r.set(b,g(d)),h):r.get(b)},find:function(d,e,f){var g,h=b.length;f=null==f?Infinity:f*f;for(g=0;g<h;++g){var n=b[g];var l=d-n.x;var m=e-n.y;l=l*l+m*m;if(l<f){var p=n;f=l}}return p},on:function(b,d){return 1<arguments.length?(v.on(b,d),h):
v.on(b)}}}
function manyBody(){function b(b){var d=g.length,n=quadtree(g,x$3,y$3).visitAfter(e);l=b;for(b=0;b<d;++b)h=g[b],n.visit(f)}function d(){if(g){var b,d=g.length;p=Array(d);for(b=0;b<d;++b){var e=g[b];p[e.index]=+m(e,b,g)}}}function e(b){var d=0,e,f,g=0,h,n,l;if(b.length){for(h=n=l=0;4>l;++l)(e=b[l])&&(f=Math.abs(e.value))&&(d+=e.value,g+=f,h+=f*e.x,n+=f*e.y);b.x=h/g;b.y=n/g}else{e=b;e.x=e.data.x;e.y=e.data.y;do d+=p[e.data.index];while(e=e.next)}b.value=d}function f(b,d,e,f){if(!b.value)return!0;e=
b.x-h.x;var g=b.y-h.y;d=f-d;f=e*e+g*g;if(d*d/r<f)return f<q&&(0===e&&(e=jiggle(),f+=e*e),0===g&&(g=jiggle(),f+=g*g),f<n&&(f=Math.sqrt(n*f)),h.vx+=e*b.value*l/f,h.vy+=g*b.value*l/f),!0;if(!(b.length||f>=q)){if(b.data!==h||b.next)0===e&&(e=jiggle(),f+=e*e),0===g&&(g=jiggle(),f+=g*g),f<n&&(f=Math.sqrt(n*f));do b.data!==h&&(d=p[b.data.index]*l/f,h.vx+=e*d,h.vy+=g*d);while(b=b.next)}}var g,h,l,m=constant$7(-30),p,n=1,q=Infinity,r=.81;b.initialize=function(b){g=b;d()};b.strength=function(e){return arguments.length?
(m="function"===typeof e?e:constant$7(+e),d(),b):m};b.distanceMin=function(d){return arguments.length?(n=d*d,b):Math.sqrt(n)};b.distanceMax=function(d){return arguments.length?(q=d*d,b):Math.sqrt(q)};b.theta=function(d){return arguments.length?(r=d*d,b):Math.sqrt(r)};return b}
function radial(b,d,e){function f(b){for(var f=0,g=h.length;f<g;++f){var n=h[f],l=n.x-d||1E-6,u=n.y-e||1E-6,w=Math.sqrt(l*l+u*u);w=(p[f]-w)*m[f]*b/w;n.vx+=l*w;n.vy+=u*w}}function g(){if(h){var d,e=h.length;m=Array(e);p=Array(e);for(d=0;d<e;++d)p[d]=+b(h[d],d,h),m[d]=isNaN(p[d])?0:+l(h[d],d,h)}}var h,l=constant$7(.1),m,p;"function"!==typeof b&&(b=constant$7(+b));null==d&&(d=0);null==e&&(e=0);f.initialize=function(b){h=b;g()};f.strength=function(b){return arguments.length?(l="function"===typeof b?b:
constant$7(+b),g(),f):l};f.radius=function(d){return arguments.length?(b="function"===typeof d?d:constant$7(+d),g(),f):b};f.x=function(b){return arguments.length?(d=+b,f):d};f.y=function(b){return arguments.length?(e=+b,f):e};return f}
function x$2(b){function d(b){for(var d=0,e=g.length,f;d<e;++d)f=g[d],f.vx+=(l[d]-f.x)*h[d]*b}function e(){if(g){var d,e=g.length;h=Array(e);l=Array(e);for(d=0;d<e;++d)h[d]=isNaN(l[d]=+b(g[d],d,g))?0:+f(g[d],d,g)}}var f=constant$7(.1),g,h,l;"function"!==typeof b&&(b=constant$7(null==b?0:+b));d.initialize=function(b){g=b;e()};d.strength=function(b){return arguments.length?(f="function"===typeof b?b:constant$7(+b),e(),d):f};d.x=function(f){return arguments.length?(b="function"===typeof f?f:constant$7(+f),
e(),d):b};return d}
function y$2(b){function d(b){for(var d=0,e=g.length,f;d<e;++d)f=g[d],f.vy+=(l[d]-f.y)*h[d]*b}function e(){if(g){var d,e=g.length;h=Array(e);l=Array(e);for(d=0;d<e;++d)h[d]=isNaN(l[d]=+b(g[d],d,g))?0:+f(g[d],d,g)}}var f=constant$7(.1),g,h,l;"function"!==typeof b&&(b=constant$7(null==b?0:+b));d.initialize=function(b){g=b;e()};d.strength=function(b){return arguments.length?(f="function"===typeof b?b:constant$7(+b),e(),d):f};d.y=function(f){return arguments.length?(b="function"===typeof f?f:constant$7(+f),
e(),d):b};return d}function formatDecimal(b){return 1E21<=Math.abs(b=Math.round(b))?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function formatDecimalParts(b,d){if(0>(d=(b=d?b.toExponential(d-1):b.toExponential()).indexOf("e")))return null;var e=b.slice(0,d);return[1<e.length?e[0]+e.slice(2):e,+b.slice(d+1)]}function exponent(b){return b=formatDecimalParts(Math.abs(b)),b?b[1]:NaN}
function formatGroup(b,d){return function(e,f){for(var g=e.length,h=[],l=0,m=b[0],p=0;0<g&&0<m;){p+m+1>f&&(m=Math.max(1,f-p));h.push(e.substring(g-=m,g+m));if((p+=m+1)>f)break;m=b[l=(l+1)%b.length]}return h.reverse().join(d)}}function formatNumerals(b){return function(d){return d.replace(/[0-9]/g,function(d){return b[+d]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function formatSpecifier(b){if(!(d=re.exec(b)))throw Error("invalid format: "+b);var d;return new FormatSpecifier({fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:d[6],comma:d[7],precision:d[8]&&d[8].slice(1),trim:d[9],type:d[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;
function FormatSpecifier(b){this.fill=void 0===b.fill?" ":b.fill+"";this.align=void 0===b.align?">":b.align+"";this.sign=void 0===b.sign?"-":b.sign+"";this.symbol=void 0===b.symbol?"":b.symbol+"";this.zero=!!b.zero;this.width=void 0===b.width?void 0:+b.width;this.comma=!!b.comma;this.precision=void 0===b.precision?void 0:+b.precision;this.trim=!!b.trim;this.type=void 0===b.type?"":b.type+""}
FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(b){var d=b.length,e=1,f=-1,g;a:for(;e<d;++e)switch(b[e]){case ".":f=g=e;break;case "0":0===f&&(f=e);g=e;break;default:if(!+b[e])break a;0<f&&(f=0)}return 0<f?b.slice(0,f)+b.slice(g+1):b}var prefixExponent;
function formatPrefixAuto(b,d){var e=formatDecimalParts(b,d);if(!e)return b+"";var f=e[0];e=e[1];e=e-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1;var g=f.length;return e===g?f:e>g?f+Array(e-g+1).join("0"):0<e?f.slice(0,e)+"."+f.slice(e):"0."+Array(1-e).join("0")+formatDecimalParts(b,Math.max(0,d+e-1))[0]}
function formatRounded(b,d){d=formatDecimalParts(b,d);if(!d)return b+"";b=d[0];d=d[1];return 0>d?"0."+Array(-d).join("0")+b:b.length>d+1?b.slice(0,d+1)+"."+b.slice(d+1):b+Array(d-b.length+2).join("0")}
var formatTypes={"%":function(b,d){return(100*b).toFixed(d)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:formatDecimal,e:function(b,d){return b.toExponential(d)},f:function(b,d){return b.toFixed(d)},g:function(b,d){return b.toPrecision(d)},o:function(b){return Math.round(b).toString(8)},p:function(b,d){return formatRounded(100*b,d)},r:formatRounded,s:formatPrefixAuto,X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};
function identity$7(b){return b}var map$2=Array.prototype.map,prefixes="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ");
function formatLocale$1(b){function d(b){function d(b){var d=L,f=F,g,m;if("c"===N)f=G(b)+f,b="";else{b=+b;var r=0>b||0>1/b;b=isNaN(b)?n:G(Math.abs(b),I);O&&(b=formatTrim(b));r&&0===+b&&"+"!==u&&(r=!1);d=(r?"("===u?u:p:"-"===u||"("===u?"":u)+d;f=("s"===N?prefixes[8+prefixExponent/3]:"")+f+(r&&"("===u?")":"");if(U)for(r=-1,g=b.length;++r<g;)if(m=b.charCodeAt(r),48>m||57<m){f=(46===m?h+b.slice(r+1):b.slice(r))+f;b=b.slice(0,r);break}}z&&!J&&(b=e(b,Infinity));m=d.length+b.length+f.length;r=m<H?Array(H-
m+1).join(q):"";z&&J&&(b=e(r+b,r.length?H-f.length:Infinity),r="");switch(v){case "<":b=d+b+f+r;break;case "=":b=d+r+b+f;break;case "^":b=r.slice(0,m=r.length>>1)+d+b+f+r.slice(m);break;default:b=r+d+b+f}return l(b)}b=formatSpecifier(b);var q=b.fill,v=b.align,u=b.sign,w=b.symbol,J=b.zero,H=b.width,z=b.comma,I=b.precision,O=b.trim,N=b.type;"n"===N?(z=!0,N="g"):formatTypes[N]||(void 0===I&&(I=12),O=!0,N="g");if(J||"0"===q&&"="===v)J=!0,q="0",v="=";var L="$"===w?f:"#"===w&&/[boxX]/.test(N)?"0"+N.toLowerCase():
"",F="$"===w?g:/[%p]/.test(N)?m:"",G=formatTypes[N],U=/[defgprs%]/.test(N);I=void 0===I?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));d.toString=function(){return b+""};return d}var e=void 0===b.grouping||void 0===b.thousands?identity$7:formatGroup(map$2.call(b.grouping,Number),b.thousands+""),f=void 0===b.currency?"":b.currency[0]+"",g=void 0===b.currency?"":b.currency[1]+"",h=void 0===b.decimal?".":b.decimal+"",l=void 0===b.numerals?identity$7:formatNumerals(map$2.call(b.numerals,
String)),m=void 0===b.percent?"%":b.percent+"",p=void 0===b.minus?"-":b.minus+"",n=void 0===b.nan?"NaN":b.nan+"";return{format:d,formatPrefix:function(b,e){var f=d((b=formatSpecifier(b),b.type="f",b));b=3*Math.max(-8,Math.min(8,Math.floor(exponent(e)/3)));var g=Math.pow(10,-b),h=prefixes[8+b/3];return function(b){return f(g*b)+h}}}}var locale$1,format,formatPrefix;defaultLocale$1({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});
function defaultLocale$1(b){locale$1=formatLocale$1(b);format=locale$1.format;formatPrefix=locale$1.formatPrefix;return locale$1}function precisionFixed(b){return Math.max(0,-exponent(Math.abs(b)))}function precisionPrefix(b,d){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(d)/3)))-exponent(Math.abs(b)))}function precisionRound(b,d){b=Math.abs(b);d=Math.abs(d)-b;return Math.max(0,exponent(d)-exponent(b))+1}function adder(){return new Adder}function Adder(){this.reset()}
Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(b){add(temp,b,this.t);add(this,temp.s,this.s);this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add(b,d,e){var f=b.s=d+e,g=f-d;b.t=d-(f-g)+(e-g)}
var epsilon$2=1E-6,epsilon2$1=1E-12,pi$1=Math.PI,halfPi$1=pi$1/2,quarterPi=pi$1/4,tau$1=2*pi$1,degrees=180/pi$1,radians=pi$1/180,abs$1=Math.abs,atan=Math.atan,atan2$1=Math.atan2,cos$1=Math.cos,ceil=Math.ceil,exp=Math.exp,log$1=Math.log,pow$1=Math.pow,sin$1=Math.sin,sign$1=Math.sign||function(b){return 0<b?1:0>b?-1:0},sqrt$2=Math.sqrt,tan=Math.tan;function acos$1(b){return 1<b?0:-1>b?pi$1:Math.acos(b)}function asin$1(b){return 1<b?halfPi$1:-1>b?-halfPi$1:Math.asin(b)}
function haversin(b){return(b=sin$1(b/2))*b}function noop$2(){}function streamGeometry(b,d){if(b&&streamGeometryType.hasOwnProperty(b.type))streamGeometryType[b.type](b,d)}
var streamObjectType={Feature:function(b,d){streamGeometry(b.geometry,d)},FeatureCollection:function(b,d){b=b.features;for(var e=-1,f=b.length;++e<f;)streamGeometry(b[e].geometry,d)}},streamGeometryType={Sphere:function(b,d){d.sphere()},Point:function(b,d){b=b.coordinates;d.point(b[0],b[1],b[2])},MultiPoint:function(b,d){for(var e=b.coordinates,f=-1,g=e.length;++f<g;)b=e[f],d.point(b[0],b[1],b[2])},LineString:function(b,d){streamLine(b.coordinates,d,0)},MultiLineString:function(b,d){b=b.coordinates;
for(var e=-1,f=b.length;++e<f;)streamLine(b[e],d,0)},Polygon:function(b,d){streamPolygon(b.coordinates,d)},MultiPolygon:function(b,d){b=b.coordinates;for(var e=-1,f=b.length;++e<f;)streamPolygon(b[e],d)},GeometryCollection:function(b,d){b=b.geometries;for(var e=-1,f=b.length;++e<f;)streamGeometry(b[e],d)}};function streamLine(b,d,e){var f=-1;e=b.length-e;for(d.lineStart();++f<e;){var g=b[f];d.point(g[0],g[1],g[2])}d.lineEnd()}
function streamPolygon(b,d){var e=-1,f=b.length;for(d.polygonStart();++e<f;)streamLine(b[e],d,1);d.polygonEnd()}function geoStream(b,d){if(b&&streamObjectType.hasOwnProperty(b.type))streamObjectType[b.type](b,d);else streamGeometry(b,d)}
var areaRingSum$1=adder(),areaSum$1=adder(),lambda00$2,phi00$2,lambda0$2,cosPhi0$1,sinPhi0$1,areaStream$1={point:noop$2,lineStart:noop$2,lineEnd:noop$2,polygonStart:function(){areaRingSum$1.reset();areaStream$1.lineStart=areaRingStart$1;areaStream$1.lineEnd=areaRingEnd$1},polygonEnd:function(){var b=+areaRingSum$1;areaSum$1.add(0>b?tau$1+b:b);this.lineStart=this.lineEnd=this.point=noop$2},sphere:function(){areaSum$1.add(tau$1)}};function areaRingStart$1(){areaStream$1.point=areaPointFirst$1}
function areaRingEnd$1(){areaPoint$1(lambda00$2,phi00$2)}function areaPointFirst$1(b,d){areaStream$1.point=areaPoint$1;lambda00$2=b;phi00$2=d;b*=radians;d*=radians;lambda0$2=b;cosPhi0$1=cos$1(d=d/2+quarterPi);sinPhi0$1=sin$1(d)}function areaPoint$1(b,d){b*=radians;d*=radians;d=d/2+quarterPi;var e=b-lambda0$2,f=0<=e?1:-1,g=f*e;e=cos$1(d);d=sin$1(d);var h=sinPhi0$1*d,l=cosPhi0$1*e+h*cos$1(g);f=h*f*sin$1(g);areaRingSum$1.add(atan2$1(f,l));lambda0$2=b;cosPhi0$1=e;sinPhi0$1=d}
function area$2(b){areaSum$1.reset();geoStream(b,areaStream$1);return 2*areaSum$1}function spherical(b){return[atan2$1(b[1],b[0]),asin$1(b[2])]}function cartesian(b){var d=b[0];b=b[1];var e=cos$1(b);return[e*cos$1(d),e*sin$1(d),sin$1(b)]}function cartesianDot(b,d){return b[0]*d[0]+b[1]*d[1]+b[2]*d[2]}function cartesianCross(b,d){return[b[1]*d[2]-b[2]*d[1],b[2]*d[0]-b[0]*d[2],b[0]*d[1]-b[1]*d[0]]}function cartesianAddInPlace(b,d){b[0]+=d[0];b[1]+=d[1];b[2]+=d[2]}
function cartesianScale(b,d){return[b[0]*d,b[1]*d,b[2]*d]}function cartesianNormalizeInPlace(b){var d=sqrt$2(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]);b[0]/=d;b[1]/=d;b[2]/=d}
var lambda0$1,phi0,lambda1,phi1,lambda2,lambda00$1,phi00$1,p0,deltaSum=adder(),ranges,range$1,boundsStream$1={point:boundsPoint$1,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream$1.point=boundsRingPoint;boundsStream$1.lineStart=boundsRingStart;boundsStream$1.lineEnd=boundsRingEnd;deltaSum.reset();areaStream$1.polygonStart()},polygonEnd:function(){areaStream$1.polygonEnd();boundsStream$1.point=boundsPoint$1;boundsStream$1.lineStart=boundsLineStart;boundsStream$1.lineEnd=
boundsLineEnd;0>areaRingSum$1?(lambda0$1=-(lambda1=180),phi0=-(phi1=90)):deltaSum>epsilon$2?phi1=90:deltaSum<-epsilon$2&&(phi0=-90);range$1[0]=lambda0$1;range$1[1]=lambda1},sphere:function(){lambda0$1=-(lambda1=180);phi0=-(phi1=90)}};function boundsPoint$1(b,d){ranges.push(range$1=[lambda0$1=b,lambda1=b]);d<phi0&&(phi0=d);d>phi1&&(phi1=d)}
function linePoint(b,d){var e=cartesian([b*radians,d*radians]);if(p0){var f=cartesianCross(p0,e);f=cartesianCross([f[1],-f[0],0],f);cartesianNormalizeInPlace(f);f=spherical(f);var g=b-lambda2,h=0<g?1:-1,l=f[0]*degrees*h;g=180<abs$1(g);g^(h*lambda2<l&&l<h*b)?(f=f[1]*degrees,f>phi1&&(phi1=f)):(l=(l+360)%360-180,g^(h*lambda2<l&&l<h*b))?(f=-f[1]*degrees,f<phi0&&(phi0=f)):(d<phi0&&(phi0=d),d>phi1&&(phi1=d));g?b<lambda2?angle(lambda0$1,b)>angle(lambda0$1,lambda1)&&(lambda1=b):angle(b,lambda1)>angle(lambda0$1,
lambda1)&&(lambda0$1=b):lambda1>=lambda0$1?(b<lambda0$1&&(lambda0$1=b),b>lambda1&&(lambda1=b)):b>lambda2?angle(lambda0$1,b)>angle(lambda0$1,lambda1)&&(lambda1=b):angle(b,lambda1)>angle(lambda0$1,lambda1)&&(lambda0$1=b)}else ranges.push(range$1=[lambda0$1=b,lambda1=b]);d<phi0&&(phi0=d);d>phi1&&(phi1=d);p0=e;lambda2=b}function boundsLineStart(){boundsStream$1.point=linePoint}function boundsLineEnd(){range$1[0]=lambda0$1;range$1[1]=lambda1;boundsStream$1.point=boundsPoint$1;p0=null}
function boundsRingPoint(b,d){if(p0){var e=b-lambda2;deltaSum.add(180<abs$1(e)?e+(0<e?360:-360):e)}else lambda00$1=b,phi00$1=d;areaStream$1.point(b,d);linePoint(b,d)}function boundsRingStart(){areaStream$1.lineStart()}function boundsRingEnd(){boundsRingPoint(lambda00$1,phi00$1);areaStream$1.lineEnd();abs$1(deltaSum)>epsilon$2&&(lambda0$1=-(lambda1=180));range$1[0]=lambda0$1;range$1[1]=lambda1;p0=null}function angle(b,d){return 0>(d-=b)?d+360:d}function rangeCompare(b,d){return b[0]-d[0]}
function rangeContains(b,d){return b[0]<=b[1]?b[0]<=d&&d<=b[1]:d<b[0]||b[1]<d}
function bounds(b){var d,e,f;phi1=lambda1=-(lambda0$1=phi0=Infinity);ranges=[];geoStream(b,boundsStream$1);if(d=ranges.length){ranges.sort(rangeCompare);b=1;var g=ranges[0];for(e=[g];b<d;++b){var h=ranges[b];rangeContains(g,h[0])||rangeContains(g,h[1])?(angle(g[0],h[1])>angle(g[0],g[1])&&(g[1]=h[1]),angle(h[0],g[1])>angle(g[0],g[1])&&(g[0]=h[0])):e.push(g=h)}var l=-Infinity;d=e.length-1;b=0;for(g=e[d];b<=d;g=h,++b)h=e[b],(f=angle(g[1],h[0]))>l&&(l=f,lambda0$1=h[0],lambda1=g[1])}ranges=range$1=null;
return Infinity===lambda0$1||Infinity===phi0?[[NaN,NaN],[NaN,NaN]]:[[lambda0$1,phi0],[lambda1,phi1]]}
var W0,W1,X0$1,Y0$1,Z0$1,X1$1,Y1$1,Z1$1,X2$1,Y2$1,Z2$1,lambda00,phi00,x0$4,y0$4,z0,centroidStream$1={sphere:noop$2,point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){centroidStream$1.lineStart=centroidRingStart$1;centroidStream$1.lineEnd=centroidRingEnd$1},polygonEnd:function(){centroidStream$1.lineStart=centroidLineStart$1;centroidStream$1.lineEnd=centroidLineEnd$1}};
function centroidPoint$1(b,d){b*=radians;d*=radians;var e=cos$1(d);centroidPointCartesian(e*cos$1(b),e*sin$1(b),sin$1(d))}function centroidPointCartesian(b,d,e){++W0;X0$1+=(b-X0$1)/W0;Y0$1+=(d-Y0$1)/W0;Z0$1+=(e-Z0$1)/W0}function centroidLineStart$1(){centroidStream$1.point=centroidLinePointFirst}function centroidLinePointFirst(b,d){b*=radians;d*=radians;var e=cos$1(d);x0$4=e*cos$1(b);y0$4=e*sin$1(b);z0=sin$1(d);centroidStream$1.point=centroidLinePoint;centroidPointCartesian(x0$4,y0$4,z0)}
function centroidLinePoint(b,d){b*=radians;d*=radians;var e=cos$1(d),f=e*cos$1(b);b=e*sin$1(b);d=sin$1(d);var g=atan2$1(sqrt$2((g=y0$4*d-z0*b)*g+(g=z0*f-x0$4*d)*g+(g=x0$4*b-y0$4*f)*g),x0$4*f+y0$4*b+z0*d);W1+=g;X1$1+=g*(x0$4+(x0$4=f));Y1$1+=g*(y0$4+(y0$4=b));Z1$1+=g*(z0+(z0=d));centroidPointCartesian(x0$4,y0$4,z0)}function centroidLineEnd$1(){centroidStream$1.point=centroidPoint$1}function centroidRingStart$1(){centroidStream$1.point=centroidRingPointFirst}
function centroidRingEnd$1(){centroidRingPoint(lambda00,phi00);centroidStream$1.point=centroidPoint$1}function centroidRingPointFirst(b,d){lambda00=b;phi00=d;b*=radians;d*=radians;centroidStream$1.point=centroidRingPoint;var e=cos$1(d);x0$4=e*cos$1(b);y0$4=e*sin$1(b);z0=sin$1(d);centroidPointCartesian(x0$4,y0$4,z0)}
function centroidRingPoint(b,d){b*=radians;d*=radians;var e=cos$1(d),f=e*cos$1(b);b=e*sin$1(b);d=sin$1(d);e=y0$4*d-z0*b;var g=z0*f-x0$4*d,h=x0$4*b-y0$4*f,l=sqrt$2(e*e+g*g+h*h),m=asin$1(l);l=l&&-m/l;X2$1+=l*e;Y2$1+=l*g;Z2$1+=l*h;W1+=m;X1$1+=m*(x0$4+(x0$4=f));Y1$1+=m*(y0$4+(y0$4=b));Z1$1+=m*(z0+(z0=d));centroidPointCartesian(x0$4,y0$4,z0)}
function centroid$1(b){W0=W1=X0$1=Y0$1=Z0$1=X1$1=Y1$1=Z1$1=X2$1=Y2$1=Z2$1=0;geoStream(b,centroidStream$1);b=X2$1;var d=Y2$1,e=Z2$1,f=b*b+d*d+e*e;return f<epsilon2$1&&(b=X1$1,d=Y1$1,e=Z1$1,W1<epsilon$2&&(b=X0$1,d=Y0$1,e=Z0$1),f=b*b+d*d+e*e,f<epsilon2$1)?[NaN,NaN]:[atan2$1(d,b)*degrees,asin$1(e/sqrt$2(f))*degrees]}function constant$6(b){return function(){return b}}
function compose(b,d){function e(e,g){return e=b(e,g),d(e[0],e[1])}b.invert&&d.invert&&(e.invert=function(e,g){return e=d.invert(e,g),e&&b.invert(e[0],e[1])});return e}function rotationIdentity(b,d){return[abs$1(b)>pi$1?b+Math.round(-b/tau$1)*tau$1:b,d]}rotationIdentity.invert=rotationIdentity;function rotateRadians(b,d,e){return(b%=tau$1)?d||e?compose(rotationLambda(b),rotationPhiGamma(d,e)):rotationLambda(b):d||e?rotationPhiGamma(d,e):rotationIdentity}
function forwardRotationLambda(b){return function(d,e){return d+=b,[d>pi$1?d-tau$1:d<-pi$1?d+tau$1:d,e]}}function rotationLambda(b){var d=forwardRotationLambda(b);d.invert=forwardRotationLambda(-b);return d}
function rotationPhiGamma(b,d){function e(b,d){var e=cos$1(d),m=cos$1(b)*e;b=sin$1(b)*e;d=sin$1(d);e=d*f+m*g;return[atan2$1(b*h-e*l,m*f-d*g),asin$1(e*h+b*l)]}var f=cos$1(b),g=sin$1(b),h=cos$1(d),l=sin$1(d);e.invert=function(b,d){var e=cos$1(d),m=cos$1(b)*e;b=sin$1(b)*e;d=sin$1(d);e=d*h-b*l;return[atan2$1(b*h+d*l,m*f+e*g),asin$1(e*f-m*g)]};return e}
function rotation(b){function d(d){d=b(d[0]*radians,d[1]*radians);return d[0]*=degrees,d[1]*=degrees,d}b=rotateRadians(b[0]*radians,b[1]*radians,2<b.length?b[2]*radians:0);d.invert=function(d){d=b.invert(d[0]*radians,d[1]*radians);return d[0]*=degrees,d[1]*=degrees,d};return d}
function circleStream(b,d,e,f,g,h){if(e){var l=cos$1(d),m=sin$1(d);e*=f;if(null==g)g=d+f*tau$1,h=d-e/2;else if(g=circleRadius(l,g),h=circleRadius(l,h),0<f?g<h:g>h)g+=f*tau$1;for(;0<f?g>h:g<h;g-=e)d=spherical([l,-m*cos$1(g),-m*sin$1(g)]),b.point(d[0],d[1])}}function circleRadius(b,d){d=cartesian(d);d[0]-=b;cartesianNormalizeInPlace(d);b=acos$1(-d[1]);return((0>-d[2]?-b:b)+tau$1-epsilon$2)%tau$1}
function circle$3(){function b(){var b=d.apply(this,arguments),p=e.apply(this,arguments)*radians,n=f.apply(this,arguments)*radians;g=[];h=rotateRadians(-b[0]*radians,-b[1]*radians,0).invert;circleStream(l,p,n,1);b={type:"Polygon",coordinates:[g]};g=h=null;return b}var d=constant$6([0,0]),e=constant$6(90),f=constant$6(6),g,h,l={point:function(b,d){g.push(b=h(b,d));b[0]*=degrees;b[1]*=degrees}};b.center=function(e){return arguments.length?(d="function"===typeof e?e:constant$6([+e[0],+e[1]]),b):d};b.radius=
function(d){return arguments.length?(e="function"===typeof d?d:constant$6(+d),b):e};b.precision=function(d){return arguments.length?(f="function"===typeof d?d:constant$6(+d),b):f};return b}function clipBuffer(){var b=[],d;return{point:function(b,f,g){d.push([b,f,g])},lineStart:function(){b.push(d=[])},lineEnd:noop$2,rejoin:function(){1<b.length&&b.push(b.pop().concat(b.shift()))},result:function(){var e=b;b=[];d=null;return e}}}
function pointEqual(b,d){return abs$1(b[0]-d[0])<epsilon$2&&abs$1(b[1]-d[1])<epsilon$2}function Intersection(b,d,e,f){this.x=b;this.z=d;this.o=e;this.e=f;this.v=!1;this.n=this.p=null}
function clipRejoin(b,d,e,f,g){var h=[],l=[];b.forEach(function(b){if(!(0>=(d=b.length-1))){var d,e=b[0],f=b[d];if(pointEqual(e,f)){if(!e[2]&&!f[2]){g.lineStart();for(m=0;m<d;++m)g.point((e=b[m])[0],e[1]);g.lineEnd();return}f[0]+=2*epsilon$2}h.push(d=new Intersection(e,b,null,!0));l.push(d.o=new Intersection(e,null,d,!1));h.push(d=new Intersection(f,b,null,!1));l.push(d.o=new Intersection(f,null,d,!0))}});if(h.length){l.sort(d);link$1(h);link$1(l);var m=0;for(b=l.length;m<b;++m)l[m].e=e=!e;e=h[0];
for(var p;;){for(var n=e,q=!0;n.v;)if((n=n.n)===e)return;d=n.z;g.lineStart();do{n.v=n.o.v=!0;if(n.e){if(q)for(m=0,b=d.length;m<b;++m)g.point((p=d[m])[0],p[1]);else f(n.x,n.n.x,1,g);n=n.n}else{if(q)for(d=n.p.z,m=d.length-1;0<=m;--m)g.point((p=d[m])[0],p[1]);else f(n.x,n.p.x,-1,g);n=n.p}n=n.o;d=n.z;q=!q}while(!n.v);g.lineEnd()}}}function link$1(b){if(d=b.length){for(var d,e=0,f=b[0],g;++e<d;)f.n=g=b[e],g.p=f,f=g;f.n=g=b[0];g.p=f}}var sum$1=adder();
function longitude(b){return abs$1(b[0])<=pi$1?b[0]:sign$1(b[0])*((abs$1(b[0])+pi$1)%tau$1-pi$1)}
function polygonContains(b,d){var e=longitude(d);d=d[1];var f=sin$1(d),g=[sin$1(e),-cos$1(e),0],h=0,l=0;sum$1.reset();1===f?d=halfPi$1+epsilon$2:-1===f&&(d=-halfPi$1-epsilon$2);f=0;for(var m=b.length;f<m;++f)if(n=(p=b[f]).length){var p,n,q=p[n-1],r=longitude(q),t=q[1]/2+quarterPi,v=sin$1(t),u=cos$1(t);for(t=0;t<n;++t,r=J,v=H,u=z,q=w){var w=p[t],J=longitude(w);z=w[1]/2+quarterPi;var H=sin$1(z),z=cos$1(z),I=J-r,O=0<=I?1:-1,N=O*I,L=N>pi$1;v*=H;sum$1.add(atan2$1(v*O*sin$1(N),u*z+v*cos$1(N)));h+=L?I+O*
tau$1:I;L^r>=e^J>=e&&(q=cartesianCross(cartesian(q),cartesian(w)),cartesianNormalizeInPlace(q),r=cartesianCross(g,q),cartesianNormalizeInPlace(r),r=(L^0<=I?-1:1)*asin$1(r[2]),d>r||d===r&&(q[0]||q[1]))&&(l+=L^0<=I?1:-1)}}return(h<-epsilon$2||h<epsilon$2&&sum$1<-epsilon$2)^l&1}
function clip(b,d,e,f){return function(g){function h(d,e){b(d,e)&&g.point(d,e)}function l(b,d){t.point(b,d)}function m(){I.point=l;t.lineStart()}function p(){I.point=h;t.lineEnd()}function n(b,d){z.push([b,d]);u.point(b,d)}function q(){u.lineStart();z=[]}function r(){n(z[0][0],z[0][1]);u.lineEnd();var b=u.clean(),d=v.result(),e=d.length,f;z.pop();J.push(z);z=null;if(e)if(b&1){if(e=d[0],0<(d=e.length-1)){w||(g.polygonStart(),w=!0);g.lineStart();for(b=0;b<d;++b)g.point((f=e[b])[0],f[1]);g.lineEnd()}}else 1<
e&&b&2&&d.push(d.pop().concat(d.shift())),H.push(d.filter(validSegment))}var t=d(g),v=clipBuffer(),u=d(v),w=!1,J,H,z,I={point:h,lineStart:m,lineEnd:p,polygonStart:function(){I.point=n;I.lineStart=q;I.lineEnd=r;H=[];J=[]},polygonEnd:function(){I.point=h;I.lineStart=m;I.lineEnd=p;H=merge$1(H);var b=polygonContains(J,f);H.length?(w||(g.polygonStart(),w=!0),clipRejoin(H,compareIntersection,b,e,g)):b&&(w||(g.polygonStart(),w=!0),g.lineStart(),e(null,null,1,g),g.lineEnd());w&&(g.polygonEnd(),w=!1);H=J=
null},sphere:function(){g.polygonStart();g.lineStart();e(null,null,1,g);g.lineEnd();g.polygonEnd()}};return I}}function validSegment(b){return 1<b.length}function compareIntersection(b,d){return(0>(b=b.x)[0]?b[1]-halfPi$1-epsilon$2:halfPi$1-b[1])-(0>(d=d.x)[0]?d[1]-halfPi$1-epsilon$2:halfPi$1-d[1])}var clipAntimeridian=clip(function(){return!0},clipAntimeridianLine,clipAntimeridianInterpolate,[-pi$1,-halfPi$1]);
function clipAntimeridianLine(b){var d=NaN,e=NaN,f=NaN,g;return{lineStart:function(){b.lineStart();g=1},point:function(h,l){var m=0<h?pi$1:-pi$1,p=abs$1(h-d);abs$1(p-pi$1)<epsilon$2?(b.point(d,e=0<(e+l)/2?halfPi$1:-halfPi$1),b.point(f,e),b.lineEnd(),b.lineStart(),b.point(m,e),b.point(h,e),g=0):f!==m&&p>=pi$1&&(abs$1(d-f)<epsilon$2&&(d-=f*epsilon$2),abs$1(h-m)<epsilon$2&&(h-=m*epsilon$2),e=clipAntimeridianIntersect(d,e,h,l),b.point(f,e),b.lineEnd(),b.lineStart(),b.point(m,e),g=0);b.point(d=h,e=l);
f=m},lineEnd:function(){b.lineEnd();d=e=NaN},clean:function(){return 2-g}}}function clipAntimeridianIntersect(b,d,e,f){var g,h,l=sin$1(b-e);return abs$1(l)>epsilon$2?atan((sin$1(d)*(h=cos$1(f))*sin$1(e)-sin$1(f)*(g=cos$1(d))*sin$1(b))/(g*h*l)):(d+f)/2}
function clipAntimeridianInterpolate(b,d,e,f){null==b?(e*=halfPi$1,f.point(-pi$1,e),f.point(0,e),f.point(pi$1,e),f.point(pi$1,0),f.point(pi$1,-e),f.point(0,-e),f.point(-pi$1,-e),f.point(-pi$1,0),f.point(-pi$1,e)):abs$1(b[0]-d[0])>epsilon$2?(b=b[0]<d[0]?pi$1:-pi$1,e=e*b/2,f.point(-b,e),f.point(0,e),f.point(b,e)):f.point(d[0],d[1])}
function clipCircle(b){function d(b,d){return cos$1(b)*cos$1(d)>g}function e(b,d,e){var f=cartesian(b),h=cartesian(d),l=[1,0,0];h=cartesianCross(f,h);var n=cartesianDot(h,h);f=h[0];var m=n-f*f;if(!m)return!e&&b;n=g*n/m;m=-g*f/m;f=cartesianCross(l,h);l=cartesianScale(l,n);h=cartesianScale(h,m);cartesianAddInPlace(l,h);h=cartesianDot(l,f);n=cartesianDot(f,f);m=h*h-n*(cartesianDot(l,l)-1);if(!(0>m)){var p=sqrt$2(m);m=cartesianScale(f,(-h-p)/n);cartesianAddInPlace(m,l);m=spherical(m);if(!e)return m;e=
b[0];var q=d[0];b=b[1];d=d[1];if(q<e){var z=e;e=q;q=z}var I=q-e,O=abs$1(I-pi$1)<epsilon$2,N=O||I<epsilon$2;!O&&d<b&&(z=b,b=d,d=z);if(N?O?0<b+d^m[1]<(abs$1(m[0]-e)<epsilon$2?b:d):b<=m[1]&&m[1]<=d:I>pi$1^(e<=m[0]&&m[0]<=q))return d=cartesianScale(f,(-h+p)/n),cartesianAddInPlace(d,l),[m,spherical(d)]}}function f(d,e){var f=l?b:pi$1-b,g=0;d<-f?g|=1:d>f&&(g|=2);e<-f?g|=4:e>f&&(g|=8);return g}var g=cos$1(b),h=6*radians,l=0<g,m=abs$1(g)>epsilon$2;return clip(d,function(b){var g,h,p,t,v;return{lineStart:function(){t=
p=!1;v=1},point:function(n,q){var r=[n,q],u=d(n,q);q=l?u?0:f(n,q):u?f(n+(0>n?pi$1:-pi$1),q):0;!g&&(t=p=u)&&b.lineStart();u!==p&&(n=e(g,r),!n||pointEqual(g,n)||pointEqual(r,n))&&(r[2]=1);if(u!==p)v=0,u?(b.lineStart(),n=e(r,g),b.point(n[0],n[1])):(n=e(g,r),b.point(n[0],n[1],2),b.lineEnd()),g=n;else if(m&&g&&l^u){var z;q&h||!(z=e(r,g,!0))||(v=0,l?(b.lineStart(),b.point(z[0][0],z[0][1]),b.point(z[1][0],z[1][1]),b.lineEnd()):(b.point(z[1][0],z[1][1]),b.lineEnd(),b.lineStart(),b.point(z[0][0],z[0][1],3)))}!u||
g&&pointEqual(g,r)||b.point(r[0],r[1]);g=r;p=u;h=q},lineEnd:function(){p&&b.lineEnd();g=null},clean:function(){return v|(t&&p)<<1}}},function(d,e,f,g){circleStream(g,b,h,f,d,e)},l?[0,-b]:[-pi$1,b-pi$1])}
function clipLine(b,d,e,f,g,h){var l=b[0],m=b[1],p=0,n=1,q=d[0]-l,r=d[1]-m;e-=l;if(q||!(0<e)){e/=q;if(0>q){if(e<p)return;e<n&&(n=e)}else if(0<q){if(e>n)return;e>p&&(p=e)}e=g-l;if(q||!(0>e)){e/=q;if(0>q){if(e>n)return;e>p&&(p=e)}else if(0<q){if(e<p)return;e<n&&(n=e)}e=f-m;if(r||!(0<e)){e/=r;if(0>r){if(e<p)return;e<n&&(n=e)}else if(0<r){if(e>n)return;e>p&&(p=e)}e=h-m;if(r||!(0>e)){e/=r;if(0>r){if(e>n)return;e>p&&(p=e)}else if(0<r){if(e<p)return;e<n&&(n=e)}0<p&&(b[0]=l+p*q,b[1]=m+p*r);1>n&&(d[0]=l+n*
q,d[1]=m+n*r);return!0}}}}}var clipMax=1E9,clipMin=-clipMax;
function clipRectangle(b,d,e,f){function g(g,l,q,r){var n=0,p=0;if(null==g||(n=h(g,q))!==(p=h(l,q))||0>m(g,l)^0<q){do r.point(0===n||3===n?b:e,1<n?f:d);while((n=(n+q+4)%4)!==p)}else r.point(l[0],l[1])}function h(f,g){return abs$1(f[0]-b)<epsilon$2?0<g?0:3:abs$1(f[0]-e)<epsilon$2?0<g?2:1:abs$1(f[1]-d)<epsilon$2?0<g?1:0:0<g?3:2}function l(b,d){return m(b.x,d.x)}function m(b,d){var e=h(b,1),f=h(d,1);return e!==f?e-f:0===e?d[1]-b[1]:1===e?b[0]-d[0]:2===e?b[1]-d[1]:d[0]-b[0]}return function(h){function n(g,
h){b<=g&&g<=e&&d<=h&&h<=f&&p.point(g,h)}function m(g,h){var l=b<=g&&g<=e&&d<=h&&h<=f;u&&w.push([g,h]);if(L)J=g,H=h,z=l,L=!1,l&&(p.lineStart(),p.point(g,h));else if(l&&N)p.point(g,h);else{var n=[I=Math.max(clipMin,Math.min(clipMax,I)),O=Math.max(clipMin,Math.min(clipMax,O))],m=[g=Math.max(clipMin,Math.min(clipMax,g)),h=Math.max(clipMin,Math.min(clipMax,h))];clipLine(n,m,b,d,e,f)?(N||(p.lineStart(),p.point(n[0],n[1])),p.point(m[0],m[1]),l||p.lineEnd(),F=!1):l&&(p.lineStart(),p.point(g,h),F=!1)}I=g;
O=h;N=l}var p=h,t=clipBuffer(),v,u,w,J,H,z,I,O,N,L,F,G={point:n,lineStart:function(){G.point=m;u&&u.push(w=[]);L=!0;N=!1;I=O=NaN},lineEnd:function(){v&&(m(J,H),z&&N&&t.rejoin(),v.push(t.result()));G.point=n;N&&p.lineEnd()},polygonStart:function(){p=t;v=[];u=[];F=!0},polygonEnd:function(){for(var d,e=d=0,n=u.length;e<n;++e){var m=u[e],q=1,r=m.length,t=m[0],G=t[0];for(t=t[1];q<r;++q){var z=G;var I=t;t=m[q];G=t[0];t=t[1];I<=f?t>f&&(G-z)*(f-I)>(t-I)*(b-z)&&++d:t<=f&&(G-z)*(f-I)<(t-I)*(b-z)&&--d}}e=F&&
d;n=(v=merge$1(v)).length;if(e||n)h.polygonStart(),e&&(h.lineStart(),g(null,null,1,h),h.lineEnd()),n&&clipRejoin(v,l,d,g,h),h.polygonEnd();p=h;v=u=w=null}};return G}}function extent(){var b=0,d=0,e=960,f=500,g,h,l;return l={stream:function(l){return g&&h===l?g:g=clipRectangle(b,d,e,f)(h=l)},extent:function(m){return arguments.length?(b=+m[0][0],d=+m[0][1],e=+m[1][0],f=+m[1][1],g=h=null,l):[[b,d],[e,f]]}}}
var lengthSum$1=adder(),lambda0,sinPhi0,cosPhi0,lengthStream$1={sphere:noop$2,point:noop$2,lineStart:lengthLineStart,lineEnd:noop$2,polygonStart:noop$2,polygonEnd:noop$2};function lengthLineStart(){lengthStream$1.point=lengthPointFirst$1;lengthStream$1.lineEnd=lengthLineEnd}function lengthLineEnd(){lengthStream$1.point=lengthStream$1.lineEnd=noop$2}function lengthPointFirst$1(b,d){b*=radians;d*=radians;lambda0=b;sinPhi0=sin$1(d);cosPhi0=cos$1(d);lengthStream$1.point=lengthPoint$1}
function lengthPoint$1(b,d){b*=radians;d*=radians;var e=sin$1(d);d=cos$1(d);var f=abs$1(b-lambda0),g=cos$1(f);f=sin$1(f);f*=d;var h=cosPhi0*e-sinPhi0*d*g;g=sinPhi0*e+cosPhi0*d*g;lengthSum$1.add(atan2$1(sqrt$2(f*f+h*h),g));lambda0=b;sinPhi0=e;cosPhi0=d}function length$1(b){lengthSum$1.reset();geoStream(b,lengthStream$1);return+lengthSum$1}var coordinates=[null,null],object={type:"LineString",coordinates};function distance(b,d){coordinates[0]=b;coordinates[1]=d;return length$1(object)}
var containsObjectType={Feature:function(b,d){return containsGeometry(b.geometry,d)},FeatureCollection:function(b,d){b=b.features;for(var e=-1,f=b.length;++e<f;)if(containsGeometry(b[e].geometry,d))return!0;return!1}},containsGeometryType={Sphere:function(){return!0},Point:function(b,d){return containsPoint(b.coordinates,d)},MultiPoint:function(b,d){b=b.coordinates;for(var e=-1,f=b.length;++e<f;)if(containsPoint(b[e],d))return!0;return!1},LineString:function(b,d){return containsLine(b.coordinates,
d)},MultiLineString:function(b,d){b=b.coordinates;for(var e=-1,f=b.length;++e<f;)if(containsLine(b[e],d))return!0;return!1},Polygon:function(b,d){return containsPolygon(b.coordinates,d)},MultiPolygon:function(b,d){b=b.coordinates;for(var e=-1,f=b.length;++e<f;)if(containsPolygon(b[e],d))return!0;return!1},GeometryCollection:function(b,d){b=b.geometries;for(var e=-1,f=b.length;++e<f;)if(containsGeometry(b[e],d))return!0;return!1}};
function containsGeometry(b,d){return b&&containsGeometryType.hasOwnProperty(b.type)?containsGeometryType[b.type](b,d):!1}function containsPoint(b,d){return 0===distance(b,d)}function containsLine(b,d){for(var e,f,g,h=0,l=b.length;h<l;h++){f=distance(b[h],d);if(0===f||0<h&&(g=distance(b[h],b[h-1]),0<g&&e<=g&&f<=g&&(e+f-g)*(1-Math.pow((e-f)/g,2))<epsilon2$1*g))return!0;e=f}return!1}function containsPolygon(b,d){return!!polygonContains(b.map(ringRadians),pointRadians(d))}
function ringRadians(b){return b=b.map(pointRadians),b.pop(),b}function pointRadians(b){return[b[0]*radians,b[1]*radians]}function contains$1(b,d){return(b&&containsObjectType.hasOwnProperty(b.type)?containsObjectType[b.type]:containsGeometry)(b,d)}function graticuleX(b,d,e){var f=sequence(b,d-epsilon$2,e).concat(d);return function(b){return f.map(function(d){return[b,d]})}}
function graticuleY(b,d,e){var f=sequence(b,d-epsilon$2,e).concat(d);return function(b){return f.map(function(d){return[d,b]})}}
function graticule(){function b(){return{type:"MultiLineString",coordinates:d()}}function d(){return sequence(ceil(h/t)*t,g,t).map(J).concat(sequence(ceil(n/v)*v,p,v).map(H)).concat(sequence(ceil(f/q)*q,e,q).filter(function(b){return abs$1(b%t)>epsilon$2}).map(u)).concat(sequence(ceil(m/r)*r,l,r).filter(function(b){return abs$1(b%v)>epsilon$2}).map(w))}var e,f,g,h,l,m,p,n,q=10,r=q,t=90,v=360,u,w,J,H,z=2.5;b.lines=function(){return d().map(function(b){return{type:"LineString",coordinates:b}})};b.outline=
function(){return{type:"Polygon",coordinates:[J(h).concat(H(p).slice(1),J(g).reverse().slice(1),H(n).reverse().slice(1))]}};b.extent=function(d){return arguments.length?b.extentMajor(d).extentMinor(d):b.extentMinor()};b.extentMajor=function(d){if(!arguments.length)return[[h,n],[g,p]];h=+d[0][0];g=+d[1][0];n=+d[0][1];p=+d[1][1];h>g&&(d=h,h=g,g=d);n>p&&(d=n,n=p,p=d);return b.precision(z)};b.extentMinor=function(d){if(!arguments.length)return[[f,m],[e,l]];f=+d[0][0];e=+d[1][0];m=+d[0][1];l=+d[1][1];
f>e&&(d=f,f=e,e=d);m>l&&(d=m,m=l,l=d);return b.precision(z)};b.step=function(d){return arguments.length?b.stepMajor(d).stepMinor(d):b.stepMinor()};b.stepMajor=function(d){if(!arguments.length)return[t,v];t=+d[0];v=+d[1];return b};b.stepMinor=function(d){if(!arguments.length)return[q,r];q=+d[0];r=+d[1];return b};b.precision=function(d){if(!arguments.length)return z;z=+d;u=graticuleX(m,l,90);w=graticuleY(f,e,z);J=graticuleX(n,p,90);H=graticuleY(h,g,z);return b};return b.extentMajor([[-180,-90+epsilon$2],
[180,90-epsilon$2]]).extentMinor([[-180,-80-epsilon$2],[180,80+epsilon$2]])}function graticule10(){return graticule()()}
function interpolate(b,d){var e=b[0]*radians,f=b[1]*radians;b=d[0]*radians;d=d[1]*radians;var g=cos$1(f),h=sin$1(f),l=cos$1(d),m=sin$1(d),p=g*cos$1(e),n=g*sin$1(e),q=l*cos$1(b),r=l*sin$1(b),t=2*asin$1(sqrt$2(haversin(d-f)+g*l*haversin(b-e))),v=sin$1(t);b=t?function(b){var d=sin$1(b*=t)/v,e=sin$1(t-b)/v;b=e*p+d*q;var f=e*n+d*r;d=e*h+d*m;return[atan2$1(f,b)*degrees,atan2$1(d,sqrt$2(b*b+f*f))*degrees]}:function(){return[e*degrees,f*degrees]};b.distance=t;return b}function identity$6(b){return b}
var areaSum=adder(),areaRingSum=adder(),x00$2,y00$2,x0$3,y0$3,areaStream={point:noop$2,lineStart:noop$2,lineEnd:noop$2,polygonStart:function(){areaStream.lineStart=areaRingStart;areaStream.lineEnd=areaRingEnd},polygonEnd:function(){areaStream.lineStart=areaStream.lineEnd=areaStream.point=noop$2;areaSum.add(abs$1(areaRingSum));areaRingSum.reset()},result:function(){var b=areaSum/2;areaSum.reset();return b}};function areaRingStart(){areaStream.point=areaPointFirst}
function areaPointFirst(b,d){areaStream.point=areaPoint;x00$2=x0$3=b;y00$2=y0$3=d}function areaPoint(b,d){areaRingSum.add(y0$3*b-x0$3*d);x0$3=b;y0$3=d}function areaRingEnd(){areaPoint(x00$2,y00$2)}var x0$2=Infinity,y0$2=x0$2,x1=-x0$2,y1=x1,boundsStream={point:boundsPoint,lineStart:noop$2,lineEnd:noop$2,polygonStart:noop$2,polygonEnd:noop$2,result:function(){var b=[[x0$2,y0$2],[x1,y1]];x1=y1=-(y0$2=x0$2=Infinity);return b}};
function boundsPoint(b,d){b<x0$2&&(x0$2=b);b>x1&&(x1=b);d<y0$2&&(y0$2=d);d>y1&&(y1=d)}
var X0=0,Y0=0,Z0=0,X1=0,Y1=0,Z1=0,X2=0,Y2=0,Z2=0,x00$1,y00$1,x0$1,y0$1,centroidStream={point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart;centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.point=centroidPoint;centroidStream.lineStart=centroidLineStart;centroidStream.lineEnd=centroidLineEnd},result:function(){var b=Z2?[X2/Z2,Y2/Z2]:Z1?[X1/Z1,Y1/Z1]:Z0?[X0/Z0,Y0/Z0]:[NaN,NaN];X0=Y0=Z0=X1=
Y1=Z1=X2=Y2=Z2=0;return b}};function centroidPoint(b,d){X0+=b;Y0+=d;++Z0}function centroidLineStart(){centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(b,d){centroidStream.point=centroidPointLine;centroidPoint(x0$1=b,y0$1=d)}function centroidPointLine(b,d){var e=b-x0$1,f=d-y0$1;e=sqrt$2(e*e+f*f);X1+=e*(x0$1+b)/2;Y1+=e*(y0$1+d)/2;Z1+=e;centroidPoint(x0$1=b,y0$1=d)}function centroidLineEnd(){centroidStream.point=centroidPoint}
function centroidRingStart(){centroidStream.point=centroidPointFirstRing}function centroidRingEnd(){centroidPointRing(x00$1,y00$1)}function centroidPointFirstRing(b,d){centroidStream.point=centroidPointRing;centroidPoint(x00$1=x0$1=b,y00$1=y0$1=d)}function centroidPointRing(b,d){var e=b-x0$1,f=d-y0$1;e=sqrt$2(e*e+f*f);X1+=e*(x0$1+b)/2;Y1+=e*(y0$1+d)/2;Z1+=e;e=y0$1*b-x0$1*d;X2+=e*(x0$1+b);Y2+=e*(y0$1+d);Z2+=3*e;centroidPoint(x0$1=b,y0$1=d)}function PathContext(b){this._context=b}
PathContext.prototype={_radius:4.5,pointRadius:function(b){return this._radius=b,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(b,d){switch(this._point){case 0:this._context.moveTo(b,d);this._point=1;break;case 1:this._context.lineTo(b,d);break;default:this._context.moveTo(b+this._radius,d),this._context.arc(b,d,this._radius,0,tau$1)}},
result:noop$2};var lengthSum=adder(),lengthRing,x00,y00,x0,y0,lengthStream={point:noop$2,lineStart:function(){lengthStream.point=lengthPointFirst},lineEnd:function(){lengthRing&&lengthPoint(x00,y00);lengthStream.point=noop$2},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var b=+lengthSum;lengthSum.reset();return b}};function lengthPointFirst(b,d){lengthStream.point=lengthPoint;x00=x0=b;y00=y0=d}
function lengthPoint(b,d){x0-=b;y0-=d;lengthSum.add(sqrt$2(x0*x0+y0*y0));x0=b;y0=d}function PathString(){this._string=[]}
PathString.prototype={_radius:4.5,_circle:circle$2(4.5),pointRadius:function(b){(b=+b)!==this._radius&&(this._radius=b,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(b,d){switch(this._point){case 0:this._string.push("M",b,",",d);this._point=1;break;case 1:this._string.push("L",b,",",d);break;default:null==this._circle&&
(this._circle=circle$2(this._radius)),this._string.push("M",b,",",d,this._circle)}},result:function(){if(this._string.length){var b=this._string.join("");this._string=[];return b}return null}};function circle$2(b){return"m0,"+b+"a"+b+","+b+" 0 1,1 0,"+-2*b+"a"+b+","+b+" 0 1,1 0,"+2*b+"z"}
function index$2(b,d){function e(b){b&&("function"===typeof f&&h.pointRadius(+f.apply(this,arguments)),geoStream(b,g(h)));return h.result()}var f=4.5,g,h;e.area=function(b){geoStream(b,g(areaStream));return areaStream.result()};e.measure=function(b){geoStream(b,g(lengthStream));return lengthStream.result()};e.bounds=function(b){geoStream(b,g(boundsStream));return boundsStream.result()};e.centroid=function(b){geoStream(b,g(centroidStream));return centroidStream.result()};e.projection=function(d){return arguments.length?
(g=null==d?(b=null,identity$6):(b=d).stream,e):b};e.context=function(b){if(!arguments.length)return d;h=null==b?(d=null,new PathString):new PathContext(d=b);"function"!==typeof f&&h.pointRadius(f);return e};e.pointRadius=function(b){if(!arguments.length)return f;f="function"===typeof b?b:(h.pointRadius(+b),+b);return e};return e.projection(b).context(d)}function transform$2(b){return{stream:transformer$3(b)}}
function transformer$3(b){return function(d){var e=new TransformStream,f;for(f in b)e[f]=b[f];e.stream=d;return e}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(b,d){this.stream.point(b,d)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
function fit(b,d,e){var f=b.clipExtent&&b.clipExtent();b.scale(150).translate([0,0]);null!=f&&b.clipExtent(null);geoStream(e,b.stream(boundsStream));d(boundsStream.result());null!=f&&b.clipExtent(f);return b}function fitExtent(b,d,e){return fit(b,function(e){var f=d[1][0]-d[0][0],h=d[1][1]-d[0][1],l=Math.min(f/(e[1][0]-e[0][0]),h/(e[1][1]-e[0][1]));f=+d[0][0]+(f-l*(e[1][0]+e[0][0]))/2;e=+d[0][1]+(h-l*(e[1][1]+e[0][1]))/2;b.scale(150*l).translate([f,e])},e)}
function fitSize(b,d,e){return fitExtent(b,[[0,0],d],e)}function fitWidth(b,d,e){return fit(b,function(e){var f=+d,h=f/(e[1][0]-e[0][0]);f=(f-h*(e[1][0]+e[0][0]))/2;e=-h*e[0][1];b.scale(150*h).translate([f,e])},e)}function fitHeight(b,d,e){return fit(b,function(e){var f=+d,h=f/(e[1][1]-e[0][1]),l=-h*e[0][0];e=(f-h*(e[1][1]+e[0][1]))/2;b.scale(150*h).translate([l,e])},e)}var maxDepth=16,cosMinDistance=cos$1(30*radians);function resample(b,d){return+d?resample$1(b,d):resampleNone(b)}
function resampleNone(b){return transformer$3({point:function(d,e){d=b(d,e);this.stream.point(d[0],d[1])}})}
function resample$1(b,d){function e(f,g,h,l,m,p,n,q,r,t,v,u,w,J){var H=n-f,z=q-g,I=H*H+z*z;if(I>4*d&&w--){var O=l+t,N=m+v,L=p+u,F=sqrt$2(O*O+N*N+L*L),G=asin$1(L/=F),U=abs$1(abs$1(L)-1)<epsilon$2||abs$1(h-r)<epsilon$2?(h+r)/2:atan2$1(N,O),R=b(U,G);G=R[0];R=R[1];var W=G-f,T=R-g,ea=z*W-H*T;if(ea*ea/I>d||.3<abs$1((H*W+z*T)/I-.5)||l*t+m*v+p*u<cosMinDistance)e(f,g,h,l,m,p,G,R,U,O/=F,N/=F,L,w,J),J.point(G,R),e(G,R,U,O,N,L,n,q,r,t,v,u,w,J)}}return function(d){function f(e,f){e=b(e,f);d.point(e[0],e[1])}function h(){z=
NaN;F.point=l;d.lineStart()}function l(f,g){var h=cartesian([f,g]);g=b(f,g);e(z,I,H,O,N,L,z=g[0],I=g[1],H=f,O=h[0],N=h[1],L=h[2],maxDepth,d);d.point(z,I)}function m(){F.point=f;d.lineEnd()}function p(){h();F.point=n;F.lineEnd=q}function n(b,d){l(r=b,d);t=z;v=I;u=O;w=N;J=L;F.point=l}function q(){e(z,I,H,O,N,L,t,v,r,u,w,J,maxDepth,d);F.lineEnd=m;m()}var r,t,v,u,w,J,H,z,I,O,N,L,F={point:f,lineStart:h,lineEnd:m,polygonStart:function(){d.polygonStart();F.lineStart=p},polygonEnd:function(){d.polygonEnd();
F.lineStart=h}};return F}}var transformRadians=transformer$3({point:function(b,d){this.stream.point(b*radians,d*radians)}});function transformRotate(b){return transformer$3({point:function(d,e){d=b(d,e);return this.stream.point(d[0],d[1])}})}function scaleTranslate(b,d,e,f,g){function h(h,m){h*=f;m*=g;return[d+b*h,e-b*m]}h.invert=function(h,m){return[(h-d)/b*f,(e-m)/b*g]};return h}
function scaleTranslateRotate(b,d,e,f,g,h){function l(b,h){b*=f;h*=g;return[p*b-n*h+d,e-n*b-p*h]}var m=cos$1(h);h=sin$1(h);var p=m*b,n=h*b,q=m/b,r=h/b,t=(h*e-m*d)/b,v=(h*d+m*e)/b;l.invert=function(b,d){return[f*(q*b-r*d+t),g*(v-r*b-q*d)]};return l}function projection(b){return projectionMutator(function(){return b})()}
function projectionMutator(b){function d(b){return T(b[0]*radians,b[1]*radians)}function e(b){return(b=T.invert(b[0],b[1]))&&[b[0]*degrees,b[1]*degrees]}function f(){var b=scaleTranslateRotate(l,0,0,J,H,w).apply(null,h(n,q));b=(w?scaleTranslateRotate:scaleTranslate)(l,m-b[0],p-b[1],J,H,w);u=rotateRadians(r,t,v);W=compose(h,b);T=compose(u,W);R=resample(W,U);return g()}function g(){ea=Q=null;return d}var h,l=150,m=480,p=250,n=0,q=0,r=0,t=0,v=0,u,w=0,J=1,H=1,z=null,I=clipAntimeridian,O=null,N,L,F,G=
identity$6,U=.5,R,W,T,ea,Q;d.stream=function(b){return ea&&Q===b?ea:ea=transformRadians(transformRotate(u)(I(R(G(Q=b)))))};d.preclip=function(b){return arguments.length?(I=b,z=void 0,g()):I};d.postclip=function(b){return arguments.length?(G=b,O=N=L=F=null,g()):G};d.clipAngle=function(b){return arguments.length?(I=+b?clipCircle(z=b*radians):(z=null,clipAntimeridian),g()):z*degrees};d.clipExtent=function(b){return arguments.length?(G=null==b?(O=N=L=F=null,identity$6):clipRectangle(O=+b[0][0],N=+b[0][1],
L=+b[1][0],F=+b[1][1]),g()):null==O?null:[[O,N],[L,F]]};d.scale=function(b){return arguments.length?(l=+b,f()):l};d.translate=function(b){return arguments.length?(m=+b[0],p=+b[1],f()):[m,p]};d.center=function(b){return arguments.length?(n=b[0]%360*radians,q=b[1]%360*radians,f()):[n*degrees,q*degrees]};d.rotate=function(b){return arguments.length?(r=b[0]%360*radians,t=b[1]%360*radians,v=2<b.length?b[2]%360*radians:0,f()):[r*degrees,t*degrees,v*degrees]};d.angle=function(b){return arguments.length?
(w=b%360*radians,f()):w*degrees};d.reflectX=function(b){return arguments.length?(J=b?-1:1,f()):0>J};d.reflectY=function(b){return arguments.length?(H=b?-1:1,f()):0>H};d.precision=function(b){return arguments.length?(R=resample(W,U=b*b),g()):sqrt$2(U)};d.fitExtent=function(b,e){return fitExtent(d,b,e)};d.fitSize=function(b,e){return fitSize(d,b,e)};d.fitWidth=function(b,e){return fitWidth(d,b,e)};d.fitHeight=function(b,e){return fitHeight(d,b,e)};return function(){h=b.apply(this,arguments);d.invert=
h.invert&&e;return f()}}function conicProjection(b){var d=0,e=pi$1/3,f=projectionMutator(b);b=f(d,e);b.parallels=function(b){return arguments.length?f(d=b[0]*radians,e=b[1]*radians):[d*degrees,e*degrees]};return b}function cylindricalEqualAreaRaw(b){function d(b,d){return[b*e,sin$1(d)/e]}var e=cos$1(b);d.invert=function(b,d){return[b/e,asin$1(d*e)]};return d}
function conicEqualAreaRaw(b,d){function e(b,d){d=sqrt$2(h-2*g*sin$1(d))/g;return[d*sin$1(b*=g),l-d*cos$1(b)]}var f=sin$1(b),g=(f+sin$1(d))/2;if(abs$1(g)<epsilon$2)return cylindricalEqualAreaRaw(b);var h=1+f*(2*g-f),l=sqrt$2(h)/g;e.invert=function(b,d){d=l-d;var e=atan2$1(b,abs$1(d))*sign$1(d);0>d*g&&(e-=pi$1*sign$1(b)*sign$1(d));return[e/g,asin$1((h-(b*b+d*d)*g*g)/(2*g))]};return e}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}
function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}
function multiplex(b){var d=b.length;return{point:function(e,f){for(var g=-1;++g<d;)b[g].point(e,f)},sphere:function(){for(var e=-1;++e<d;)b[e].sphere()},lineStart:function(){for(var e=-1;++e<d;)b[e].lineStart()},lineEnd:function(){for(var e=-1;++e<d;)b[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<d;)b[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<d;)b[e].polygonEnd()}}}
function albersUsa(){function b(b){var d=b[0];b=b[1];return q=null,(h.point(d,b),q)||(m.point(d,b),q)||(n.point(d,b),q)}function d(){e=f=null;return b}var e,f,g=albers(),h,l=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),m,p=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),n,q,r={point:function(b,d){q=[b,d]}};b.invert=function(b){var d=g.scale(),e=g.translate(),f=(b[0]-e[0])/d;d=(b[1]-e[1])/d;return(.12<=d&&.234>d&&-.425<=f&&-.214>f?l:.166<=d&&.234>d&&-.214<=
f&&-.115>f?p:g).invert(b)};b.stream=function(b){return e&&f===b?e:e=multiplex([g.stream(f=b),l.stream(b),p.stream(b)])};b.precision=function(b){if(!arguments.length)return g.precision();g.precision(b);l.precision(b);p.precision(b);return d()};b.scale=function(d){if(!arguments.length)return g.scale();g.scale(d);l.scale(.35*d);p.scale(d);return b.translate(g.translate())};b.translate=function(b){if(!arguments.length)return g.translate();var e=g.scale(),f=+b[0],q=+b[1];h=g.translate(b).clipExtent([[f-
.455*e,q-.238*e],[f+.455*e,q+.238*e]]).stream(r);m=l.translate([f-.307*e,q+.201*e]).clipExtent([[f-.425*e+epsilon$2,q+.12*e+epsilon$2],[f-.214*e-epsilon$2,q+.234*e-epsilon$2]]).stream(r);n=p.translate([f-.205*e,q+.212*e]).clipExtent([[f-.214*e+epsilon$2,q+.166*e+epsilon$2],[f-.115*e-epsilon$2,q+.234*e-epsilon$2]]).stream(r);return d()};b.fitExtent=function(d,e){return fitExtent(b,d,e)};b.fitSize=function(d,e){return fitSize(b,d,e)};b.fitWidth=function(d,e){return fitWidth(b,d,e)};b.fitHeight=function(d,
e){return fitHeight(b,d,e)};return b.scale(1070)}function azimuthalRaw(b){return function(d,e){var f=cos$1(d),g=cos$1(e);f=b(f*g);return[f*g*sin$1(d),f*sin$1(e)]}}function azimuthalInvert(b){return function(d,e){var f=sqrt$2(d*d+e*e),g=b(f),h=sin$1(g);g=cos$1(g);return[atan2$1(d*h,f*g),asin$1(f&&e*h/f)]}}var azimuthalEqualAreaRaw=azimuthalRaw(function(b){return sqrt$2(2/(1+b))});azimuthalEqualAreaRaw.invert=azimuthalInvert(function(b){return 2*asin$1(b/2)});
function azimuthalEqualArea(){return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}var azimuthalEquidistantRaw=azimuthalRaw(function(b){return(b=acos$1(b))&&b/sin$1(b)});azimuthalEquidistantRaw.invert=azimuthalInvert(function(b){return b});function azimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(b,d){return[b,log$1(tan((halfPi$1+d)/2))]}mercatorRaw.invert=function(b,d){return[b,2*atan(exp(d))-halfPi$1]};
function mercator(){return mercatorProjection(mercatorRaw).scale(961/tau$1)}
function mercatorProjection(b){function d(){var d=pi$1*g(),f=e(rotation(e.rotate()).invert([0,0]));return l(null==m?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:b===mercatorRaw?[[Math.max(f[0]-d,m),p],[Math.min(f[0]+d,n),q]]:[[m,Math.max(f[1]-d,p)],[n,Math.min(f[1]+d,q)]])}var e=projection(b),f=e.center,g=e.scale,h=e.translate,l=e.clipExtent,m=null,p,n,q;e.scale=function(b){return arguments.length?(g(b),d()):g()};e.translate=function(b){return arguments.length?(h(b),d()):h()};e.center=function(b){return arguments.length?
(f(b),d()):f()};e.clipExtent=function(b){return arguments.length?(null==b?m=p=n=q=null:(m=+b[0][0],p=+b[0][1],n=+b[1][0],q=+b[1][1]),d()):null==m?null:[[m,p],[n,q]]};return d()}function tany(b){return tan((halfPi$1+b)/2)}
function conicConformalRaw(b,d){function e(b,d){0<h?d<-halfPi$1+epsilon$2&&(d=-halfPi$1+epsilon$2):d>halfPi$1-epsilon$2&&(d=halfPi$1-epsilon$2);d=h/pow$1(tany(d),g);return[d*sin$1(g*b),h-d*cos$1(g*b)]}var f=cos$1(b),g=b===d?sin$1(b):log$1(f/cos$1(d))/log$1(tany(d)/tany(b)),h=f*pow$1(tany(b),g)/g;if(!g)return mercatorRaw;e.invert=function(b,d){d=h-d;var e=sign$1(g)*sqrt$2(b*b+d*d),f=atan2$1(b,abs$1(d))*sign$1(d);0>d*g&&(f-=pi$1*sign$1(b)*sign$1(d));return[f/g,2*atan(pow$1(h/e,1/g))-halfPi$1]};return e}
function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(b,d){return[b,d]}equirectangularRaw.invert=equirectangularRaw;function equirectangular(){return projection(equirectangularRaw).scale(152.63)}
function conicEquidistantRaw(b,d){function e(b,d){d=h-d;b*=g;return[d*sin$1(b),h-d*cos$1(b)]}var f=cos$1(b),g=b===d?sin$1(b):(f-cos$1(d))/(d-b),h=f/g+b;if(abs$1(g)<epsilon$2)return equirectangularRaw;e.invert=function(b,d){d=h-d;var e=atan2$1(b,abs$1(d))*sign$1(d);0>d*g&&(e-=pi$1*sign$1(b)*sign$1(d));return[e/g,h-sign$1(g)*sqrt$2(b*b+d*d)]};return e}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}
var A1=1.340264,A2=-.081106,A3=8.93E-4,A4=.003796,M=sqrt$2(3)/2,iterations=12;function equalEarthRaw(b,d){d=asin$1(M*sin$1(d));var e=d*d,f=e*e*e;return[b*cos$1(d)/(M*(A1+3*A2*e+f*(7*A3+9*A4*e))),d*(A1+A2*e+f*(A3+A4*e))]}equalEarthRaw.invert=function(b,d){for(var e=d,f=e*e,g=f*f*f,h=0,l;h<iterations&&!(l=e*(A1+A2*f+g*(A3+A4*f))-d,f=A1+3*A2*f+g*(7*A3+9*A4*f),e-=l/=f,f=e*e,g=f*f*f,abs$1(l)<epsilon2$1);++h);return[M*b*(A1+3*A2*f+g*(7*A3+9*A4*f))/cos$1(e),asin$1(sin$1(e)/M)]};
function equalEarth(){return projection(equalEarthRaw).scale(177.158)}function gnomonicRaw(b,d){var e=cos$1(d),f=cos$1(b)*e;return[e*sin$1(b)/f,sin$1(d)/f]}gnomonicRaw.invert=azimuthalInvert(atan);function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}
function identity$5(){function b(){u=e*h;w=e*l;z=I=null;return d}function d(b){var d=b[0]*u;b=b[1]*w;if(m){var e=b*p-d*n;d=d*p+b*n;b=e}return[d+f,b+g]}var e=1,f=0,g=0,h=1,l=1,m=0,p,n,q=null,r,t,v,u=1,w=1,J=transformer$3({point:function(b,e){b=d([b,e]);this.stream.point(b[0],b[1])}}),H=identity$6,z,I;d.invert=function(b){var d=b[0]-f;b=b[1]-g;if(m){var e=b*p+d*n;d=d*p-b*n;b=e}return[d/u,b/w]};d.stream=function(b){return z&&I===b?z:z=J(H(I=b))};d.postclip=function(d){return arguments.length?(H=d,q=
r=t=v=null,b()):H};d.clipExtent=function(d){return arguments.length?(H=null==d?(q=r=t=v=null,identity$6):clipRectangle(q=+d[0][0],r=+d[0][1],t=+d[1][0],v=+d[1][1]),b()):null==q?null:[[q,r],[t,v]]};d.scale=function(d){return arguments.length?(e=+d,b()):e};d.translate=function(d){return arguments.length?(f=+d[0],g=+d[1],b()):[f,g]};d.angle=function(d){return arguments.length?(m=d%360*radians,n=sin$1(m),p=cos$1(m),b()):m*degrees};d.reflectX=function(d){return arguments.length?(h=d?-1:1,b()):0>h};d.reflectY=
function(d){return arguments.length?(l=d?-1:1,b()):0>l};d.fitExtent=function(b,e){return fitExtent(d,b,e)};d.fitSize=function(b,e){return fitSize(d,b,e)};d.fitWidth=function(b,e){return fitWidth(d,b,e)};d.fitHeight=function(b,e){return fitHeight(d,b,e)};return d}function naturalEarth1Raw(b,d){var e=d*d,f=e*e;return[b*(.8707-.131979*e+f*(-.013791+f*(.003971*e-.001529*f))),d*(1.007226+e*(.015085+f*(-.044475+.028874*e-.005916*f)))]}
naturalEarth1Raw.invert=function(b,d){var e=d,f=25;do{var g=e*e;var h=g*g;e-=h=(e*(1.007226+g*(.015085+h*(-.044475+.028874*g-.005916*h)))-d)/(1.007226+g*(.045255+h*(-.311325+.259866*g-.005916*11*h)))}while(abs$1(h)>epsilon$2&&0<--f);return[b/(.8707+(g=e*e)*(-.131979+g*(-.013791+g*g*g*(.003971-.001529*g)))),e]};function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(b,d){return[cos$1(d)*sin$1(b),sin$1(d)]}orthographicRaw.invert=azimuthalInvert(asin$1);
function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+epsilon$2)}function stereographicRaw(b,d){var e=cos$1(d),f=1+cos$1(b)*e;return[e*sin$1(b)/f,sin$1(d)/f]}stereographicRaw.invert=azimuthalInvert(function(b){return 2*atan(b)});function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(b,d){return[log$1(tan((halfPi$1+d)/2)),-b]}transverseMercatorRaw.invert=function(b,d){return[-d,2*atan(exp(b))-halfPi$1]};
function transverseMercator(){var b=mercatorProjection(transverseMercatorRaw),d=b.center,e=b.rotate;b.center=function(b){return arguments.length?d([-b[1],b[0]]):(b=d(),[b[1],-b[0]])};b.rotate=function(b){return arguments.length?e([b[0],b[1],2<b.length?b[2]+90:90]):(b=e(),[b[0],b[1],b[2]-90])};return e([0,0,90]).scale(159.155)}function defaultSeparation$1(b,d){return b.parent===d.parent?1:2}function meanX(b){return b.reduce(meanXReduce,0)/b.length}function meanXReduce(b,d){return b+d.x}
function maxY(b){return 1+b.reduce(maxYReduce,0)}function maxYReduce(b,d){return Math.max(b,d.y)}function leafLeft(b){for(var d;d=b.children;)b=d[0];return b}function leafRight(b){for(var d;d=b.children;)b=d[d.length-1];return b}
function cluster(){function b(b){var h,m=0;b.eachAfter(function(b){var e=b.children;e?(b.x=meanX(e),b.y=maxY(e)):(b.x=h?m+=d(b,h):0,b.y=0,h=b)});var p=leafLeft(b),n=leafRight(b),q=p.x-d(p,n)/2,r=n.x+d(n,p)/2;return b.eachAfter(g?function(d){d.x=(d.x-b.x)*e;d.y=(b.y-d.y)*f}:function(d){d.x=(d.x-q)/(r-q)*e;d.y=(1-(b.y?d.y/b.y:1))*f})}var d=defaultSeparation$1,e=1,f=1,g=!1;b.separation=function(e){return arguments.length?(d=e,b):d};b.size=function(d){return arguments.length?(g=!1,e=+d[0],f=+d[1],b):
g?null:[e,f]};b.nodeSize=function(d){return arguments.length?(g=!0,e=+d[0],f=+d[1],b):g?[e,f]:null};return b}function count(b){var d=0,e=b.children,f=e&&e.length;if(f)for(;0<=--f;)d+=e[f].value;else d=1;b.value=d}function node_count(){return this.eachAfter(count)}function node_each(b){var d,e=[this],f;do{var g=e.reverse();for(e=[];d=g.pop();)if(b(d),d=d.children){var h=0;for(f=d.length;h<f;++h)e.push(d[h])}}while(e.length);return this}
function node_eachBefore(b){for(var d,e=[this],f;d=e.pop();)if(b(d),d=d.children)for(f=d.length-1;0<=f;--f)e.push(d[f]);return this}function node_eachAfter(b){for(var d,e=[this],f=[],g,h;d=e.pop();)if(f.push(d),d=d.children)for(g=0,h=d.length;g<h;++g)e.push(d[g]);for(;d=f.pop();)b(d);return this}function node_sum(b){return this.eachAfter(function(d){for(var e=+b(d.data)||0,f=d.children,g=f&&f.length;0<=--g;)e+=f[g].value;d.value=e})}
function node_sort(b){return this.eachBefore(function(d){d.children&&d.children.sort(b)})}function node_path(b){for(var d=this,e=leastCommonAncestor(d,b),f=[d];d!==e;)d=d.parent,f.push(d);for(d=f.length;b!==e;)f.splice(d,0,b),b=b.parent;return f}function leastCommonAncestor(b,d){if(b===d)return b;var e=b.ancestors(),f=d.ancestors(),g=null;b=e.pop();for(d=f.pop();b===d;)g=b,b=e.pop(),d=f.pop();return g}function node_ancestors(){for(var b=this,d=[b];b=b.parent;)d.push(b);return d}
function node_descendants(){var b=[];this.each(function(d){b.push(d)});return b}function node_leaves(){var b=[];this.eachBefore(function(d){d.children||b.push(d)});return b}function node_links(){var b=this,d=[];b.each(function(e){e!==b&&d.push({source:e.parent,target:e})});return d}
function hierarchy(b,d){var e=new Node$1(b);b=+b.value&&(e.value=b.value);var f,g=[e],h,l,m,p;for(null==d&&(d=defaultChildren);f=g.pop();)if(b&&(f.value=+f.data.value),(l=d(f.data))&&(p=l.length))for(f.children=Array(p),m=p-1;0<=m;--m)g.push(h=f.children[m]=new Node$1(l[m])),h.parent=f,h.depth=f.depth+1;return e.eachBefore(computeHeight)}function node_copy(){return hierarchy(this).eachBefore(copyData)}function defaultChildren(b){return b.children}function copyData(b){b.data=b.data.data}
function computeHeight(b){var d=0;do b.height=d;while((b=b.parent)&&b.height<++d)}function Node$1(b){this.data=b;this.depth=this.height=0;this.parent=null}Node$1.prototype=hierarchy.prototype={constructor:Node$1,count:node_count,each:node_each,eachAfter:node_eachAfter,eachBefore:node_eachBefore,sum:node_sum,sort:node_sort,path:node_path,ancestors:node_ancestors,descendants:node_descendants,leaves:node_leaves,links:node_links,copy:node_copy};var slice$2=Array.prototype.slice;
function shuffle(b){for(var d=b.length,e,f;d;)f=Math.random()*d--|0,e=b[d],b[d]=b[f],b[f]=e;return b}function enclose(b){for(var d=0,e=(b=shuffle(slice$2.call(b))).length,f=[],g,h;d<e;)g=b[d],h&&enclosesWeak(h,g)?++d:(h=encloseBasis(f=extendBasis(f,g)),d=0);return h}
function extendBasis(b,d){var e,f;if(enclosesWeakAll(d,b))return[d];for(e=0;e<b.length;++e)if(enclosesNot(d,b[e])&&enclosesWeakAll(encloseBasis2(b[e],d),b))return[b[e],d];for(e=0;e<b.length-1;++e)for(f=e+1;f<b.length;++f)if(enclosesNot(encloseBasis2(b[e],b[f]),d)&&enclosesNot(encloseBasis2(b[e],d),b[f])&&enclosesNot(encloseBasis2(b[f],d),b[e])&&enclosesWeakAll(encloseBasis3(b[e],b[f],d),b))return[b[e],b[f],d];throw Error();}
function enclosesNot(b,d){var e=b.r-d.r,f=d.x-b.x;b=d.y-b.y;return 0>e||e*e<f*f+b*b}function enclosesWeak(b,d){var e=b.r-d.r+1E-6,f=d.x-b.x;b=d.y-b.y;return 0<e&&e*e>f*f+b*b}function enclosesWeakAll(b,d){for(var e=0;e<d.length;++e)if(!enclosesWeak(b,d[e]))return!1;return!0}function encloseBasis(b){switch(b.length){case 1:return encloseBasis1(b[0]);case 2:return encloseBasis2(b[0],b[1]);case 3:return encloseBasis3(b[0],b[1],b[2])}}function encloseBasis1(b){return{x:b.x,y:b.y,r:b.r}}
function encloseBasis2(b,d){var e=b.x,f=b.y;b=b.r;var g=d.x,h=d.y;d=d.r;var l=g-e,m=h-f,p=d-b,n=Math.sqrt(l*l+m*m);return{x:(e+g+l/n*p)/2,y:(f+h+m/n*p)/2,r:(n+b+d)/2}}
function encloseBasis3(b,d,e){var f=b.x,g=b.y;b=b.r;var h=d.x,l=d.y,m=d.r,p=e.x,n=e.y,q=e.r;e=f-h;d=f-p;var r=g-l,t=g-n,v=m-b,u=q-b,w=f*f+g*g-b*b;l=w-h*h-l*l+m*m;n=w-p*p-n*n+q*q;p=d*r-e*t;h=(r*n-t*l)/(2*p)-f;r=(t*v-r*u)/p;t=(d*l-e*n)/(2*p)-g;e=(e*u-d*v)/p;d=r*r+e*e-1;v=2*(b+h*r+t*e);b=h*h+t*t-b*b;b=-(d?(v+Math.sqrt(v*v-4*d*b))/(2*d):b/v);return{x:f+h+r*b,y:g+t+e*b,r:b}}
function place(b,d,e){var f=b.x-d.x,g=b.y-d.y,h=f*f+g*g;if(h){var l=d.r+e.r;l*=l;var m=b.r+e.r;m*=m;if(l>m){var p=(h+m-l)/(2*h);l=Math.sqrt(Math.max(0,m/h-p*p));e.x=b.x-p*f-l*g;e.y=b.y-p*g+l*f}else p=(h+l-m)/(2*h),l=Math.sqrt(Math.max(0,l/h-p*p)),e.x=d.x+p*f-l*g,e.y=d.y+p*g+l*f}else e.x=d.x+e.r,e.y=d.y}function intersects(b,d){var e=b.r+d.r-1E-6,f=d.x-b.x;b=d.y-b.y;return 0<e&&e*e>f*f+b*b}function score(b){var d=b._,e=b.next._,f=d.r+e.r;b=(d.x*e.r+e.x*d.r)/f;d=(d.y*e.r+e.y*d.r)/f;return b*b+d*d}
function Node(b){this._=b;this.previous=this.next=null}
function packEnclose(b){if(!(e=b.length))return 0;var d,e;var f=b[0];f.x=0;f.y=0;if(!(1<e))return f.r;var g=b[1];f.x=-g.r;g.x=f.r;g.y=0;if(!(2<e))return f.r+g.r;place(g,f,d=b[2]);f=new Node(f);g=new Node(g);d=new Node(d);f.next=d.previous=g;g.next=f.previous=d;d.next=g.previous=f;var h=3;a:for(;h<e;++h){place(f._,g._,d=b[h]);d=new Node(d);var l=g.next;var m=f.previous;var p=g._.r;var n=f._.r;do if(p<=n){if(intersects(l._,d._)){g=l;f.next=g;g.previous=f;--h;continue a}p+=l._.r;l=l.next}else{if(intersects(m._,
d._)){f=m;f.next=g;g.previous=f;--h;continue a}n+=m._.r;m=m.previous}while(l!==m.next);d.previous=f;d.next=g;f.next=g.previous=g=d;for(l=score(f);(d=d.next)!==g;)(m=score(d))<l&&(f=d,l=m);g=f.next}f=[g._];for(d=g;(d=d.next)!==g;)f.push(d._);d=enclose(f);for(h=0;h<e;++h)f=b[h],f.x-=d.x,f.y-=d.y;return d.r}function siblings(b){packEnclose(b);return b}function optional(b){return null==b?null:required(b)}function required(b){if("function"!==typeof b)throw Error();return b}
function constantZero(){return 0}function constant$5(b){return function(){return b}}function defaultRadius(b){return Math.sqrt(b.value)}
function index$1(){function b(b){b.x=e/2;b.y=f/2;d?b.eachBefore(radiusLeaf(d)).eachAfter(packChildren(g,.5)).eachBefore(translateChild(1)):b.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(g,b.r/Math.min(e,f))).eachBefore(translateChild(Math.min(e,f)/(2*b.r)));return b}var d=null,e=1,f=1,g=constantZero;b.radius=function(e){return arguments.length?(d=optional(e),b):d};b.size=function(d){return arguments.length?(e=+d[0],f=+d[1],b):[e,f]};b.padding=
function(d){return arguments.length?(g="function"===typeof d?d:constant$5(+d),b):g};return b}function radiusLeaf(b){return function(d){d.children||(d.r=Math.max(0,+b(d)||0))}}function packChildren(b,d){return function(e){if(f=e.children){var f,g,h=f.length,l=b(e)*d||0;if(l)for(g=0;g<h;++g)f[g].r+=l;var m=packEnclose(f);if(l)for(g=0;g<h;++g)f[g].r-=l;e.r=m+l}}}function translateChild(b){return function(d){var e=d.parent;d.r*=b;e&&(d.x=e.x+b*d.x,d.y=e.y+b*d.y)}}
function roundNode(b){b.x0=Math.round(b.x0);b.y0=Math.round(b.y0);b.x1=Math.round(b.x1);b.y1=Math.round(b.y1)}function treemapDice(b,d,e,f,g){var h=b.children,l=-1,m=h.length;for(f=b.value&&(f-d)/b.value;++l<m;)b=h[l],b.y0=e,b.y1=g,b.x0=d,b.x1=d+=b.value*f}
function partition$1(){function b(b){var l=b.height+1;b.x0=b.y0=g;b.x1=e;b.y1=f/l;b.eachBefore(d(f,l));h&&b.eachBefore(roundNode);return b}function d(b,d){return function(e){e.children&&treemapDice(e,e.x0,b*(e.depth+1)/d,e.x1,b*(e.depth+2)/d);var f=e.x0,h=e.y0,l=e.x1-g,m=e.y1-g;l<f&&(f=l=(f+l)/2);m<h&&(h=m=(h+m)/2);e.x0=f;e.y0=h;e.x1=l;e.y1=m}}var e=1,f=1,g=0,h=!1;b.round=function(d){return arguments.length?(h=!!d,b):h};b.size=function(d){return arguments.length?(e=+d[0],f=+d[1],b):[e,f]};b.padding=
function(d){return arguments.length?(g=+d,b):g};return b}var keyPrefix="$",preroot={depth:-1},ambiguous={};function defaultId(b){return b.id}function defaultParentId(b){return b.parentId}
function stratify(){function b(b){var f,h=b.length,l=Array(h),m,p={};for(f=0;f<h;++f){var n=b[f];var q=l[f]=new Node$1(n);null!=(m=d(n,f,b))&&(m+="")&&(n=keyPrefix+(q.id=m),p[n]=n in p?ambiguous:q)}for(f=0;f<h;++f)if(q=l[f],m=e(b[f],f,b),null!=m&&(m+="")){n=p[keyPrefix+m];if(!n)throw Error("missing: "+m);if(n===ambiguous)throw Error("ambiguous: "+m);n.children?n.children.push(q):n.children=[q];q.parent=n}else{if(r)throw Error("multiple roots");var r=q}if(!r)throw Error("no root");r.parent=preroot;
r.eachBefore(function(b){b.depth=b.parent.depth+1;--h}).eachBefore(computeHeight);r.parent=null;if(0<h)throw Error("cycle");return r}var d=defaultId,e=defaultParentId;b.id=function(e){return arguments.length?(d=required(e),b):d};b.parentId=function(d){return arguments.length?(e=required(d),b):e};return b}function defaultSeparation(b,d){return b.parent===d.parent?1:2}function nextLeft(b){var d=b.children;return d?d[0]:b.t}function nextRight(b){var d=b.children;return d?d[d.length-1]:b.t}
function moveSubtree(b,d,e){var f=e/(d.i-b.i);d.c-=f;d.s+=e;b.c+=f;d.z+=e;d.m+=e}function executeShifts(b){var d=0,e=0;b=b.children;for(var f=b.length,g;0<=--f;)g=b[f],g.z+=d,g.m+=d,d+=g.s+(e+=g.c)}function nextAncestor(b,d,e){return b.a.parent===d.parent?b.a:e}function TreeNode(b,d){this._=b;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=d}TreeNode.prototype=Object.create(Node$1.prototype);
function treeRoot(b){b=new TreeNode(b,0);for(var d,e=[b],f,g,h;d=e.pop();)if(g=d._.children)for(d.children=Array(f=g.length),h=f-1;0<=h;--h)e.push(f=d.children[h]=new TreeNode(g[h],h)),f.parent=d;(b.parent=new TreeNode(null,0)).children=[b];return b}
function tree(){function b(b){var n=treeRoot(b);n.eachAfter(d);n.parent.m=-n.z;n.eachBefore(e);if(m)b.eachBefore(f);else{var p=b,r=b,t=b;b.eachBefore(function(b){b.x<p.x&&(p=b);b.x>r.x&&(r=b);b.depth>t.depth&&(t=b)});n=p===r?1:g(p,r)/2;var v=n-p.x,u=h/(r.x+n+v),w=l/(t.depth||1);b.eachBefore(function(b){b.x=(b.x+v)*u;b.y=b.depth*w})}return b}function d(b){var d=b.children,e=b.parent.children,f=b.i?e[b.i-1]:null;d?(executeShifts(b),d=(d[0].z+d[d.length-1].z)/2,f?(b.z=f.z+g(b._,f._),b.m=b.z-d):b.z=d):
f&&(b.z=f.z+g(b._,f._));d=b.parent;e=b.parent.A||e[0];if(f){for(var h=b,l=b,m=h.parent.children[0],p=h.m,J=l.m,H=f.m,z=m.m,I;f=nextRight(f),h=nextLeft(h),f&&h;)m=nextLeft(m),l=nextRight(l),l.a=b,I=f.z+H-h.z-p+g(f._,h._),0<I&&(moveSubtree(nextAncestor(f,b,e),b,I),p+=I,J+=I),H+=f.m,p+=h.m,z+=m.m,J+=l.m;f&&!nextRight(l)&&(l.t=f,l.m+=H-J);h&&!nextLeft(m)&&(m.t=h,m.m+=p-z,e=b)}d.A=e}function e(b){b._.x=b.z+b.parent.m;b.m+=b.parent.m}function f(b){b.x*=h;b.y=b.depth*l}var g=defaultSeparation,h=1,l=1,m=
null;b.separation=function(d){return arguments.length?(g=d,b):g};b.size=function(d){return arguments.length?(m=!1,h=+d[0],l=+d[1],b):m?null:[h,l]};b.nodeSize=function(d){return arguments.length?(m=!0,h=+d[0],l=+d[1],b):m?[h,l]:null};return b}function treemapSlice(b,d,e,f,g){var h=b.children,l=-1,m=h.length;for(g=b.value&&(g-e)/b.value;++l<m;)b=h[l],b.x0=d,b.x1=f,b.y0=e,b.y1=e+=b.value*g}var phi=(1+Math.sqrt(5))/2;
function squarifyRatio(b,d,e,f,g,h){for(var l=[],m=d.children,p,n,q=p=0,r=m.length,t,v=d.value,u,w,J,H,z,I;p<r;){d=g-e;t=h-f;do u=m[q++].value;while(!u&&q<r);w=J=u;I=Math.max(t/d,d/t)/(v*b);H=u*u*I;for(z=Math.max(J/H,H/w);q<r;++q){u+=n=m[q].value;n<w&&(w=n);n>J&&(J=n);H=u*u*I;H=Math.max(J/H,H/w);if(H>z){u-=n;break}z=H}l.push(p={value:u,dice:d<t,children:m.slice(p,q)});p.dice?treemapDice(p,e,f,g,v?f+=t*u/v:h):treemapSlice(p,e,f,v?e+=d*u/v:g,h);v-=u;p=q}return l}
var squarify=function custom(b){function e(e,g,h,l,m){squarifyRatio(b,e,g,h,l,m)}e.ratio=function(b){return custom(1<(b=+b)?b:1)};return e}(phi);
function index(){function b(b){b.x0=b.y0=0;b.x1=g;b.y1=h;b.eachBefore(d);l=[0];f&&b.eachBefore(roundNode);return b}function d(b){var d=l[b.depth],f=b.x0+d,g=b.y0+d,h=b.x1-d,t=b.y1-d;h<f&&(f=h=(f+h)/2);t<g&&(g=t=(g+t)/2);b.x0=f;b.y0=g;b.x1=h;b.y1=t;b.children&&(d=l[b.depth+1]=m(b)/2,f+=r(b)-d,g+=p(b)-d,h-=n(b)-d,t-=q(b)-d,h<f&&(f=h=(f+h)/2),t<g&&(g=t=(g+t)/2),e(b,f,g,h,t))}var e=squarify,f=!1,g=1,h=1,l=[0],m=constantZero,p=constantZero,n=constantZero,q=constantZero,r=constantZero;b.round=function(d){return arguments.length?
(f=!!d,b):f};b.size=function(d){return arguments.length?(g=+d[0],h=+d[1],b):[g,h]};b.tile=function(d){return arguments.length?(e=required(d),b):e};b.padding=function(d){return arguments.length?b.paddingInner(d).paddingOuter(d):b.paddingInner()};b.paddingInner=function(d){return arguments.length?(m="function"===typeof d?d:constant$5(+d),b):m};b.paddingOuter=function(d){return arguments.length?b.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):b.paddingTop()};b.paddingTop=function(d){return arguments.length?
(p="function"===typeof d?d:constant$5(+d),b):p};b.paddingRight=function(d){return arguments.length?(n="function"===typeof d?d:constant$5(+d),b):n};b.paddingBottom=function(d){return arguments.length?(q="function"===typeof d?d:constant$5(+d),b):q};b.paddingLeft=function(d){return arguments.length?(r="function"===typeof d?d:constant$5(+d),b):r};return b}
function binary(b,d,e,f,g){function h(b,d,e,f,g,n,m){if(b>=d-1)b=l[b],b.x0=f,b.y0=g,b.x1=n,b.y1=m;else{for(var p=q[b],r=e/2+p,t=b+1,v=d-1;t<v;){var L=t+v>>>1;q[L]<r?t=L+1:v=L}r-q[t-1]<q[t]-r&&b+1<t&&--t;p=q[t]-p;r=e-p;n-f>m-g?(e=(f*r+n*p)/e,h(b,t,p,f,g,e,m),h(t,d,r,e,g,n,m)):(e=(g*r+m*p)/e,h(b,t,p,f,g,n,e),h(t,d,r,f,e,n,m))}}var l=b.children,m,p=l.length,n,q=Array(p+1);for(q[0]=n=m=0;m<p;++m)q[m+1]=n+=l[m].value;h(0,p,b.value,d,e,f,g)}
function sliceDice(b,d,e,f,g){(b.depth&1?treemapSlice:treemapDice)(b,d,e,f,g)}var resquarify=function custom(b){function e(e,g,h,l,m){if((f=e._squarify)&&f.ratio===b)for(var f,n,q,r=-1,t,v=f.length,u=e.value;++r<v;){e=f[r];n=e.children;q=e.value=0;for(t=n.length;q<t;++q)e.value+=n[q].value;e.dice?treemapDice(e,g,h,l,h+=(m-h)*e.value/u):treemapSlice(e,g,h,g+=(l-g)*e.value/u,m);u-=e.value}else e._squarify=f=squarifyRatio(b,e,g,h,l,m),f.ratio=b}e.ratio=function(b){return custom(1<(b=+b)?b:1)};return e}(phi);
function area$1(b){for(var d=-1,e=b.length,f,g=b[e-1],h=0;++d<e;)f=g,g=b[d],h+=f[1]*g[0]-f[0]*g[1];return h/2}function centroid(b){for(var d=-1,e=b.length,f=0,g=0,h,l=b[e-1],m,p=0;++d<e;)h=l,l=b[d],p+=m=h[0]*l[1]-l[0]*h[1],f+=(h[0]+l[0])*m,g+=(h[1]+l[1])*m;return p*=3,[f/p,g/p]}function cross$1(b,d,e){return(d[0]-b[0])*(e[1]-b[1])-(d[1]-b[1])*(e[0]-b[0])}function lexicographicOrder(b,d){return b[0]-d[0]||b[1]-d[1]}
function computeUpperHullIndexes(b){for(var d=b.length,e=[0,1],f=2,g=2;g<d;++g){for(;1<f&&0>=cross$1(b[e[f-2]],b[e[f-1]],b[g]);)--f;e[f++]=g}return e.slice(0,f)}
function hull(b){if(3>(e=b.length))return null;var d,e,f=Array(e),g=Array(e);for(d=0;d<e;++d)f[d]=[+b[d][0],+b[d][1],d];f.sort(lexicographicOrder);for(d=0;d<e;++d)g[d]=[f[d][0],-f[d][1]];e=computeUpperHullIndexes(f);g=computeUpperHullIndexes(g);var h=g[0]===e[0],l=g[g.length-1]===e[e.length-1],m=[];for(d=e.length-1;0<=d;--d)m.push(b[f[e[d]][2]]);for(d=+h;d<g.length-l;++d)m.push(b[f[g[d]][2]]);return m}
function contains(b,d){var e=b.length,f=b[e-1],g=d[0];d=d[1];for(var h=f[0],l=f[1],m,p=!1,n=0;n<e;++n)f=b[n],m=f[0],f=f[1],f>d!==l>d&&g<(h-m)*(d-f)/(l-f)+m&&(p=!p),h=m,l=f;return p}function length(b){var d=-1,e=b.length,f=b[e-1],g=f[0];f=f[1];for(var h=0;++d<e;){var l=g;var m=f;f=b[d];g=f[0];f=f[1];l-=g;m-=f;h+=Math.sqrt(l*l+m*m)}return h}function defaultSource(){return Math.random()}
var uniform=function sourceRandomUniform(b){function e(e,g){e=null==e?0:+e;g=null==g?1:+g;1===arguments.length?(g=e,e=0):g-=e;return function(){return b()*g+e}}e.source=sourceRandomUniform;return e}(defaultSource),normal$1=function sourceRandomNormal(b){function e(e,g){var f,l;e=null==e?0:+e;g=null==g?1:+g;return function(){if(null!=f){var h=f;f=null}else{do f=2*b()-1,h=2*b()-1,l=f*f+h*h;while(!l||1<l)}return e+g*h*Math.sqrt(-2*Math.log(l)/l)}}e.source=sourceRandomNormal;return e}(defaultSource),
logNormal=function sourceRandomLogNormal(b){function e(){var e=normal$1.source(b).apply(this,arguments);return function(){return Math.exp(e())}}e.source=sourceRandomLogNormal;return e}(defaultSource),irwinHall=function sourceRandomIrwinHall(b){function e(e){return function(){for(var f=0,h=0;h<e;++h)f+=b();return f}}e.source=sourceRandomIrwinHall;return e}(defaultSource),bates=function sourceRandomBates(b){function e(e){var f=irwinHall.source(b)(e);return function(){return f()/e}}e.source=sourceRandomBates;
return e}(defaultSource),exponential=function sourceRandomExponential(b){function e(e){return function(){return-Math.log(1-b())/e}}e.source=sourceRandomExponential;return e}(defaultSource);function initRange(b,d){switch(arguments.length){case 0:break;case 1:this.range(b);break;default:this.range(d).domain(b)}return this}function initInterpolator(b,d){switch(arguments.length){case 0:break;case 1:this.interpolator(b);break;default:this.interpolator(d).domain(b)}return this}
var array=Array.prototype,map$1=array.map,slice$1=array.slice,implicit={name:"implicit"};
function ordinal(){function b(b){var h=b+"",m=d.get(h);if(!m){if(g!==implicit)return g;d.set(h,m=e.push(b))}return f[(m-1)%f.length]}var d=map$3(),e=[],f=[],g=implicit;b.domain=function(f){if(!arguments.length)return e.slice();e=[];d=map$3();for(var g=-1,h=f.length,p,n;++g<h;)d.has(n=(p=f[g])+"")||d.set(n,e.push(p));return b};b.range=function(d){return arguments.length?(f=slice$1.call(d),b):f.slice()};b.unknown=function(d){return arguments.length?(g=d,b):g};b.copy=function(){return ordinal(e,f).unknown(g)};
initRange.apply(b,arguments);return b}
function band(){function b(){var b=e().length,d=g[1]<g[0],v=g[d-0],u=g[1-d];h=(u-v)/Math.max(1,b-p+2*n);m&&(h=Math.floor(h));v+=(u-v-h*(b-p))*q;l=h*(1-p);m&&(v=Math.round(v),l=Math.round(l));b=sequence(b).map(function(b){return v+h*b});return f(d?b.reverse():b)}var d=ordinal().unknown(void 0),e=d.domain,f=d.range,g=[0,1],h,l,m=!1,p=0,n=0,q=.5;delete d.unknown;d.domain=function(d){return arguments.length?(e(d),b()):e()};d.range=function(d){return arguments.length?(g=[+d[0],+d[1]],b()):g.slice()};d.rangeRound=
function(d){return g=[+d[0],+d[1]],m=!0,b()};d.bandwidth=function(){return l};d.step=function(){return h};d.round=function(d){return arguments.length?(m=!!d,b()):m};d.padding=function(d){return arguments.length?(p=Math.min(1,n=+d),b()):p};d.paddingInner=function(d){return arguments.length?(p=Math.min(1,d),b()):p};d.paddingOuter=function(d){return arguments.length?(n=+d,b()):n};d.align=function(d){return arguments.length?(q=Math.max(0,Math.min(1,d)),b()):q};d.copy=function(){return band(e(),g).round(m).paddingInner(p).paddingOuter(n).align(q)};
return initRange.apply(b(),arguments)}function pointish(b){var d=b.copy;b.padding=b.paddingOuter;delete b.paddingInner;delete b.paddingOuter;b.copy=function(){return pointish(d())};return b}function point$4(){return pointish(band.apply(null,arguments).paddingInner(1))}function constant$4(b){return function(){return b}}function number$1(b){return+b}var unit$1=[0,1];function identity$4(b){return b}function normalize$1(b,d){return(d-=b=+b)?function(e){return(e-b)/d}:constant$4(isNaN(d)?NaN:.5)}
function clamper(b){var d=b[0],e=b[b.length-1];d>e&&(b=d,d=e,e=b);return function(b){return Math.max(d,Math.min(e,b))}}function bimap(b,d,e){var f=b[0];b=b[1];var g=d[0];d=d[1];b<f?(f=normalize$1(b,f),g=e(d,g)):(f=normalize$1(f,b),g=e(g,d));return function(b){return g(f(b))}}
function polymap(b,d,e){var f=Math.min(b.length,d.length)-1,g=Array(f),h=Array(f),l=-1;b[f]<b[0]&&(b=b.slice().reverse(),d=d.slice().reverse());for(;++l<f;)g[l]=normalize$1(b[l],b[l+1]),h[l]=e(d[l],d[l+1]);return function(d){var e=bisectRight(b,d,1,f)-1;return h[e](g[e](d))}}function copy$1(b,d){return d.domain(b.domain()).range(b.range()).interpolate(b.interpolate()).clamp(b.clamp()).unknown(b.unknown())}
function transformer$2(){function b(){n=2<Math.min(e.length,f.length)?polymap:bimap;q=r=null;return d}function d(b){return isNaN(b=+b)?m:(q||(q=n(e.map(h),f,g)))(h(p(b)))}var e=unit$1,f=unit$1,g=interpolateValue,h,l,m,p=identity$4,n,q,r;d.invert=function(b){return p(l((r||(r=n(f,e.map(h),interpolateNumber)))(b)))};d.domain=function(d){return arguments.length?(e=map$1.call(d,number$1),p===identity$4||(p=clamper(e)),b()):e.slice()};d.range=function(d){return arguments.length?(f=slice$1.call(d),b()):
f.slice()};d.rangeRound=function(d){return f=slice$1.call(d),g=interpolateRound,b()};d.clamp=function(b){return arguments.length?(p=b?clamper(e):identity$4,d):p!==identity$4};d.interpolate=function(d){return arguments.length?(g=d,b()):g};d.unknown=function(b){return arguments.length?(m=b,d):m};return function(d,e){h=d;l=e;return b()}}function continuous(b,d){return transformer$2()(b,d)}
function tickFormat(b,d,e,f){e=tickStep(b,d,e);var g;f=formatSpecifier(null==f?",f":f);switch(f.type){case "s":return b=Math.max(Math.abs(b),Math.abs(d)),null!=f.precision||isNaN(g=precisionPrefix(e,b))||(f.precision=g),formatPrefix(f,b);case "":case "e":case "g":case "p":case "r":null!=f.precision||isNaN(g=precisionRound(e,Math.max(Math.abs(b),Math.abs(d))))||(f.precision=g-("e"===f.type));break;case "f":case "%":null!=f.precision||isNaN(g=precisionFixed(e))||(f.precision=g-2*("%"===f.type))}return format(f)}
function linearish(b){var d=b.domain;b.ticks=function(b){var e=d();return ticks(e[0],e[e.length-1],null==b?10:b)};b.tickFormat=function(b,f){var e=d();return tickFormat(e[0],e[e.length-1],null==b?10:b,f)};b.nice=function(e){null==e&&(e=10);var f=d(),g=0,h=f.length-1,l=f[g],m=f[h];if(m<l){var p=l;l=m;m=p;p=g;g=h;h=p}p=tickIncrement(l,m,e);0<p?(l=Math.floor(l/p)*p,m=Math.ceil(m/p)*p,p=tickIncrement(l,m,e)):0>p&&(l=Math.ceil(l*p)/p,m=Math.floor(m*p)/p,p=tickIncrement(l,m,e));0<p?(f[g]=Math.floor(l/p)*
p,f[h]=Math.ceil(m/p)*p,d(f)):0>p&&(f[g]=Math.ceil(l*p)/p,f[h]=Math.floor(m*p)/p,d(f));return b};return b}function linear(){var b=continuous(identity$4,identity$4);b.copy=function(){return copy$1(b,linear())};initRange.apply(b,arguments);return linearish(b)}
function identity$3(b){function d(b){return isNaN(b=+b)?e:b}var e;d.invert=d;d.domain=d.range=function(e){return arguments.length?(b=map$1.call(e,number$1),d):b.slice()};d.unknown=function(b){return arguments.length?(e=b,d):e};d.copy=function(){return identity$3(b).unknown(e)};b=arguments.length?map$1.call(b,number$1):[0,1];return linearish(d)}function nice(b,d){b=b.slice();var e=0,f=b.length-1,g=b[e],h=b[f];if(h<g){var l=e;e=f;f=l;l=g;g=h;h=l}b[e]=d.floor(g);b[f]=d.ceil(h);return b}
function transformLog(b){return Math.log(b)}function transformExp(b){return Math.exp(b)}function transformLogn(b){return-Math.log(-b)}function transformExpn(b){return-Math.exp(-b)}function pow10(b){return isFinite(b)?+("1e"+b):0>b?0:b}function powp(b){return 10===b?pow10:b===Math.E?Math.exp:function(d){return Math.pow(b,d)}}function logp(b){return b===Math.E?Math.log:10===b&&Math.log10||2===b&&Math.log2||(b=Math.log(b),function(d){return Math.log(d)/b})}
function reflect(b){return function(d){return-b(-d)}}
function loggish(b){function d(){h=logp(g);l=powp(g);0>f()[0]?(h=reflect(h),l=reflect(l),b(transformLogn,transformExpn)):b(transformLog,transformExp);return e}var e=b(transformLog,transformExp),f=e.domain,g=10,h,l;e.base=function(b){return arguments.length?(g=+b,d()):g};e.domain=function(b){return arguments.length?(f(b),d()):f()};e.ticks=function(b){var d=f(),e=d[0];d=d[d.length-1];var m;if(m=d<e)r=e,e=d,d=r;var r=h(e),t=h(d);var v=null==b?10:+b;b=[];if(!(g%1)&&t-r<v)if(r=Math.round(r)-1,t=Math.round(t)+
1,0<e)for(;r<t;++r){var u=1;for(v=l(r);u<g;++u){var w=v*u;if(!(w<e)){if(w>d)break;b.push(w)}}}else for(;r<t;++r)for(u=g-1,v=l(r);1<=u;--u){if(w=v*u,!(w<e)){if(w>d)break;b.push(w)}}else b=ticks(r,t,Math.min(t-r,v)).map(l);return m?b.reverse():b};e.tickFormat=function(b,d){null==d&&(d=10===g?".0e":",");"function"!==typeof d&&(d=format(d));if(Infinity===b)return d;null==b&&(b=10);var f=Math.max(1,g*b/e.ticks().length);return function(b){var e=b/l(Math.round(h(b)));e*g<g-.5&&(e*=g);return e<=f?d(b):""}};
e.nice=function(){return f(nice(f(),{floor:function(b){return l(Math.floor(h(b)))},ceil:function(b){return l(Math.ceil(h(b)))}}))};return e}function log(){var b=loggish(transformer$2()).domain([1,10]);b.copy=function(){return copy$1(b,log()).base(b.base())};initRange.apply(b,arguments);return b}function transformSymlog(b){return function(d){return Math.sign(d)*Math.log1p(Math.abs(d/b))}}function transformSymexp(b){return function(d){return Math.sign(d)*Math.expm1(Math.abs(d))*b}}
function symlogish(b){var d=1,e=b(transformSymlog(d),transformSymexp(d));e.constant=function(e){return arguments.length?b(transformSymlog(d=+e),transformSymexp(d)):d};return linearish(e)}function symlog(){var b=symlogish(transformer$2());b.copy=function(){return copy$1(b,symlog()).constant(b.constant())};return initRange.apply(b,arguments)}function transformPow(b){return function(d){return 0>d?-Math.pow(-d,b):Math.pow(d,b)}}function transformSqrt(b){return 0>b?-Math.sqrt(-b):Math.sqrt(b)}
function transformSquare(b){return 0>b?-b*b:b*b}function powish(b){var d=b(identity$4,identity$4),e=1;d.exponent=function(d){return arguments.length?(e=+d,1===e?b(identity$4,identity$4):.5===e?b(transformSqrt,transformSquare):b(transformPow(e),transformPow(1/e))):e};return linearish(d)}function pow(){var b=powish(transformer$2());b.copy=function(){return copy$1(b,pow()).exponent(b.exponent())};initRange.apply(b,arguments);return b}function sqrt$1(){return pow.apply(null,arguments).exponent(.5)}
function quantile(){function b(){var b=0,h=Math.max(1,f.length);for(g=Array(h-1);++b<h;)g[b-1]=threshold$1(e,b/h);return d}function d(b){return isNaN(b=+b)?h:f[bisectRight(g,b)]}var e=[],f=[],g=[],h;d.invertExtent=function(b){b=f.indexOf(b);return 0>b?[NaN,NaN]:[0<b?g[b-1]:e[0],b<g.length?g[b]:e[e.length-1]]};d.domain=function(d){if(!arguments.length)return e.slice();e=[];for(var f=0,g=d.length,h;f<g;++f)(h=d[f],null==h||isNaN(h=+h))||e.push(h);e.sort(ascending$3);return b()};d.range=function(d){return arguments.length?
(f=slice$1.call(d),b()):f.slice()};d.unknown=function(b){return arguments.length?(h=b,d):h};d.quantiles=function(){return g.slice()};d.copy=function(){return quantile().domain(e).range(f).unknown(h)};return initRange.apply(d,arguments)}
function quantize(){function b(b){return b<=b?l[bisectRight(h,b,0,g)]:m}function d(){var d=-1;for(h=Array(g);++d<g;)h[d]=((d+1)*f-(d-g)*e)/(g+1);return b}var e=0,f=1,g=1,h=[.5],l=[0,1],m;b.domain=function(b){return arguments.length?(e=+b[0],f=+b[1],d()):[e,f]};b.range=function(b){return arguments.length?(g=(l=slice$1.call(b)).length-1,d()):l.slice()};b.invertExtent=function(b){b=l.indexOf(b);return 0>b?[NaN,NaN]:1>b?[e,h[0]]:b>=g?[h[g-1],f]:[h[b-1],h[b]]};b.unknown=function(d){return arguments.length?
(m=d,b):b};b.thresholds=function(){return h.slice()};b.copy=function(){return quantize().domain([e,f]).range(l).unknown(m)};return initRange.apply(linearish(b),arguments)}
function threshold(){function b(b){return b<=b?e[bisectRight(d,b,0,g)]:f}var d=[.5],e=[0,1],f,g=1;b.domain=function(f){return arguments.length?(d=slice$1.call(f),g=Math.min(d.length,e.length-1),b):d.slice()};b.range=function(f){return arguments.length?(e=slice$1.call(f),g=Math.min(d.length,e.length-1),b):e.slice()};b.invertExtent=function(b){b=e.indexOf(b);return[d[b-1],d[b]]};b.unknown=function(d){return arguments.length?(f=d,b):f};b.copy=function(){return threshold().domain(d).range(e).unknown(f)};
return initRange.apply(b,arguments)}var t0=new Date,t1=new Date;
function newInterval(b,d,e,f){function g(d){return b(d=0===arguments.length?new Date:new Date(+d)),d}g.floor=function(d){return b(d=new Date(+d)),d};g.ceil=function(e){return b(e=new Date(e-1)),d(e,1),b(e),e};g.round=function(b){var d=g(b),e=g.ceil(b);return b-d<e-b?d:e};g.offset=function(b,e){return d(b=new Date(+b),null==e?1:Math.floor(e)),b};g.range=function(e,f,m){var h=[],l;e=g.ceil(e);m=null==m?1:Math.floor(m);if(!(e<f&&0<m))return h;do h.push(l=new Date(+e)),d(e,m),b(e);while(l<e&&e<f);return h};
g.filter=function(e){return newInterval(function(d){if(d>=d)for(;b(d),!e(d);)d.setTime(d-1)},function(b,f){if(b>=b)if(0>f)for(;0>=++f;)for(;d(b,-1),!e(b););else for(;0<=--f;)for(;d(b,1),!e(b););})};e&&(g.count=function(d,f){t0.setTime(+d);t1.setTime(+f);b(t0);b(t1);return Math.floor(e(t0,t1))},g.every=function(b){b=Math.floor(b);return isFinite(b)&&0<b?1<b?g.filter(f?function(d){return 0===f(d)%b}:function(d){return 0===g.count(0,d)%b}):g:null});return g}
var millisecond=newInterval(function(){},function(b,d){b.setTime(+b+d)},function(b,d){return d-b});millisecond.every=function(b){b=Math.floor(b);return isFinite(b)&&0<b?1<b?newInterval(function(d){d.setTime(Math.floor(d/b)*b)},function(d,e){d.setTime(+d+e*b)},function(d,e){return(e-d)/b}):millisecond:null};
var milliseconds=millisecond.range,durationSecond$1=1E3,durationMinute$1=6E4,durationHour$1=36E5,durationDay$1=864E5,durationWeek$1=6048E5,second=newInterval(function(b){b.setTime(b-b.getMilliseconds())},function(b,d){b.setTime(+b+d*durationSecond$1)},function(b,d){return(d-b)/durationSecond$1},function(b){return b.getUTCSeconds()}),seconds=second.range,minute=newInterval(function(b){b.setTime(b-b.getMilliseconds()-b.getSeconds()*durationSecond$1)},function(b,d){b.setTime(+b+d*durationMinute$1)},
function(b,d){return(d-b)/durationMinute$1},function(b){return b.getMinutes()}),minutes=minute.range,hour=newInterval(function(b){b.setTime(b-b.getMilliseconds()-b.getSeconds()*durationSecond$1-b.getMinutes()*durationMinute$1)},function(b,d){b.setTime(+b+d*durationHour$1)},function(b,d){return(d-b)/durationHour$1},function(b){return b.getHours()}),hours=hour.range,day=newInterval(function(b){b.setHours(0,0,0,0)},function(b,d){b.setDate(b.getDate()+d)},function(b,d){return(d-b-(d.getTimezoneOffset()-
b.getTimezoneOffset())*durationMinute$1)/durationDay$1},function(b){return b.getDate()-1}),days=day.range;function weekday(b){return newInterval(function(d){d.setDate(d.getDate()-(d.getDay()+7-b)%7);d.setHours(0,0,0,0)},function(b,e){b.setDate(b.getDate()+7*e)},function(b,e){return(e-b-(e.getTimezoneOffset()-b.getTimezoneOffset())*durationMinute$1)/durationWeek$1})}
var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),sundays=sunday.range,mondays=monday.range,tuesdays=tuesday.range,wednesdays=wednesday.range,thursdays=thursday.range,fridays=friday.range,saturdays=saturday.range,month=newInterval(function(b){b.setDate(1);b.setHours(0,0,0,0)},function(b,d){b.setMonth(b.getMonth()+d)},function(b,d){return d.getMonth()-b.getMonth()+12*(d.getFullYear()-b.getFullYear())},function(b){return b.getMonth()}),
months=month.range,year=newInterval(function(b){b.setMonth(0,1);b.setHours(0,0,0,0)},function(b,d){b.setFullYear(b.getFullYear()+d)},function(b,d){return d.getFullYear()-b.getFullYear()},function(b){return b.getFullYear()});year.every=function(b){return isFinite(b=Math.floor(b))&&0<b?newInterval(function(d){d.setFullYear(Math.floor(d.getFullYear()/b)*b);d.setMonth(0,1);d.setHours(0,0,0,0)},function(d,e){d.setFullYear(d.getFullYear()+e*b)}):null};
var years=year.range,utcMinute=newInterval(function(b){b.setUTCSeconds(0,0)},function(b,d){b.setTime(+b+d*durationMinute$1)},function(b,d){return(d-b)/durationMinute$1},function(b){return b.getUTCMinutes()}),utcMinutes=utcMinute.range,utcHour=newInterval(function(b){b.setUTCMinutes(0,0,0)},function(b,d){b.setTime(+b+d*durationHour$1)},function(b,d){return(d-b)/durationHour$1},function(b){return b.getUTCHours()}),utcHours=utcHour.range,utcDay=newInterval(function(b){b.setUTCHours(0,0,0,0)},function(b,
d){b.setUTCDate(b.getUTCDate()+d)},function(b,d){return(d-b)/durationDay$1},function(b){return b.getUTCDate()-1}),utcDays=utcDay.range;function utcWeekday(b){return newInterval(function(d){d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+7-b)%7);d.setUTCHours(0,0,0,0)},function(b,e){b.setUTCDate(b.getUTCDate()+7*e)},function(b,e){return(e-b)/durationWeek$1})}
var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcTuesdays=utcTuesday.range,utcWednesdays=utcWednesday.range,utcThursdays=utcThursday.range,utcFridays=utcFriday.range,utcSaturdays=utcSaturday.range,utcMonth=newInterval(function(b){b.setUTCDate(1);b.setUTCHours(0,0,0,0)},function(b,d){b.setUTCMonth(b.getUTCMonth()+
d)},function(b,d){return d.getUTCMonth()-b.getUTCMonth()+12*(d.getUTCFullYear()-b.getUTCFullYear())},function(b){return b.getUTCMonth()}),utcMonths=utcMonth.range,utcYear=newInterval(function(b){b.setUTCMonth(0,1);b.setUTCHours(0,0,0,0)},function(b,d){b.setUTCFullYear(b.getUTCFullYear()+d)},function(b,d){return d.getUTCFullYear()-b.getUTCFullYear()},function(b){return b.getUTCFullYear()});
utcYear.every=function(b){return isFinite(b=Math.floor(b))&&0<b?newInterval(function(d){d.setUTCFullYear(Math.floor(d.getUTCFullYear()/b)*b);d.setUTCMonth(0,1);d.setUTCHours(0,0,0,0)},function(d,e){d.setUTCFullYear(d.getUTCFullYear()+e*b)}):null};var utcYears=utcYear.range;function localDate(b){if(0<=b.y&&100>b.y){var d=new Date(-1,b.m,b.d,b.H,b.M,b.S,b.L);d.setFullYear(b.y);return d}return new Date(b.y,b.m,b.d,b.H,b.M,b.S,b.L)}
function utcDate(b){if(0<=b.y&&100>b.y){var d=new Date(Date.UTC(-1,b.m,b.d,b.H,b.M,b.S,b.L));d.setUTCFullYear(b.y);return d}return new Date(Date.UTC(b.y,b.m,b.d,b.H,b.M,b.S,b.L))}function newDate(b,d,e){return{y:b,m:d,d:e,H:0,M:0,S:0,L:0}}
function formatLocale(b){function d(b,d){return function(e){var f=[],g=-1,h=0,l=b.length,n,m;for(e instanceof Date||(e=new Date(+e));++g<l;)if(37===b.charCodeAt(g)){f.push(b.slice(h,g));null!=(h=pads[n=b.charAt(++g)])?n=b.charAt(++g):h="e"===n?" ":"0";if(m=d[n])n=m(e,h);f.push(n);h=g+1}f.push(b.slice(h,g));return f.join("")}}function e(b,d){return function(e){var g=newDate(1900,void 0,1);if(f(g,b,e+="",0)!=e.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(1E3*g.s+("L"in
g?g.L:0));!d||"Z"in g||(g.Z=0);"p"in g&&(g.H=g.H%12+12*g.p);void 0===g.m&&(g.m="q"in g?g.q:0);if("V"in g){if(1>g.V||53<g.V)return null;"w"in g||(g.w=1);if("Z"in g){e=utcDate(newDate(g.y,0,1));var h=e.getUTCDay();e=4<h||0===h?utcMonday.ceil(e):utcMonday(e);e=utcDay.offset(e,7*(g.V-1));g.y=e.getUTCFullYear();g.m=e.getUTCMonth();g.d=e.getUTCDate()+(g.w+6)%7}else e=localDate(newDate(g.y,0,1)),h=e.getDay(),e=4<h||0===h?monday.ceil(e):monday(e),e=day.offset(e,7*(g.V-1)),g.y=e.getFullYear(),g.m=e.getMonth(),
g.d=e.getDate()+(g.w+6)%7}else if("W"in g||"U"in g)"w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),h="Z"in g?utcDate(newDate(g.y,0,1)).getUTCDay():localDate(newDate(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+7*g.W-(h+5)%7:g.w+7*g.U-(h+6)%7;return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,utcDate(g)):localDate(g)}}function f(b,d,e,f){for(var g=0,h=d.length,n=e.length,l;g<h;){if(f>=n)return-1;l=d.charCodeAt(g++);if(37===l){if(l=d.charAt(g++),l=G[l in pads?d.charAt(g++):l],!l||0>(f=l(b,e,f)))return-1}else if(l!=
e.charCodeAt(f++))return-1}return f}var g=b.dateTime,h=b.date,l=b.time,m=b.periods,p=b.days,n=b.shortDays,q=b.months,r=b.shortMonths,t=formatRe(m),v=formatLookup(m),u=formatRe(p),w=formatLookup(p),J=formatRe(n),H=formatLookup(n),z=formatRe(q),I=formatLookup(q),O=formatRe(r),N=formatLookup(r),L={a:function(b){return n[b.getDay()]},A:function(b){return p[b.getDay()]},b:function(b){return r[b.getMonth()]},B:function(b){return q[b.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,
g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(b){return m[+(12<=b.getHours())]},q:function(b){return 1+~~(b.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},
F={a:function(b){return n[b.getUTCDay()]},A:function(b){return p[b.getUTCDay()]},b:function(b){return r[b.getUTCMonth()]},B:function(b){return q[b.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(b){return m[+(12<=b.getUTCHours())]},q:function(b){return 1+~~(b.getUTCMonth()/3)},Q:formatUnixTimestamp,
s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},G={a:function(b,d,e){return(d=J.exec(d.slice(e)))?(b.w=H[d[0].toLowerCase()],e+d[0].length):-1},A:function(b,d,e){return(d=u.exec(d.slice(e)))?(b.w=w[d[0].toLowerCase()],e+d[0].length):-1},b:function(b,d,e){return(d=O.exec(d.slice(e)))?
(b.m=N[d[0].toLowerCase()],e+d[0].length):-1},B:function(b,d,e){return(d=z.exec(d.slice(e)))?(b.m=I[d[0].toLowerCase()],e+d[0].length):-1},c:function(b,d,e){return f(b,g,d,e)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(b,d,e){return(d=t.exec(d.slice(e)))?(b.p=v[d[0].toLowerCase()],e+d[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,
S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(b,d,e){return f(b,h,d,e)},X:function(b,d,e){return f(b,l,d,e)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};L.x=d(h,L);L.X=d(l,L);L.c=d(g,L);F.x=d(h,F);F.X=d(l,F);F.c=d(g,F);return{format:function(b){var e=d(b+="",L);e.toString=function(){return b};return e},parse:function(b){var d=e(b+="",!1);d.toString=function(){return b};return d},
utcFormat:function(b){var e=d(b+="",F);e.toString=function(){return b};return e},utcParse:function(b){var d=e(b+="",!0);d.toString=function(){return b};return d}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(b,d,e){var f=0>b?"-":"";b=(f?-b:b)+"";var g=b.length;return f+(g<e?Array(e-g+1).join(d)+b:b)}function requote(b){return b.replace(requoteRe,"\\$&")}function formatRe(b){return new RegExp("^(?:"+b.map(requote).join("|")+")","i")}
function formatLookup(b){for(var d={},e=-1,f=b.length;++e<f;)d[b[e].toLowerCase()]=e;return d}function parseWeekdayNumberSunday(b,d,e){return(d=numberRe.exec(d.slice(e,e+1)))?(b.w=+d[0],e+d[0].length):-1}function parseWeekdayNumberMonday(b,d,e){return(d=numberRe.exec(d.slice(e,e+1)))?(b.u=+d[0],e+d[0].length):-1}function parseWeekNumberSunday(b,d,e){return(d=numberRe.exec(d.slice(e,e+2)))?(b.U=+d[0],e+d[0].length):-1}
function parseWeekNumberISO(b,d,e){return(d=numberRe.exec(d.slice(e,e+2)))?(b.V=+d[0],e+d[0].length):-1}function parseWeekNumberMonday(b,d,e){return(d=numberRe.exec(d.slice(e,e+2)))?(b.W=+d[0],e+d[0].length):-1}function parseFullYear(b,d,e){return(d=numberRe.exec(d.slice(e,e+4)))?(b.y=+d[0],e+d[0].length):-1}function parseYear(b,d,e){return(d=numberRe.exec(d.slice(e,e+2)))?(b.y=+d[0]+(68<+d[0]?1900:2E3),e+d[0].length):-1}
function parseZone(b,d,e){return(d=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(d.slice(e,e+6)))?(b.Z=d[1]?0:-(d[2]+(d[3]||"00")),e+d[0].length):-1}function parseQuarter(b,d,e){return(d=numberRe.exec(d.slice(e,e+1)))?(b.q=3*d[0]-3,e+d[0].length):-1}function parseMonthNumber(b,d,e){return(d=numberRe.exec(d.slice(e,e+2)))?(b.m=d[0]-1,e+d[0].length):-1}function parseDayOfMonth(b,d,e){return(d=numberRe.exec(d.slice(e,e+2)))?(b.d=+d[0],e+d[0].length):-1}
function parseDayOfYear(b,d,e){return(d=numberRe.exec(d.slice(e,e+3)))?(b.m=0,b.d=+d[0],e+d[0].length):-1}function parseHour24(b,d,e){return(d=numberRe.exec(d.slice(e,e+2)))?(b.H=+d[0],e+d[0].length):-1}function parseMinutes(b,d,e){return(d=numberRe.exec(d.slice(e,e+2)))?(b.M=+d[0],e+d[0].length):-1}function parseSeconds(b,d,e){return(d=numberRe.exec(d.slice(e,e+2)))?(b.S=+d[0],e+d[0].length):-1}
function parseMilliseconds(b,d,e){return(d=numberRe.exec(d.slice(e,e+3)))?(b.L=+d[0],e+d[0].length):-1}function parseMicroseconds(b,d,e){return(d=numberRe.exec(d.slice(e,e+6)))?(b.L=Math.floor(d[0]/1E3),e+d[0].length):-1}function parseLiteralPercent(b,d,e){return(b=percentRe.exec(d.slice(e,e+1)))?e+b[0].length:-1}function parseUnixTimestamp(b,d,e){return(d=numberRe.exec(d.slice(e)))?(b.Q=+d[0],e+d[0].length):-1}
function parseUnixTimestampSeconds(b,d,e){return(d=numberRe.exec(d.slice(e)))?(b.s=+d[0],e+d[0].length):-1}function formatDayOfMonth(b,d){return pad(b.getDate(),d,2)}function formatHour24(b,d){return pad(b.getHours(),d,2)}function formatHour12(b,d){return pad(b.getHours()%12||12,d,2)}function formatDayOfYear(b,d){return pad(1+day.count(year(b),b),d,3)}function formatMilliseconds(b,d){return pad(b.getMilliseconds(),d,3)}function formatMicroseconds(b,d){return formatMilliseconds(b,d)+"000"}
function formatMonthNumber(b,d){return pad(b.getMonth()+1,d,2)}function formatMinutes(b,d){return pad(b.getMinutes(),d,2)}function formatSeconds(b,d){return pad(b.getSeconds(),d,2)}function formatWeekdayNumberMonday(b){b=b.getDay();return 0===b?7:b}function formatWeekNumberSunday(b,d){return pad(sunday.count(year(b)-1,b),d,2)}function dISO(b){var d=b.getDay();return 4<=d||0===d?thursday(b):thursday.ceil(b)}
function formatWeekNumberISO(b,d){b=dISO(b);return pad(thursday.count(year(b),b)+(4===year(b).getDay()),d,2)}function formatWeekdayNumberSunday(b){return b.getDay()}function formatWeekNumberMonday(b,d){return pad(monday.count(year(b)-1,b),d,2)}function formatYear(b,d){return pad(b.getFullYear()%100,d,2)}function formatYearISO(b,d){b=dISO(b);return pad(b.getFullYear()%100,d,2)}function formatFullYear(b,d){return pad(b.getFullYear()%1E4,d,4)}
function formatFullYearISO(b,d){var e=b.getDay();b=4<=e||0===e?thursday(b):thursday.ceil(b);return pad(b.getFullYear()%1E4,d,4)}function formatZone(b){b=b.getTimezoneOffset();return(0<b?"-":(b*=-1,"+"))+pad(b/60|0,"0",2)+pad(b%60,"0",2)}function formatUTCDayOfMonth(b,d){return pad(b.getUTCDate(),d,2)}function formatUTCHour24(b,d){return pad(b.getUTCHours(),d,2)}function formatUTCHour12(b,d){return pad(b.getUTCHours()%12||12,d,2)}
function formatUTCDayOfYear(b,d){return pad(1+utcDay.count(utcYear(b),b),d,3)}function formatUTCMilliseconds(b,d){return pad(b.getUTCMilliseconds(),d,3)}function formatUTCMicroseconds(b,d){return formatUTCMilliseconds(b,d)+"000"}function formatUTCMonthNumber(b,d){return pad(b.getUTCMonth()+1,d,2)}function formatUTCMinutes(b,d){return pad(b.getUTCMinutes(),d,2)}function formatUTCSeconds(b,d){return pad(b.getUTCSeconds(),d,2)}
function formatUTCWeekdayNumberMonday(b){b=b.getUTCDay();return 0===b?7:b}function formatUTCWeekNumberSunday(b,d){return pad(utcSunday.count(utcYear(b)-1,b),d,2)}function UTCdISO(b){var d=b.getUTCDay();return 4<=d||0===d?utcThursday(b):utcThursday.ceil(b)}function formatUTCWeekNumberISO(b,d){b=UTCdISO(b);return pad(utcThursday.count(utcYear(b),b)+(4===utcYear(b).getUTCDay()),d,2)}function formatUTCWeekdayNumberSunday(b){return b.getUTCDay()}
function formatUTCWeekNumberMonday(b,d){return pad(utcMonday.count(utcYear(b)-1,b),d,2)}function formatUTCYear(b,d){return pad(b.getUTCFullYear()%100,d,2)}function formatUTCYearISO(b,d){b=UTCdISO(b);return pad(b.getUTCFullYear()%100,d,2)}function formatUTCFullYear(b,d){return pad(b.getUTCFullYear()%1E4,d,4)}function formatUTCFullYearISO(b,d){var e=b.getUTCDay();b=4<=e||0===e?utcThursday(b):utcThursday.ceil(b);return pad(b.getUTCFullYear()%1E4,d,4)}function formatUTCZone(){return"+0000"}
function formatLiteralPercent(){return"%"}function formatUnixTimestamp(b){return+b}function formatUnixTimestampSeconds(b){return Math.floor(+b/1E3)}var locale,timeFormat,timeParse,utcFormat,utcParse;
defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
function defaultLocale(b){locale=formatLocale(b);timeFormat=locale.format;timeParse=locale.parse;utcFormat=locale.utcFormat;utcParse=locale.utcParse;return locale}var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(b){return b.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:utcFormat(isoSpecifier);function parseIsoNative(b){b=new Date(b);return isNaN(b)?null:b}
var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:utcParse(isoSpecifier),durationSecond=1E3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay;function date(b){return new Date(b)}function number(b){return b instanceof Date?+b:+new Date(+b)}
function calendar(b,d,e,f,g,h,l,m,p){function n(n){return(l(n)<n?u:h(n)<n?w:g(n)<n?J:f(n)<n?H:d(n)<n?e(n)<n?z:I:b(n)<n?O:N)(n)}function q(d,e,f,g){null==d&&(d=10);if("number"===typeof d){g=Math.abs(f-e)/d;var h=bisector(function(b){return b[2]}).right(L,g);h===L.length?(g=tickStep(e/durationYear,f/durationYear,d),d=b):h?(h=L[g/L[h-1][2]<L[h][2]/g?h-1:h],g=h[1],d=h[0]):(g=Math.max(tickStep(e,f,d),1),d=m)}return null==g?d:d.every(g)}var r=continuous(identity$4,identity$4),t=r.invert,v=r.domain,u=p(".%L"),
w=p(":%S"),J=p("%I:%M"),H=p("%I %p"),z=p("%a %d"),I=p("%b %d"),O=p("%B"),N=p("%Y"),L=[[l,1,durationSecond],[l,5,5*durationSecond],[l,15,15*durationSecond],[l,30,30*durationSecond],[h,1,durationMinute],[h,5,5*durationMinute],[h,15,15*durationMinute],[h,30,30*durationMinute],[g,1,durationHour],[g,3,3*durationHour],[g,6,6*durationHour],[g,12,12*durationHour],[f,1,durationDay],[f,2,2*durationDay],[e,1,durationWeek],[d,1,durationMonth],[d,3,3*durationMonth],[b,1,durationYear]];r.invert=function(b){return new Date(t(b))};
r.domain=function(b){return arguments.length?v(map$1.call(b,number)):v().map(date)};r.ticks=function(b,d){var e=v(),f=e[0];e=e[e.length-1];var g=e<f;if(g){var h=f;f=e;e=h}h=(h=q(b,f,e,d))?h.range(f,e+1):[];return g?h.reverse():h};r.tickFormat=function(b,d){return null==d?n:p(d)};r.nice=function(b,d){var e=v();return(b=q(b,e[0],e[e.length-1],d))?v(nice(e,b)):r};r.copy=function(){return copy$1(r,calendar(b,d,e,f,g,h,l,m,p))};return r}
function time$1(){return initRange.apply(calendar(year,month,sunday,day,hour,minute,second,millisecond,timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,millisecond,utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)}
function transformer$1(){function b(b){return isNaN(b=+b)?n:m(0===h?.5:(b=(l(b)-f)*h,p?Math.max(0,Math.min(1,b)):b))}var d=0,e=1,f,g,h,l,m=identity$4,p=!1,n;b.domain=function(n){return arguments.length?(f=l(d=+n[0]),g=l(e=+n[1]),h=f===g?0:1/(g-f),b):[d,e]};b.clamp=function(d){return arguments.length?(p=!!d,b):p};b.interpolator=function(d){return arguments.length?(m=d,b):m};b.unknown=function(d){return arguments.length?(n=d,b):n};return function(n){l=n;f=n(d);g=n(e);h=f===g?0:1/(g-f);return b}}
function copy(b,d){return d.domain(b.domain()).interpolator(b.interpolator()).clamp(b.clamp()).unknown(b.unknown())}function sequential(){var b=linearish(transformer$1()(identity$4));b.copy=function(){return copy(b,sequential())};return initInterpolator.apply(b,arguments)}function sequentialLog(){var b=loggish(transformer$1()).domain([1,10]);b.copy=function(){return copy(b,sequentialLog()).base(b.base())};return initInterpolator.apply(b,arguments)}
function sequentialSymlog(){var b=symlogish(transformer$1());b.copy=function(){return copy(b,sequentialSymlog()).constant(b.constant())};return initInterpolator.apply(b,arguments)}function sequentialPow(){var b=powish(transformer$1());b.copy=function(){return copy(b,sequentialPow()).exponent(b.exponent())};return initInterpolator.apply(b,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}
function sequentialQuantile(){function b(b){if(!isNaN(b=+b))return e((bisectRight(d,b)-1)/(d.length-1))}var d=[],e=identity$4;b.domain=function(e){if(!arguments.length)return d.slice();d=[];for(var f=0,h=e.length,l;f<h;++f)(l=e[f],null==l||isNaN(l=+l))||d.push(l);d.sort(ascending$3);return b};b.interpolator=function(d){return arguments.length?(e=d,b):e};b.copy=function(){return sequentialQuantile(e).domain(d)};return initInterpolator.apply(b,arguments)}
function transformer(){function b(b){return isNaN(b=+b)?t:(b=.5+((b=+q(b))-h)*(b<h?m:p),n(r?Math.max(0,Math.min(1,b)):b))}var d=0,e=.5,f=1,g,h,l,m,p,n=identity$4,q,r=!1,t;b.domain=function(n){return arguments.length?(g=q(d=+n[0]),h=q(e=+n[1]),l=q(f=+n[2]),m=g===h?0:.5/(h-g),p=h===l?0:.5/(l-h),b):[d,e,f]};b.clamp=function(d){return arguments.length?(r=!!d,b):r};b.interpolator=function(d){return arguments.length?(n=d,b):n};b.unknown=function(d){return arguments.length?(t=d,b):t};return function(n){q=
n;g=n(d);h=n(e);l=n(f);m=g===h?0:.5/(h-g);p=h===l?0:.5/(l-h);return b}}function diverging$1(){var b=linearish(transformer()(identity$4));b.copy=function(){return copy(b,diverging$1())};return initInterpolator.apply(b,arguments)}function divergingLog(){var b=loggish(transformer()).domain([.1,1,10]);b.copy=function(){return copy(b,divergingLog()).base(b.base())};return initInterpolator.apply(b,arguments)}
function divergingSymlog(){var b=symlogish(transformer());b.copy=function(){return copy(b,divergingSymlog()).constant(b.constant())};return initInterpolator.apply(b,arguments)}function divergingPow(){var b=powish(transformer());b.copy=function(){return copy(b,divergingPow()).exponent(b.exponent())};return initInterpolator.apply(b,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}
function colors(b){for(var d=b.length/6|0,e=Array(d),f=0;f<d;)e[f]="#"+b.slice(6*f,6*++f);return e}
var category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Accent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Paired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Pastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Pastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Set1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),
Set2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Set3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Tableau10=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ramp$1(b){return rgbBasis(b[b.length-1])}
var scheme$q=Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors),BrBG=ramp$1(scheme$q),scheme$p=Array(3).concat("af8dc3f7f7f77fbf7b",
"7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors),PRGn=ramp$1(scheme$p),scheme$o=Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26",
"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors),PiYG=ramp$1(scheme$o),scheme$n=Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806",
"542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors),PuOr=ramp$1(scheme$n),scheme$m=Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac",
"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors),RdBu=ramp$1(scheme$m),scheme$l=Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d",
"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors),RdGy=ramp$1(scheme$l),scheme$k=Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4",
"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors),RdYlBu=ramp$1(scheme$k),scheme$j=Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",
"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors),RdYlGn=ramp$1(scheme$j),scheme$i=Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors),
Spectral=ramp$1(scheme$i),scheme$h=Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors),BuGn=ramp$1(scheme$h),scheme$g=Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c",
"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors),BuPu=ramp$1(scheme$g),scheme$f=Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors),GnBu=
ramp$1(scheme$f),scheme$e=Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors),OrRd=ramp$1(scheme$e),scheme$d=Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450",
"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors),PuBuGn=ramp$1(scheme$d),scheme$c=Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors),PuBu=ramp$1(scheme$c),scheme$b=Array(3).concat("e7e1efc994c7dd1c77",
"f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors),PuRd=ramp$1(scheme$b),scheme$a=Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177",
"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors),RdPu=ramp$1(scheme$a),scheme$9=Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors),YlGnBu=ramp$1(scheme$9),scheme$8=Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837",
"ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors),YlGn=ramp$1(scheme$8),scheme$7=Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors),
YlOrBr=ramp$1(scheme$7),scheme$6=Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors),YlOrRd=ramp$1(scheme$6),scheme$5=Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c",
"eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors),Blues=ramp$1(scheme$5),scheme$4=Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors),Greens=
ramp$1(scheme$4),scheme$3=Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors),Greys=ramp$1(scheme$3),scheme$2=Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486",
"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors),Purples=ramp$1(scheme$2),scheme$1=Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors),Reds=ramp$1(scheme$1),scheme=Array(3).concat("fee6cefdae6be6550d",
"feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors),Oranges=ramp$1(scheme);
function cividis(b){b=Math.max(0,Math.min(1,b));return"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-b*(35.34-b*(2381.73-b*(6402.7-b*(7024.72-2710.57*b)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+b*(170.73+b*(52.82-b*(131.46-b*(176.58-67.37*b)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+b*(442.36-b*(2482.43-b*(6167.24-b*(6614.94-2475.67*b)))))))+")"}
var cubehelix=cubehelixLong(cubehelix$3(300,.5,0),cubehelix$3(-240,.5,1)),warm=cubehelixLong(cubehelix$3(-100,.75,.35),cubehelix$3(80,1.5,.8)),cool=cubehelixLong(cubehelix$3(260,.75,.35),cubehelix$3(80,1.5,.8)),c$2=cubehelix$3();function rainbow(b){if(0>b||1<b)b-=Math.floor(b);var d=Math.abs(b-.5);c$2.h=360*b-100;c$2.s=1.5-1.5*d;c$2.l=.8-.9*d;return c$2+""}var c$1=rgb$2(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;
function sinebow(b){var d;b=(.5-b)*Math.PI;c$1.r=255*(d=Math.sin(b))*d;c$1.g=255*(d=Math.sin(b+pi_1_3))*d;c$1.b=255*(d=Math.sin(b+pi_2_3))*d;return c$1+""}
function turbo(b){b=Math.max(0,Math.min(1,b));return"rgb("+Math.max(0,Math.min(255,Math.round(34.61+b*(1172.33-b*(10793.56-b*(33300.12-b*(38394.49-14825.05*b)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+b*(557.33+b*(1225.33-b*(3574.96-b*(1073.77+707.56*b)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+b*(3211.1-b*(15327.97-b*(27814-b*(22569.18-6838.66*b)))))))+")"}function ramp(b){var d=b.length;return function(e){return b[Math.max(0,Math.min(d-1,Math.floor(e*d)))]}}
var viridis=ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),magma=
ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),
inferno=ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),
plasma=ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));
function constant$3(b){return function(){return b}}var abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max$1=Math.max,min$1=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon$1=1E-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(b){return 1<b?0:-1>b?pi:Math.acos(b)}function asin(b){return 1<=b?halfPi:-1>=b?-halfPi:Math.asin(b)}function arcInnerRadius(b){return b.innerRadius}function arcOuterRadius(b){return b.outerRadius}function arcStartAngle(b){return b.startAngle}
function arcEndAngle(b){return b.endAngle}function arcPadAngle(b){return b&&b.padAngle}function intersect$1(b,d,e,f,g,h,l,m){e-=b;f-=d;l-=g;m-=h;var p=m*e-l*f;if(!(p*p<epsilon$1))return p=(l*(d-h)-m*(b-g))/p,[b+p*e,d+p*f]}
function cornerTangents(b,d,e,f,g,h,l){var m=b-e,p=d-f;l=(l?h:-h)/sqrt(m*m+p*p);p*=l;m*=-l;var n=b+p,q=d+m,r=e+p,t=f+m;e=(n+r)/2;f=(q+t)/2;d=r-n;b=t-q;l=d*d+b*b;h=g-h;t=n*t-r*q;var v=(0>b?-1:1)*sqrt(max$1(0,h*h*l-t*t));n=(t*b-d*v)/l;q=(-t*d-b*v)/l;r=(t*b+d*v)/l;d=(-t*d+b*v)/l;b=n-e;l=q-f;e=r-e;f=d-f;b*b+l*l>e*e+f*f&&(n=r,q=d);return{cx:n,cy:q,x01:-p,y01:-m,x11:n*(g/h-1),y11:q*(g/h-1)}}
function arc(){function b(){var b,q=+d.apply(this,arguments),r=+e.apply(this,arguments),t=h.apply(this,arguments)-halfPi,v=l.apply(this,arguments)-halfPi,u=abs(v-t),w=v>t;p||(p=b=path());if(r<q){var J=r;r=q;q=J}if(r>epsilon$1)if(u>tau-epsilon$1)p.moveTo(r*cos(t),r*sin(t)),p.arc(0,0,r,t,v,!w),q>epsilon$1&&(p.moveTo(q*cos(v),q*sin(v)),p.arc(0,0,q,v,t,w));else{var H=t,z=v;J=t;var I=v,O=u,N=u,L=m.apply(this,arguments)/2,F=L>epsilon$1&&(g?+g.apply(this,arguments):sqrt(q*q+r*r)),G=min$1(abs(r-q)/2,+f.apply(this,
arguments)),U=G,R=G;if(F>epsilon$1){var W=asin(F/q*sin(L));L=asin(F/r*sin(L));(O-=2*W)>epsilon$1?(W*=w?1:-1,J+=W,I-=W):(O=0,J=I=(t+v)/2);(N-=2*L)>epsilon$1?(L*=w?1:-1,H+=L,z-=L):(N=0,H=z=(t+v)/2)}t=r*cos(H);v=r*sin(H);W=q*cos(I);L=q*sin(I);if(G>epsilon$1){var T=r*cos(z),ea=r*sin(z),Q=q*cos(J),P=q*sin(J),S;u<pi&&(S=intersect$1(t,v,Q,P,T,ea,W,L))&&(U=t-S[0],R=v-S[1],u=T-S[0],F=ea-S[1],R=1/sin(acos((U*u+R*F)/(sqrt(U*U+R*R)*sqrt(u*u+F*F)))/2),S=sqrt(S[0]*S[0]+S[1]*S[1]),U=min$1(G,(q-S)/(R-1)),R=min$1(G,
(r-S)/(R+1)))}N>epsilon$1?R>epsilon$1?(H=cornerTangents(Q,P,t,v,r,R,w),z=cornerTangents(T,ea,W,L,r,R,w),p.moveTo(H.cx+H.x01,H.cy+H.y01),R<G?p.arc(H.cx,H.cy,R,atan2(H.y01,H.x01),atan2(z.y01,z.x01),!w):(p.arc(H.cx,H.cy,R,atan2(H.y01,H.x01),atan2(H.y11,H.x11),!w),p.arc(0,0,r,atan2(H.cy+H.y11,H.cx+H.x11),atan2(z.cy+z.y11,z.cx+z.x11),!w),p.arc(z.cx,z.cy,R,atan2(z.y11,z.x11),atan2(z.y01,z.x01),!w))):(p.moveTo(t,v),p.arc(0,0,r,H,z,!w)):p.moveTo(t,v);q>epsilon$1&&O>epsilon$1?U>epsilon$1?(H=cornerTangents(W,
L,T,ea,q,-U,w),z=cornerTangents(t,v,Q,P,q,-U,w),p.lineTo(H.cx+H.x01,H.cy+H.y01),U<G?p.arc(H.cx,H.cy,U,atan2(H.y01,H.x01),atan2(z.y01,z.x01),!w):(p.arc(H.cx,H.cy,U,atan2(H.y01,H.x01),atan2(H.y11,H.x11),!w),p.arc(0,0,q,atan2(H.cy+H.y11,H.cx+H.x11),atan2(z.cy+z.y11,z.cx+z.x11),w),p.arc(z.cx,z.cy,U,atan2(z.y11,z.x11),atan2(z.y01,z.x01),!w))):p.arc(0,0,q,I,J,w):p.lineTo(W,L)}else p.moveTo(0,0);p.closePath();if(b)return p=null,b+""||null}var d=arcInnerRadius,e=arcOuterRadius,f=constant$3(0),g=null,h=arcStartAngle,
l=arcEndAngle,m=arcPadAngle,p=null;b.centroid=function(){var b=(+d.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+h.apply(this,arguments)+ +l.apply(this,arguments))/2-pi/2;return[cos(f)*b,sin(f)*b]};b.innerRadius=function(e){return arguments.length?(d="function"===typeof e?e:constant$3(+e),b):d};b.outerRadius=function(d){return arguments.length?(e="function"===typeof d?d:constant$3(+d),b):e};b.cornerRadius=function(d){return arguments.length?(f="function"===typeof d?d:constant$3(+d),b):f};
b.padRadius=function(d){return arguments.length?(g=null==d?null:"function"===typeof d?d:constant$3(+d),b):g};b.startAngle=function(d){return arguments.length?(h="function"===typeof d?d:constant$3(+d),b):h};b.endAngle=function(d){return arguments.length?(l="function"===typeof d?d:constant$3(+d),b):l};b.padAngle=function(d){return arguments.length?(m="function"===typeof d?d:constant$3(+d),b):m};b.context=function(d){return arguments.length?(p=null==d?null:d,b):p};return b}
function Linear(b){this._context=b}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,d){b=+b;d=+d;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,d):this._context.moveTo(b,d);break;case 1:this._point=2;default:this._context.lineTo(b,d)}}};
function curveLinear(b){return new Linear(b)}function x$1(b){return b[0]}function y$1(b){return b[1]}
function line(){function b(b){var m,n=b.length,q,r=!1,t;null==g&&(l=h(t=path()));for(m=0;m<=n;++m)!(m<n&&f(q=b[m],m,b))===r&&((r=!r)?l.lineStart():l.lineEnd()),r&&l.point(+d(q,m,b),+e(q,m,b));if(t)return l=null,t+""||null}var d=x$1,e=y$1,f=constant$3(!0),g=null,h=curveLinear,l=null;b.x=function(e){return arguments.length?(d="function"===typeof e?e:constant$3(+e),b):d};b.y=function(d){return arguments.length?(e="function"===typeof d?d:constant$3(+d),b):e};b.defined=function(d){return arguments.length?
(f="function"===typeof d?d:constant$3(!!d),b):f};b.curve=function(d){return arguments.length?(h=d,null!=g&&(l=h(g)),b):h};b.context=function(d){return arguments.length?(null==d?g=l=null:l=h(g=d),b):g};return b}
function area(){function b(b){var d,q,v=b.length,u,w=!1,J,H=Array(v),z=Array(v);null==m&&(n=p(J=path()));for(d=0;d<=v;++d){if(!(d<v&&l(u=b[d],d,b))===w)if(w=!w){var I=d;n.areaStart();n.lineStart()}else{n.lineEnd();n.lineStart();for(q=d-1;q>=I;--q)n.point(H[q],z[q]);n.lineEnd();n.areaEnd()}w&&(H[d]=+e(u,d,b),z[d]=+g(u,d,b),n.point(f?+f(u,d,b):H[d],h?+h(u,d,b):z[d]))}if(J)return n=null,J+""||null}function d(){return line().defined(l).curve(p).context(m)}var e=x$1,f=null,g=constant$3(0),h=y$1,l=constant$3(!0),
m=null,p=curveLinear,n=null;b.x=function(d){return arguments.length?(e="function"===typeof d?d:constant$3(+d),f=null,b):e};b.x0=function(d){return arguments.length?(e="function"===typeof d?d:constant$3(+d),b):e};b.x1=function(d){return arguments.length?(f=null==d?null:"function"===typeof d?d:constant$3(+d),b):f};b.y=function(d){return arguments.length?(g="function"===typeof d?d:constant$3(+d),h=null,b):g};b.y0=function(d){return arguments.length?(g="function"===typeof d?d:constant$3(+d),b):g};b.y1=
function(d){return arguments.length?(h=null==d?null:"function"===typeof d?d:constant$3(+d),b):h};b.lineX0=b.lineY0=function(){return d().x(e).y(g)};b.lineY1=function(){return d().x(e).y(h)};b.lineX1=function(){return d().x(f).y(g)};b.defined=function(d){return arguments.length?(l="function"===typeof d?d:constant$3(!!d),b):l};b.curve=function(d){return arguments.length?(p=d,null!=m&&(n=p(m)),b):p};b.context=function(d){return arguments.length?(null==d?m=n=null:n=p(m=d),b):m};return b}
function descending$1(b,d){return d<b?-1:d>b?1:d>=b?0:NaN}function identity$2(b){return b}
function pie(){function b(b){var m,n=b.length;var q=0;var r=Array(n),t=Array(n),v=+g.apply(this,arguments);var u=Math.min(tau,Math.max(-tau,h.apply(this,arguments)-v));var w=Math.min(Math.abs(u)/n,l.apply(this,arguments)),J=w*(0>u?-1:1),H;for(m=0;m<n;++m)0<(H=t[r[m]=m]=+d(b[m],m,b))&&(q+=H);null!=e?r.sort(function(b,d){return e(t[b],t[d])}):null!=f&&r.sort(function(d,e){return f(b[d],b[e])});m=0;for(u=q?(u-n*J)/q:0;m<n;++m,v=z){q=r[m];H=t[q];var z=v+(0<H?H*u:0)+J;t[q]={data:b[q],index:m,value:H,startAngle:v,
endAngle:z,padAngle:w}}return t}var d=identity$2,e=descending$1,f=null,g=constant$3(0),h=constant$3(tau),l=constant$3(0);b.value=function(e){return arguments.length?(d="function"===typeof e?e:constant$3(+e),b):d};b.sortValues=function(d){return arguments.length?(e=d,f=null,b):e};b.sort=function(d){return arguments.length?(f=d,e=null,b):f};b.startAngle=function(d){return arguments.length?(g="function"===typeof d?d:constant$3(+d),b):g};b.endAngle=function(d){return arguments.length?(h="function"===
typeof d?d:constant$3(+d),b):h};b.padAngle=function(d){return arguments.length?(l="function"===typeof d?d:constant$3(+d),b):l};return b}var curveRadialLinear=curveRadial$1(curveLinear);function Radial(b){this._curve=b}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(b,d){this._curve.point(d*Math.sin(b),d*-Math.cos(b))}};
function curveRadial$1(b){function d(d){return new Radial(b(d))}d._curve=b;return d}function lineRadial(b){var d=b.curve;b.angle=b.x;delete b.x;b.radius=b.y;delete b.y;b.curve=function(b){return arguments.length?d(curveRadial$1(b)):d()._curve};return b}function lineRadial$1(){return lineRadial(line().curve(curveRadialLinear))}
function areaRadial(){var b=area().curve(curveRadialLinear),d=b.curve,e=b.lineX0,f=b.lineX1,g=b.lineY0,h=b.lineY1;b.angle=b.x;delete b.x;b.startAngle=b.x0;delete b.x0;b.endAngle=b.x1;delete b.x1;b.radius=b.y;delete b.y;b.innerRadius=b.y0;delete b.y0;b.outerRadius=b.y1;delete b.y1;b.lineStartAngle=function(){return lineRadial(e())};delete b.lineX0;b.lineEndAngle=function(){return lineRadial(f())};delete b.lineX1;b.lineInnerRadius=function(){return lineRadial(g())};delete b.lineY0;b.lineOuterRadius=
function(){return lineRadial(h())};delete b.lineY1;b.curve=function(b){return arguments.length?d(curveRadial$1(b)):d()._curve};return b}function pointRadial(b,d){return[(d=+d)*Math.cos(b-=Math.PI/2),d*Math.sin(b)]}var slice=Array.prototype.slice;function linkSource(b){return b.source}function linkTarget(b){return b.target}
function link(b){function d(){var d,p=slice.call(arguments),n=e.apply(this,p),q=f.apply(this,p);l||(l=d=path());b(l,+g.apply(this,(p[0]=n,p)),+h.apply(this,p),+g.apply(this,(p[0]=q,p)),+h.apply(this,p));if(d)return l=null,d+""||null}var e=linkSource,f=linkTarget,g=x$1,h=y$1,l=null;d.source=function(b){return arguments.length?(e=b,d):e};d.target=function(b){return arguments.length?(f=b,d):f};d.x=function(b){return arguments.length?(g="function"===typeof b?b:constant$3(+b),d):g};d.y=function(b){return arguments.length?
(h="function"===typeof b?b:constant$3(+b),d):h};d.context=function(b){return arguments.length?(l=null==b?null:b,d):l};return d}function curveHorizontal(b,d,e,f,g){b.moveTo(d,e);b.bezierCurveTo(d=(d+f)/2,e,d,g,f,g)}function curveVertical(b,d,e,f,g){b.moveTo(d,e);b.bezierCurveTo(d,e=(e+g)/2,f,e,f,g)}function curveRadial(b,d,e,f,g){var h=pointRadial(d,e);d=pointRadial(d,e=(e+g)/2);e=pointRadial(f,e);f=pointRadial(f,g);b.moveTo(h[0],h[1]);b.bezierCurveTo(d[0],d[1],e[0],e[1],f[0],f[1])}
function linkHorizontal(){return link(curveHorizontal)}function linkVertical(){return link(curveVertical)}function linkRadial(){var b=link(curveRadial);b.angle=b.x;delete b.x;b.radius=b.y;delete b.y;return b}
var circle$1={draw:function(b,d){d=Math.sqrt(d/pi);b.moveTo(d,0);b.arc(0,0,d,0,tau)}},cross={draw:function(b,d){d=Math.sqrt(d/5)/2;b.moveTo(-3*d,-d);b.lineTo(-d,-d);b.lineTo(-d,-3*d);b.lineTo(d,-3*d);b.lineTo(d,-d);b.lineTo(3*d,-d);b.lineTo(3*d,d);b.lineTo(d,d);b.lineTo(d,3*d);b.lineTo(-d,3*d);b.lineTo(-d,d);b.lineTo(-3*d,d);b.closePath()}},tan30=Math.sqrt(1/3),tan30_2=2*tan30,diamond$1={draw:function(b,d){d=Math.sqrt(d/tan30_2);var e=d*tan30;b.moveTo(0,-d);b.lineTo(e,0);b.lineTo(0,d);b.lineTo(-e,
0);b.closePath()}},ka=.8908130915292852,kr=Math.sin(pi/10)/Math.sin(7*pi/10),kx=Math.sin(tau/10)*kr,ky=-Math.cos(tau/10)*kr,star={draw:function(b,d){d=Math.sqrt(d*ka);var e=kx*d,f=ky*d;b.moveTo(0,-d);b.lineTo(e,f);for(var g=1;5>g;++g){var h=tau*g/5,l=Math.cos(h);h=Math.sin(h);b.lineTo(h*d,-l*d);b.lineTo(l*e-h*f,h*e+l*f)}b.closePath()}},square={draw:function(b,d){d=Math.sqrt(d);var e=-d/2;b.rect(e,e,d,d)}},sqrt3=Math.sqrt(3),triangle={draw:function(b,d){d=-Math.sqrt(d/(3*sqrt3));b.moveTo(0,2*d);b.lineTo(-sqrt3*
d,-d);b.lineTo(sqrt3*d,-d);b.closePath()}},c=-.5,s=Math.sqrt(3)/2,k=1/Math.sqrt(12),a=3*(k/2+1),wye={draw:function(b,d){var e=Math.sqrt(d/a);d=e/2;var f=e*k;e=e*k+e;var g=-d;b.moveTo(d,f);b.lineTo(d,e);b.lineTo(g,e);b.lineTo(c*d-s*f,s*d+c*f);b.lineTo(c*d-s*e,s*d+c*e);b.lineTo(c*g-s*e,s*g+c*e);b.lineTo(c*d+s*f,c*f-s*d);b.lineTo(c*d+s*e,c*e-s*d);b.lineTo(c*g+s*e,c*e-s*g);b.closePath()}},symbols=[circle$1,cross,diamond$1,square,star,triangle,wye];
function symbol(){function b(){var b;f||(f=b=path());d.apply(this,arguments).draw(f,+e.apply(this,arguments));if(b)return f=null,b+""||null}var d=constant$3(circle$1),e=constant$3(64),f=null;b.type=function(e){return arguments.length?(d="function"===typeof e?e:constant$3(e),b):d};b.size=function(d){return arguments.length?(e="function"===typeof d?d:constant$3(+d),b):e};b.context=function(d){return arguments.length?(f=null==d?null:d,b):f};return b}function noop$1(){}
function point$3(b,d,e){b._context.bezierCurveTo((2*b._x0+b._x1)/3,(2*b._y0+b._y1)/3,(b._x0+2*b._x1)/3,(b._y0+2*b._y1)/3,(b._x0+4*b._x1+d)/6,(b._y0+4*b._y1+e)/6)}function Basis(b){this._context=b}
Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,d){b=+b;d=+d;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,d):this._context.moveTo(b,
d);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,b,d)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=d}};function basis(b){return new Basis(b)}function BasisClosed(b){this._context=b}
BasisClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,
this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(b,d){b=+b;d=+d;switch(this._point){case 0:this._point=1;this._x2=b;this._y2=d;break;case 1:this._point=2;this._x3=b;this._y3=d;break;case 2:this._point=3;this._x4=b;this._y4=d;this._context.moveTo((this._x0+4*this._x1+b)/6,(this._y0+4*this._y1+d)/6);break;default:point$3(this,b,d)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=d}};function basisClosed(b){return new BasisClosed(b)}
function BasisOpen(b){this._context=b}
BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,d){b=+b;d=+d;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+b)/6,f=(this._y0+4*this._y1+d)/6;this._line?this._context.lineTo(e,
f):this._context.moveTo(e,f);break;case 3:this._point=4;default:point$3(this,b,d)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=d}};function basisOpen(b){return new BasisOpen(b)}function Bundle(b,d){this._basis=new Basis(b);this._beta=d}
Bundle.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var b=this._x,d=this._y,e=b.length-1;if(0<e)for(var f=b[0],g=d[0],h=b[e]-f,l=d[e]-g,m=-1,p;++m<=e;)p=m/e,this._basis.point(this._beta*b[m]+(1-this._beta)*(f+p*h),this._beta*d[m]+(1-this._beta)*(g+p*l));this._x=this._y=null;this._basis.lineEnd()},point:function(b,d){this._x.push(+b);this._y.push(+d)}};
var bundle=function custom(b){function e(e){return 1===b?new Basis(e):new Bundle(e,b)}e.beta=function(b){return custom(+b)};return e}(.85);function point$2(b,d,e){b._context.bezierCurveTo(b._x1+b._k*(b._x2-b._x0),b._y1+b._k*(b._y2-b._y0),b._x2+b._k*(b._x1-d),b._y2+b._k*(b._y1-e),b._x2,b._y2)}function Cardinal(b,d){this._context=b;this._k=(1-d)/6}
Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,d){b=+b;d=+d;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,
d):this._context.moveTo(b,d);break;case 1:this._point=2;this._x1=b;this._y1=d;break;case 2:this._point=3;default:point$2(this,b,d)}this._x0=this._x1;this._x1=this._x2;this._x2=b;this._y0=this._y1;this._y1=this._y2;this._y2=d}};var cardinal=function custom(b){function e(e){return new Cardinal(e,b)}e.tension=function(b){return custom(+b)};return e}(0);function CardinalClosed(b,d){this._context=b;this._k=(1-d)/6}
CardinalClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},
point:function(b,d){b=+b;d=+d;switch(this._point){case 0:this._point=1;this._x3=b;this._y3=d;break;case 1:this._point=2;this._context.moveTo(this._x4=b,this._y4=d);break;case 2:this._point=3;this._x5=b;this._y5=d;break;default:point$2(this,b,d)}this._x0=this._x1;this._x1=this._x2;this._x2=b;this._y0=this._y1;this._y1=this._y2;this._y2=d}};var cardinalClosed=function custom(b){function e(e){return new CardinalClosed(e,b)}e.tension=function(b){return custom(+b)};return e}(0);
function CardinalOpen(b,d){this._context=b;this._k=(1-d)/6}
CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,d){b=+b;d=+d;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,
this._y2);break;case 3:this._point=4;default:point$2(this,b,d)}this._x0=this._x1;this._x1=this._x2;this._x2=b;this._y0=this._y1;this._y1=this._y2;this._y2=d}};var cardinalOpen=function custom(b){function e(e){return new CardinalOpen(e,b)}e.tension=function(b){return custom(+b)};return e}(0);
function point$1(b,d,e){var f=b._x1,g=b._y1,h=b._x2,l=b._y2;if(b._l01_a>epsilon$1){var m=2*b._l01_2a+3*b._l01_a*b._l12_a+b._l12_2a,p=3*b._l01_a*(b._l01_a+b._l12_a);f=(f*m-b._x0*b._l12_2a+b._x2*b._l01_2a)/p;g=(g*m-b._y0*b._l12_2a+b._y2*b._l01_2a)/p}b._l23_a>epsilon$1&&(m=2*b._l23_2a+3*b._l23_a*b._l12_a+b._l12_2a,p=3*b._l23_a*(b._l23_a+b._l12_a),h=(h*m+b._x1*b._l23_2a-d*b._l12_2a)/p,l=(l*m+b._y1*b._l23_2a-e*b._l12_2a)/p);b._context.bezierCurveTo(f,g,h,l,b._x2,b._y2)}
function CatmullRom(b,d){this._context=b;this._alpha=d}
CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,
d){b=+b;d=+d;if(this._point){var e=this._x2-b,f=this._y2-d;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+f*f,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,d):this._context.moveTo(b,d);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,b,d)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=b;this._y0=this._y1;this._y1=this._y2;this._y2=
d}};var catmullRom=function custom(b){function e(e){return b?new CatmullRom(e,b):new Cardinal(e,0)}e.alpha=function(b){return custom(+b)};return e}(.5);function CatmullRomClosed(b,d){this._context=b;this._alpha=d}
CatmullRomClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,
this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(b,d){b=+b;d=+d;if(this._point){var e=this._x2-b,f=this._y2-d;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+f*f,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=b;this._y3=d;break;case 1:this._point=2;this._context.moveTo(this._x4=b,this._y4=d);break;case 2:this._point=3;this._x5=b;this._y5=d;break;default:point$1(this,b,d)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;
this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=b;this._y0=this._y1;this._y1=this._y2;this._y2=d}};var catmullRomClosed=function custom(b){function e(e){return b?new CatmullRomClosed(e,b):new CardinalClosed(e,0)}e.alpha=function(b){return custom(+b)};return e}(.5);function CatmullRomOpen(b,d){this._context=b;this._alpha=d}
CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,d){b=+b;d=+d;if(this._point){var e=this._x2-b,f=this._y2-d;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*
e+f*f,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,b,d)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=b;this._y0=this._y1;this._y1=this._y2;this._y2=d}};
var catmullRomOpen=function custom(b){function e(e){return b?new CatmullRomOpen(e,b):new CardinalOpen(e,0)}e.alpha=function(b){return custom(+b)};return e}(.5);function LinearClosed(b){this._context=b}LinearClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(b,d){b=+b;d=+d;this._point?this._context.lineTo(b,d):(this._point=1,this._context.moveTo(b,d))}};
function linearClosed(b){return new LinearClosed(b)}function sign(b){return 0>b?-1:1}function slope3(b,d,e){var f=b._x1-b._x0,g=d-b._x1;d=(b._y1-b._y0)/(f||0>g&&-0);b=(e-b._y1)/(g||0>f&&-0);f=(d*g+b*f)/(f+g);return(sign(d)+sign(b))*Math.min(Math.abs(d),Math.abs(b),.5*Math.abs(f))||0}function slope2(b,d){var e=b._x1-b._x0;return e?(3*(b._y1-b._y0)/e-d)/2:d}function point(b,d,e){var f=b._x0,g=b._x1,h=b._y1,l=(g-f)/3;b._context.bezierCurveTo(f+l,b._y0+l*d,g-l,h-l*e,g,h)}
function MonotoneX(b){this._context=b}
MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,d){var e=NaN;b=+b;d=+d;if(b!==this._x1||d!==this._y1){switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(b,d):this._context.moveTo(b,d);break;case 1:this._point=2;break;case 2:this._point=3;point(this,slope2(this,e=slope3(this,b,d)),e);break;default:point(this,this._t0,e=slope3(this,b,d))}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=d;this._t0=e}}};function MonotoneY(b){this._context=new ReflectContext(b)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(b,d){MonotoneX.prototype.point.call(this,d,b)};
function ReflectContext(b){this._context=b}ReflectContext.prototype={moveTo:function(b,d){this._context.moveTo(d,b)},closePath:function(){this._context.closePath()},lineTo:function(b,d){this._context.lineTo(d,b)},bezierCurveTo:function(b,d,e,f,g,h){this._context.bezierCurveTo(d,b,f,e,h,g)}};function monotoneX(b){return new MonotoneX(b)}function monotoneY(b){return new MonotoneY(b)}function Natural(b){this._context=b}
Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var b=this._x,d=this._y,e=b.length;if(e)if(this._line?this._context.lineTo(b[0],d[0]):this._context.moveTo(b[0],d[0]),2===e)this._context.lineTo(b[1],d[1]);else for(var f=controlPoints(b),g=controlPoints(d),h=0,l=1;l<e;++h,++l)this._context.bezierCurveTo(f[0][h],g[0][h],f[1][h],g[1][h],b[l],d[l]);(this._line||0!==this._line&&1===e)&&this._context.closePath();
this._line=1-this._line;this._x=this._y=null},point:function(b,d){this._x.push(+b);this._y.push(+d)}};function controlPoints(b){var d,e=b.length-1,f=Array(e),g=Array(e),h=Array(e);f[0]=0;g[0]=2;h[0]=b[0]+2*b[1];for(d=1;d<e-1;++d)f[d]=1,g[d]=4,h[d]=4*b[d]+2*b[d+1];f[e-1]=2;g[e-1]=7;h[e-1]=8*b[e-1]+b[e];for(d=1;d<e;++d){var l=f[d]/g[d-1];g[d]-=l;h[d]-=l*h[d-1]}f[e-1]=h[e-1]/g[e-1];for(d=e-2;0<=d;--d)f[d]=(h[d]-f[d+1])/g[d];g[e-1]=(b[e]+f[e-1])/2;for(d=0;d<e-1;++d)g[d]=2*b[d+1]-f[d+1];return[f,g]}
function natural(b){return new Natural(b)}function Step(b,d){this._context=b;this._t=d}
Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(b,d){b=+b;d=+d;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,d):this._context.moveTo(b,
d);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,d),this._context.lineTo(b,d);else{var e=this._x*(1-this._t)+b*this._t;this._context.lineTo(e,this._y);this._context.lineTo(e,d)}}this._x=b;this._y=d}};function step(b){return new Step(b,.5)}function stepBefore(b){return new Step(b,0)}function stepAfter(b){return new Step(b,1)}
function none$1(b,d){if(1<(l=b.length))for(var e=1,f,g,h=b[d[0]],l,m=h.length;e<l;++e)for(g=h,h=b[d[e]],f=0;f<m;++f)h[f][1]+=h[f][0]=isNaN(g[f][1])?g[f][0]:g[f][1]}function none(b){b=b.length;for(var d=Array(b);0<=--b;)d[b]=b;return d}function stackValue(b,d){return b[d]}
function stack(){function b(b){var h=d.apply(this,arguments),m,p=b.length,n=h.length,q=Array(n);for(m=0;m<n;++m){for(var r=h[m],t=q[m]=Array(p),v=0,u;v<p;++v)t[v]=u=[0,+g(b[v],r,v,b)],u.data=b[v];t.key=r}m=0;for(h=e(q);m<n;++m)q[h[m]].index=m;f(q,h);return q}var d=constant$3([]),e=none,f=none$1,g=stackValue;b.keys=function(e){return arguments.length?(d="function"===typeof e?e:constant$3(slice.call(e)),b):d};b.value=function(d){return arguments.length?(g="function"===typeof d?d:constant$3(+d),b):g};
b.order=function(d){return arguments.length?(e=null==d?none:"function"===typeof d?d:constant$3(slice.call(d)),b):e};b.offset=function(d){return arguments.length?(f=null==d?none$1:d,b):f};return b}function expand(b,d){if(0<(f=b.length)){for(var e,f,g=0,h=b[0].length,l;g<h;++g){for(l=e=0;e<f;++e)l+=b[e][g][1]||0;if(l)for(e=0;e<f;++e)b[e][g][1]/=l}none$1(b,d)}}
function diverging(b,d){if(0<(p=b.length))for(var e,f=0,g,h,l,m,p,n=b[d[0]].length;f<n;++f)for(e=l=m=0;e<p;++e)0<(h=(g=b[d[e]][f])[1]-g[0])?(g[0]=l,g[1]=l+=h):0>h?(g[1]=m,g[0]=m+=h):(g[0]=0,g[1]=h)}function silhouette(b,d){if(0<(g=b.length)){for(var e=0,f=b[d[0]],g,h=f.length;e<h;++e){for(var l=0,m=0;l<g;++l)m+=b[l][e][1]||0;f[e][1]+=f[e][0]=-m/2}none$1(b,d)}}
function wiggle(b,d){if(0<(l=b.length)&&0<(h=(g=b[d[0]]).length)){for(var e=0,f=1,g,h,l;f<h;++f){for(var m=0,p=0,n=0;m<l;++m){var q=b[d[m]],r=q[f][1]||0;q=(r-(q[f-1][1]||0))/2;for(var t=0;t<m;++t){var v=b[d[t]];q+=(v[f][1]||0)-(v[f-1][1]||0)}p+=r;n+=q*r}g[f-1][1]+=g[f-1][0]=e;p&&(e-=n/p)}g[f-1][1]+=g[f-1][0]=e;none$1(b,d)}}function appearance(b){var d=b.map(peak);return none(b).sort(function(b,f){return d[b]-d[f]})}
function peak(b){for(var d=-1,e=0,f=b.length,g,h=-Infinity;++d<f;)(g=+b[d][1])>h&&(h=g,e=d);return e}function ascending(b){var d=b.map(sum);return none(b).sort(function(b,f){return d[b]-d[f]})}function sum(b){for(var d=0,e=-1,f=b.length,g;++e<f;)if(g=+b[e][1])d+=g;return d}function descending(b){return ascending(b).reverse()}
function insideOut(b){var d=b.length,e=b.map(sum),f=appearance(b),g=0,h=0,l=[],m=[];for(b=0;b<d;++b){var p=f[b];g<h?(g+=e[p],l.push(p)):(h+=e[p],m.push(p))}return m.reverse().concat(l)}function reverse(b){return none(b).reverse()}function constant$2(b){return function(){return b}}function x(b){return b[0]}function y(b){return b[1]}function RedBlackTree(){this._=null}function RedBlackNode(b){b.U=b.C=b.L=b.R=b.P=b.N=null}
RedBlackTree.prototype={constructor:RedBlackTree,insert:function(b,d){var e;if(b){d.P=b;if(d.N=b.N)b.N.P=d;b.N=d;if(b.R){for(b=b.R;b.L;)b=b.L;b.L=d}else b.R=d;var f=b}else this._?(b=RedBlackFirst(this._),d.P=null,d.N=b,b.P=b.L=d,f=b):(d.P=d.N=null,this._=d,f=null);d.L=d.R=null;d.U=f;d.C=!0;for(b=d;f&&f.C;)d=f.U,f===d.L?(e=d.R)&&e.C?(f.C=e.C=!1,d.C=!0,b=d):(b===f.R&&(RedBlackRotateLeft(this,f),b=f,f=b.U),f.C=!1,d.C=!0,RedBlackRotateRight(this,d)):(e=d.L)&&e.C?(f.C=e.C=!1,d.C=!0,b=d):(b===f.L&&(RedBlackRotateRight(this,
f),b=f,f=b.U),f.C=!1,d.C=!0,RedBlackRotateLeft(this,d)),f=b.U;this._.C=!1},remove:function(b){b.N&&(b.N.P=b.P);b.P&&(b.P.N=b.N);b.N=b.P=null;var d=b.U,e=b.L,f=b.R;var g=e?f?RedBlackFirst(f):e:f;d?d.L===b?d.L=g:d.R=g:this._=g;if(e&&f){var h=g.C;g.C=b.C;g.L=e;e.U=g;g!==f?(d=g.U,g.U=b.U,b=g.R,d.L=b,g.R=f,f.U=g):(g.U=d,d=g,b=g.R)}else h=b.C,b=g;b&&(b.U=d);if(!h)if(b&&b.C)b.C=!1;else{do{if(b===this._)break;if(b===d.L){if(b=d.R,b.C&&(b.C=!1,d.C=!0,RedBlackRotateLeft(this,d),b=d.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&
b.R.C||(b.L.C=!1,b.C=!0,RedBlackRotateRight(this,b),b=d.R);b.C=d.C;d.C=b.R.C=!1;RedBlackRotateLeft(this,d);b=this._;break}}else if(b=d.L,b.C&&(b.C=!1,d.C=!0,RedBlackRotateRight(this,d),b=d.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,RedBlackRotateLeft(this,b),b=d.L);b.C=d.C;d.C=b.L.C=!1;RedBlackRotateRight(this,d);b=this._;break}b.C=!0;b=d;d=d.U}while(!b.C);b&&(b.C=!1)}}};
function RedBlackRotateLeft(b,d){var e=d.R,f=d.U;f?f.L===d?f.L=e:f.R=e:b._=e;e.U=f;d.U=e;d.R=e.L;d.R&&(d.R.U=d);e.L=d}function RedBlackRotateRight(b,d){var e=d.L,f=d.U;f?f.L===d?f.L=e:f.R=e:b._=e;e.U=f;d.U=e;d.L=e.R;d.L&&(d.L.U=d);e.R=d}function RedBlackFirst(b){for(;b.L;)b=b.L;return b}function createEdge(b,d,e,f){var g=[null,null],h=edges.push(g)-1;g.left=b;g.right=d;e&&setEdgeEnd(g,b,d,e);f&&setEdgeEnd(g,d,b,f);cells[b.index].halfedges.push(h);cells[d.index].halfedges.push(h);return g}
function createBorderEdge(b,d,e){d=[d,e];d.left=b;return d}function setEdgeEnd(b,d,e,f){b[0]||b[1]?b.left===e?b[1]=f:b[0]=f:(b[0]=f,b.left=d,b.right=e)}
function clipEdge(b,d,e,f,g){var h=b[0],l=b[1],m=h[0];h=h[1];var p=0,n=1,q=l[0]-m;l=l[1]-h;d-=m;if(q||!(0<d)){d/=q;if(0>q){if(d<p)return;d<n&&(n=d)}else if(0<q){if(d>n)return;d>p&&(p=d)}d=f-m;if(q||!(0>d)){d/=q;if(0>q){if(d>n)return;d>p&&(p=d)}else if(0<q){if(d<p)return;d<n&&(n=d)}d=e-h;if(l||!(0<d)){d/=l;if(0>l){if(d<p)return;d<n&&(n=d)}else if(0<l){if(d>n)return;d>p&&(p=d)}d=g-h;if(l||!(0>d)){d/=l;if(0>l){if(d>n)return;d>p&&(p=d)}else if(0<l){if(d<p)return;d<n&&(n=d)}if(!(0<p||1>n))return!0;0<p&&
(b[0]=[m+p*q,h+p*l]);1>n&&(b[1]=[m+n*q,h+n*l]);return!0}}}}}
function connectEdge(b,d,e,f,g){var h=b[1];if(h)return!0;var l=b[0],m=b.left,p=b.right;h=m[0];m=m[1];var n=p[0];p=p[1];var q=(h+n)/2;if(p===m){if(q<d||q>=f)return;if(h>n){if(!l)l=[q,e];else if(l[1]>=g)return;h=[q,g]}else{if(!l)l=[q,g];else if(l[1]<e)return;h=[q,e]}}else{var r=(h-n)/(p-m);q=(m+p)/2-r*q;if(-1>r||1<r)if(h>n){if(!l)l=[(e-q)/r,e];else if(l[1]>=g)return;h=[(g-q)/r,g]}else{if(!l)l=[(g-q)/r,g];else if(l[1]<e)return;h=[(e-q)/r,e]}else if(m<p){if(!l)l=[d,r*d+q];else if(l[0]>=f)return;h=[f,
r*f+q]}else{if(!l)l=[f,r*f+q];else if(l[0]<d)return;h=[d,r*d+q]}}b[0]=l;b[1]=h;return!0}function clipEdges(b,d,e,f){for(var g=edges.length,h;g--;)connectEdge(h=edges[g],b,d,e,f)&&clipEdge(h,b,d,e,f)&&(Math.abs(h[0][0]-h[1][0])>epsilon||Math.abs(h[0][1]-h[1][1])>epsilon)||delete edges[g]}function createCell(b){return cells[b.index]={site:b,halfedges:[]}}
function cellHalfedgeAngle(b,d){b=b.site;var e=d.left,f=d.right;b===f&&(f=e,e=b);if(f)return Math.atan2(f[1]-e[1],f[0]-e[0]);b===e?(e=d[1],f=d[0]):(e=d[0],f=d[1]);return Math.atan2(e[0]-f[0],f[1]-e[1])}function cellHalfedgeStart(b,d){return d[+(d.left!==b.site)]}function cellHalfedgeEnd(b,d){return d[+(d.left===b.site)]}
function sortCellHalfedges(){for(var b=0,d=cells.length,e,f,g,h;b<d;++b)if((e=cells[b])&&(h=(f=e.halfedges).length)){var l=Array(h),m=Array(h);for(g=0;g<h;++g)l[g]=g,m[g]=cellHalfedgeAngle(e,edges[f[g]]);l.sort(function(b,d){return m[d]-m[b]});for(g=0;g<h;++g)m[g]=f[l[g]];for(g=0;g<h;++g)f[g]=m[g]}}
function clipCells(b,d,e,f){var g=cells.length,h,l,m,p,n=!0;for(h=0;h<g;++h)if(l=cells[h]){var q=l.site;var r=l.halfedges;for(m=r.length;m--;)edges[r[m]]||r.splice(m,1);m=0;for(p=r.length;m<p;){var t=cellHalfedgeEnd(l,edges[r[m]]);var v=t[0];var u=t[1];var w=cellHalfedgeStart(l,edges[r[++m%p]]);var J=w[0];w=w[1];if(Math.abs(v-J)>epsilon||Math.abs(u-w)>epsilon)r.splice(m,0,edges.push(createBorderEdge(q,t,Math.abs(v-b)<epsilon&&f-u>epsilon?[b,Math.abs(J-b)<epsilon?w:f]:Math.abs(u-f)<epsilon&&e-v>epsilon?
[Math.abs(w-f)<epsilon?J:e,f]:Math.abs(v-e)<epsilon&&u-d>epsilon?[e,Math.abs(J-e)<epsilon?w:d]:Math.abs(u-d)<epsilon&&v-b>epsilon?[Math.abs(w-d)<epsilon?J:b,d]:null))-1),++p}p&&(n=!1)}if(n){m=Infinity;h=0;for(n=null;h<g;++h)if(l=cells[h])q=l.site,r=q[0]-b,p=q[1]-d,r=r*r+p*p,r<m&&(m=r,n=l);n&&(h=[b,d],b=[b,f],f=[e,f],d=[e,d],n.halfedges.push(edges.push(createBorderEdge(q=n.site,h,b))-1,edges.push(createBorderEdge(q,b,f))-1,edges.push(createBorderEdge(q,f,d))-1,edges.push(createBorderEdge(q,d,h))-1))}for(h=
0;h<g;++h)if(l=cells[h])l.halfedges.length||delete cells[h]}var circlePool=[],firstCircle;function Circle(){RedBlackNode(this);this.x=this.y=this.arc=this.site=this.cy=null}
function attachCircle(b){var d=b.P,e=b.N;if(d&&e){var f=d.site;d=b.site;var g=e.site;if(f!==g){e=d[0];var h=d[1],l=f[0]-e,m=f[1]-h;f=g[0]-e;var p=g[1]-h;g=2*(l*p-m*f);if(!(g>=-epsilon2)){var n=l*l+m*m,q=f*f+p*p;m=(p*n-m*q)/g;f=(l*q-f*n)/g;l=circlePool.pop()||new Circle;l.arc=b;l.site=d;l.x=m+e;l.y=(l.cy=f+h)+Math.sqrt(m*m+f*f);b.circle=l;b=null;for(d=circles._;d;)if(l.y<d.y||l.y===d.y&&l.x<=d.x)if(d.L)d=d.L;else{b=d.P;break}else if(d.R)d=d.R;else{b=d;break}circles.insert(b,l);b||(firstCircle=l)}}}}
function detachCircle(b){var d=b.circle;d&&(d.P||(firstCircle=d.N),circles.remove(d),circlePool.push(d),RedBlackNode(d),b.circle=null)}var beachPool=[];function Beach(){RedBlackNode(this);this.edge=this.site=this.circle=null}function createBeach(b){var d=beachPool.pop()||new Beach;d.site=b;return d}function detachBeach(b){detachCircle(b);beaches.remove(b);beachPool.push(b);RedBlackNode(b)}
function removeBeach(b){var d=b.circle,e=d.x,f=d.cy;d=[e,f];var g=b.P,h=b.N,l=[b];detachBeach(b);for(b=g;b.circle&&Math.abs(e-b.circle.x)<epsilon&&Math.abs(f-b.circle.cy)<epsilon;)g=b.P,l.unshift(b),detachBeach(b),b=g;l.unshift(b);detachCircle(b);for(g=h;g.circle&&Math.abs(e-g.circle.x)<epsilon&&Math.abs(f-g.circle.cy)<epsilon;)h=g.N,l.push(g),detachBeach(g),g=h;l.push(g);detachCircle(g);e=l.length;for(f=1;f<e;++f)g=l[f],b=l[f-1],setEdgeEnd(g.edge,b.site,g.site,d);b=l[0];g=l[e-1];g.edge=createEdge(b.site,
g.site,null,d);attachCircle(b);attachCircle(g)}
function addBeach(b){for(var d=b[0],e=b[1],f,g,h,l,m=beaches._;m;)if(h=leftBreakPoint(m,e)-d,h>epsilon)m=m.L;else if(l=d-rightBreakPoint(m,e),l>epsilon){if(!m.R){f=m;break}m=m.R}else{h>-epsilon?(f=m.P,g=m):l>-epsilon?(f=m,g=m.N):f=g=m;break}createCell(b);d=createBeach(b);beaches.insert(f,d);if(f||g)if(f===g)detachCircle(f),g=createBeach(f.site),beaches.insert(d,g),d.edge=g.edge=createEdge(f.site,d.site),attachCircle(f),attachCircle(g);else if(g){detachCircle(f);detachCircle(g);e=f.site;l=e[0];m=e[1];
var p=b[0]-l,n=b[1]-m;h=g.site;var q=h[0]-l,r=h[1]-m,t=2*(p*r-n*q),v=p*p+n*n,u=q*q+r*r;l=[(r*v-n*u)/t+l,(p*u-q*v)/t+m];setEdgeEnd(g.edge,e,h,l);d.edge=createEdge(e,b,null,l);g.edge=createEdge(b,h,null,l);attachCircle(f);attachCircle(g)}else d.edge=createEdge(f.site,d.site)}
function leftBreakPoint(b,d){var e=b.site,f=e[0],g=e[1],h=g-d;if(!h)return f;b=b.P;if(!b)return-Infinity;e=b.site;b=e[0];e=e[1];d=e-d;if(!d)return b;var l=b-f,m=1/h-1/d,p=l/d;return m?(-p+Math.sqrt(p*p-2*m*(l*l/(-2*d)-e+d/2+g-h/2)))/m+f:(f+b)/2}function rightBreakPoint(b,d){var e=b.N;if(e)return leftBreakPoint(e,d);b=b.site;return b[1]===d?b[0]:Infinity}var epsilon=1E-6,epsilon2=1E-12,beaches,cells,circles,edges;function triangleArea(b,d,e){return(b[0]-e[0])*(d[1]-b[1])-(b[0]-d[0])*(e[1]-b[1])}
function lexicographic(b,d){return d[1]-b[1]||d[0]-b[0]}
function Diagram(b,d){var e=b.sort(lexicographic).pop();edges=[];cells=Array(b.length);beaches=new RedBlackTree;for(circles=new RedBlackTree;;){var f=firstCircle;if(e&&(!f||e[1]<f.y||e[1]===f.y&&e[0]<f.x)){if(e[0]!==g||e[1]!==h){addBeach(e);var g=e[0];var h=e[1]}e=b.pop()}else if(f)removeBeach(f.arc);else break}sortCellHalfedges();d&&(b=+d[0][0],e=+d[0][1],g=+d[1][0],d=+d[1][1],clipEdges(b,e,g,d),clipCells(b,e,g,d));this.edges=edges;this.cells=cells;beaches=circles=edges=cells=null}
Diagram.prototype={constructor:Diagram,polygons:function(){var b=this.edges;return this.cells.map(function(d){var e=d.halfedges.map(function(e){return cellHalfedgeStart(d,b[e])});e.data=d.site.data;return e})},triangles:function(){var b=[],d=this.edges;this.cells.forEach(function(e,f){if(l=(g=e.halfedges).length){e=e.site;var g,h=-1,l,m=d[g[l-1]];for(m=m.left===e?m.right:m.left;++h<l;){var p=m;m=d[g[h]];m=m.left===e?m.right:m.left;p&&m&&f<p.index&&f<m.index&&0>triangleArea(e,p,m)&&b.push([e.data,
p.data,m.data])}}});return b},links:function(){return this.edges.filter(function(b){return b.right}).map(function(b){return{source:b.left.data,target:b.right.data}})},find:function(b,d,e){var f=this,g=f._found||0;var h=f.cells.length;for(var l;!(l=f.cells[g]);)if(++g>=h)return null;h=b-l.site[0];var m=d-l.site[1],p=h*h+m*m;do l=f.cells[h=g],g=null,l.halfedges.forEach(function(e){var h=f.edges[e];e=h.left;if(e!==l.site&&e||(e=h.right)){h=b-e[0];var n=d-e[1];h=h*h+n*n;h<p&&(p=h,g=e.index)}});while(null!==
g);f._found=h;return null==e||p<=e*e?l.site:null}};
function voronoi(){function b(b){return new Diagram(b.map(function(f,g){var h=[Math.round(d(f,g,b)/epsilon)*epsilon,Math.round(e(f,g,b)/epsilon)*epsilon];h.index=g;h.data=f;return h}),f)}var d=x,e=y,f=null;b.polygons=function(d){return b(d).polygons()};b.links=function(d){return b(d).links()};b.triangles=function(d){return b(d).triangles()};b.x=function(e){return arguments.length?(d="function"===typeof e?e:constant$2(+e),b):d};b.y=function(d){return arguments.length?(e="function"===typeof d?d:constant$2(+d),
b):e};b.extent=function(d){return arguments.length?(f=null==d?null:[[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]],b):f&&[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]};b.size=function(d){return arguments.length?(f=null==d?null:[[0,0],[+d[0],+d[1]]],b):f&&[f[1][0]-f[0][0],f[1][1]-f[0][1]]};return b}function constant$1(b){return function(){return b}}function ZoomEvent(b,d,e){this.target=b;this.type=d;this.transform=e}function Transform(b,d,e){this.k=b;this.x=d;this.y=e}
Transform.prototype={constructor:Transform,scale:function(b){return 1===b?this:new Transform(this.k*b,this.x,this.y)},translate:function(b,d){return 0===b&0===d?this:new Transform(this.k,this.x+this.k*b,this.y+this.k*d)},apply:function(b){return[b[0]*this.k+this.x,b[1]*this.k+this.y]},applyX:function(b){return b*this.k+this.x},applyY:function(b){return b*this.k+this.y},invert:function(b){return[(b[0]-this.x)/this.k,(b[1]-this.y)/this.k]},invertX:function(b){return(b-this.x)/this.k},invertY:function(b){return(b-
this.y)/this.k},rescaleX:function(b){return b.copy().domain(b.range().map(this.invertX,this).map(b.invert,b))},rescaleY:function(b){return b.copy().domain(b.range().map(this.invertY,this).map(b.invert,b))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$1=new Transform(1,0,0);transform$1.prototype=Transform.prototype;function transform$1(b){for(;!b.__zoom;)if(!(b=b.parentNode))return identity$1;return b.__zoom}
function nopropagation(){event.stopImmediatePropagation()}function noevent(){event.preventDefault();event.stopImmediatePropagation()}function defaultFilter(){return!event.ctrlKey&&!event.button}function defaultExtent(){var b=this;return b instanceof SVGElement?(b=b.ownerSVGElement||b,b.hasAttribute("viewBox")?(b=b.viewBox.baseVal,[[b.x,b.y],[b.x+b.width,b.y+b.height]]):[[0,0],[b.width.baseVal.value,b.height.baseVal.value]]):[[0,0],[b.clientWidth,b.clientHeight]]}
function defaultTransform(){return this.__zoom||identity$1}function defaultWheelDelta(){return-event.deltaY*(1===event.deltaMode?.05:event.deltaMode?1:.002)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(b,d,e){var f=b.invertX(d[0][0])-e[0][0],g=b.invertX(d[1][0])-e[1][0],h=b.invertY(d[0][1])-e[0][1];d=b.invertY(d[1][1])-e[1][1];return b.translate(g>f?(f+g)/2:Math.min(0,f)||Math.max(0,g),d>h?(h+d)/2:Math.min(0,h)||Math.max(0,d))}
function zoom(){function b(b){b.property("__zoom",defaultTransform).on("wheel.zoom",m).on("mousedown.zoom",p).on("dblclick.zoom",n).filter(H).on("touchstart.zoom",q).on("touchmove.zoom",r).on("touchend.zoom touchcancel.zoom",t).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(b,d){d=Math.max(z[0],Math.min(z[1],d));return d===b.k?b:new Transform(d,b.x,b.y)}function e(b,d,e){var f=d[0]-e[0]*b.k;d=d[1]-e[1]*b.k;return f===b.x&&d===b.y?b:new Transform(b.k,f,
d)}function f(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function g(b,d,e){b.on("start.zoom",function(){h(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){h(this,arguments).end()}).tween("zoom",function(){var b=arguments,g=h(this,b),l=u.apply(this,b),n=null==e?f(l):"function"===typeof e?e.apply(this,b):e,m=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]);l=this.__zoom;var p="function"===typeof d?d.apply(this,b):d,q=N(l.invert(n).concat(m/l.k),p.invert(n).concat(m/p.k));return function(b){if(1===
b)b=p;else{b=q(b);var d=m/b[2];b=new Transform(d,n[0]-b[0]*d,n[1]-b[1]*d)}g.zoom(null,b)}})}function h(b,d,e){return!e&&b.__zooming||new l(b,d)}function l(b,d){this.that=b;this.args=d;this.active=0;this.extent=u.apply(b,d);this.taps=0}function m(){if(v.apply(this,arguments)){var b=h(this,arguments),f=this.__zoom,g=Math.max(z[0],Math.min(z[1],f.k*Math.pow(2,J.apply(this,arguments)))),l=mouse(this);if(b.wheel){if(b.mouse[0][0]!==l[0]||b.mouse[0][1]!==l[1])b.mouse[1]=f.invert(b.mouse[0]=l);clearTimeout(b.wheel)}else{if(f.k===
g)return;b.mouse=[l,f.invert(l)];interrupt(this);b.start()}noevent();b.wheel=setTimeout(function(){b.wheel=null;b.end()},150);b.zoom("mouse",w(e(d(f,g),b.mouse[0],b.mouse[1]),b.extent,I))}}function p(){if(!G&&v.apply(this,arguments)){var b=h(this,arguments,!0),d=select(event.view).on("mousemove.zoom",function(){noevent();if(!b.moved){var d=event.clientX-g,f=event.clientY-l;b.moved=d*d+f*f>U}b.zoom("mouse",w(e(b.that.__zoom,b.mouse[0]=mouse(b.that),b.mouse[1]),b.extent,I))},!0).on("mouseup.zoom",function(){d.on("mousemove.zoom mouseup.zoom",
null);yesdrag(event.view,b.moved);noevent();b.end()},!0),f=mouse(this),g=event.clientX,l=event.clientY;dragDisable(event.view);nopropagation();b.mouse=[f,this.__zoom.invert(f)];interrupt(this);b.start()}}function n(){if(v.apply(this,arguments)){var f=this.__zoom,h=mouse(this),l=f.invert(h);f=w(e(d(f,f.k*(event.shiftKey?.5:2)),h,l),u.apply(this,arguments),I);noevent();0<O?select(this).transition().duration(O).call(g,f,h):select(this).call(b.transform,f)}}function q(){if(v.apply(this,arguments)){var b=
event.touches,d=b.length,e=h(this,arguments,event.changedTouches.length===d),f;nopropagation();for(f=0;f<d;++f){var g=b[f];var l=touch(this,b,g.identifier);l=[l,this.__zoom.invert(l),g.identifier];if(e.touch0)e.touch1||e.touch0[2]===l[2]||(e.touch1=l,e.taps=0);else{e.touch0=l;var n=!0;e.taps=1+!!F}}F&&(F=clearTimeout(F));n&&(2>e.taps&&(F=setTimeout(function(){F=null},500)),interrupt(this),e.start())}}function r(){if(this.__zooming){var b=h(this,arguments),f=event.changedTouches,g=f.length,l;noevent();
F&&(F=clearTimeout(F));for(l=b.taps=0;l<g;++l){var n=f[l];var m=touch(this,f,n.identifier);b.touch0&&b.touch0[2]===n.identifier?b.touch0[0]=m:b.touch1&&b.touch1[2]===n.identifier&&(b.touch1[0]=m)}n=b.that.__zoom;if(b.touch1){m=b.touch0[0];f=b.touch0[1];l=b.touch1[0];g=b.touch1[1];var p=(p=l[0]-m[0])*p+(p=l[1]-m[1])*p;var q=(q=g[0]-f[0])*q+(q=g[1]-f[1])*q;n=d(n,Math.sqrt(p/q));m=[(m[0]+l[0])/2,(m[1]+l[1])/2];p=[(f[0]+g[0])/2,(f[1]+g[1])/2]}else if(b.touch0)m=b.touch0[0],p=b.touch0[1];else return;b.zoom("touch",
w(e(n,m,p),b.extent,I))}}function t(){if(this.__zooming){var b=h(this,arguments),d=event.changedTouches,e=d.length,f;nopropagation();G&&clearTimeout(G);G=setTimeout(function(){G=null},500);for(f=0;f<e;++f){var g=d[f];b.touch0&&b.touch0[2]===g.identifier?delete b.touch0:b.touch1&&b.touch1[2]===g.identifier&&delete b.touch1}b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1);b.touch0?b.touch0[1]=this.__zoom.invert(b.touch0[0]):(b.end(),2===b.taps&&(b=select(this).on("dblclick.zoom"))&&b.apply(this,
arguments))}}var v=defaultFilter,u=defaultExtent,w=defaultConstrain,J=defaultWheelDelta,H=defaultTouchable,z=[0,Infinity],I=[[-Infinity,-Infinity],[Infinity,Infinity]],O=250,N=interpolateZoom,L=dispatch("start","zoom","end"),F,G,U=0;b.transform=function(b,d,e){var f=b.selection?b.selection():b;f.property("__zoom",defaultTransform);b!==f?g(b,d,e):f.interrupt().each(function(){h(this,arguments).start().zoom(null,"function"===typeof d?d.apply(this,arguments):d).end()})};b.scaleBy=function(d,e,f){b.scaleTo(d,
function(){var b=this.__zoom.k,d="function"===typeof e?e.apply(this,arguments):e;return b*d},f)};b.scaleTo=function(g,h,l){b.transform(g,function(){var b=u.apply(this,arguments),g=this.__zoom,n=null==l?f(b):"function"===typeof l?l.apply(this,arguments):l,m=g.invert(n),p="function"===typeof h?h.apply(this,arguments):h;return w(e(d(g,p),n,m),b,I)},l)};b.translateBy=function(d,e,f){b.transform(d,function(){return w(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof f?
f.apply(this,arguments):f),u.apply(this,arguments),I)})};b.translateTo=function(d,e,g,h){b.transform(d,function(){var b=u.apply(this,arguments),d=this.__zoom,l=null==h?f(b):"function"===typeof h?h.apply(this,arguments):h;return w(identity$1.translate(l[0],l[1]).scale(d.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof g?-g.apply(this,arguments):-g),b,I)},h)};l.prototype={start:function(){1===++this.active&&(this.that.__zooming=this,this.emit("start"));return this},
zoom:function(b,d){this.mouse&&"mouse"!==b&&(this.mouse[1]=d.invert(this.mouse[0]));this.touch0&&"touch"!==b&&(this.touch0[1]=d.invert(this.touch0[0]));this.touch1&&"touch"!==b&&(this.touch1[1]=d.invert(this.touch1[0]));this.that.__zoom=d;this.emit("zoom");return this},end:function(){0===--this.active&&(delete this.that.__zooming,this.emit("end"));return this},emit:function(d){customEvent(new ZoomEvent(b,d,this.that.__zoom),L.apply,L,[d,this.that,this.args])}};b.wheelDelta=function(d){return arguments.length?
(J="function"===typeof d?d:constant$1(+d),b):J};b.filter=function(d){return arguments.length?(v="function"===typeof d?d:constant$1(!!d),b):v};b.touchable=function(d){return arguments.length?(H="function"===typeof d?d:constant$1(!!d),b):H};b.extent=function(d){return arguments.length?(u="function"===typeof d?d:constant$1([[+d[0][0],+d[0][1]],[+d[1][0],+d[1][1]]]),b):u};b.scaleExtent=function(d){return arguments.length?(z[0]=+d[0],z[1]=+d[1],b):[z[0],z[1]]};b.translateExtent=function(d){return arguments.length?
(I[0][0]=+d[0][0],I[1][0]=+d[1][0],I[0][1]=+d[0][1],I[1][1]=+d[1][1],b):[[I[0][0],I[0][1]],[I[1][0],I[1][1]]]};b.constrain=function(d){return arguments.length?(w=d,b):w};b.duration=function(d){return arguments.length?(O=+d,b):O};b.interpolate=function(d){return arguments.length?(N=d,b):N};b.on=function(){var d=L.on.apply(L,arguments);return d===L?b:d};b.clickDistance=function(d){return arguments.length?(U=(d=+d)*d,b):Math.sqrt(U)};return b}
var d3$1=Object.freeze({__proto__:null,version:version$3,bisect:bisectRight,bisectRight,bisectLeft,ascending:ascending$3,bisector,cross:cross$2,descending:descending$2,deviation,extent:extent$1,histogram,thresholdFreedmanDiaconis:freedmanDiaconis,thresholdScott:scott,thresholdSturges,max:max$3,mean,median,merge:merge$1,min:min$2,pairs,permute,quantile:threshold$1,range:sequence,scan,shuffle:shuffle$1,sum:sum$2,ticks,tickIncrement,tickStep,transpose,variance,zip,axisTop,axisRight,axisBottom,axisLeft,
brush,brushX,brushY,brushSelection,chord,ribbon,nest,set,map:map$3,keys:keys$1,values:values$1,entries,color:color$1,rgb:rgb$2,hsl:hsl$4,lab:lab$1,hcl:hcl$2,lch,gray,cubehelix:cubehelix$3,contours,contourDensity:density,dispatch,drag,dragDisable,dragEnable:yesdrag,dsvFormat,csvParse,csvParseRows,csvFormat,csvFormatBody,csvFormatRows,csvFormatRow,csvFormatValue,tsvParse,tsvParseRows,tsvFormat,tsvFormatBody,tsvFormatRows,tsvFormatRow,tsvFormatValue,autoType,easeLinear:linear$1,easeQuad:quadInOut,easeQuadIn:quadIn,
easeQuadOut:quadOut,easeQuadInOut:quadInOut,easeCubic:cubicInOut,easeCubicIn:cubicIn,easeCubicOut:cubicOut,easeCubicInOut:cubicInOut,easePoly:polyInOut,easePolyIn:polyIn,easePolyOut:polyOut,easePolyInOut:polyInOut,easeSin:sinInOut,easeSinIn:sinIn,easeSinOut:sinOut,easeSinInOut:sinInOut,easeExp:expInOut,easeExpIn:expIn,easeExpOut:expOut,easeExpInOut:expInOut,easeCircle:circleInOut,easeCircleIn:circleIn,easeCircleOut:circleOut,easeCircleInOut:circleInOut,easeBounce:bounceOut,easeBounceIn:bounceIn,easeBounceOut:bounceOut,
easeBounceInOut:bounceInOut,easeBack:backInOut,easeBackIn:backIn,easeBackOut:backOut,easeBackInOut:backInOut,easeElastic:elasticOut,easeElasticIn:elasticIn,easeElasticOut:elasticOut,easeElasticInOut:elasticInOut,blob,buffer,dsv,csv,tsv,image,json:json$1,text,xml,html,svg,forceCenter:center,forceCollide:collide,forceLink:link$2,forceManyBody:manyBody,forceRadial:radial,forceSimulation:simulation,forceX:x$2,forceY:y$2,formatDefaultLocale:defaultLocale$1,get format(){return format},get formatPrefix(){return formatPrefix},
formatLocale:formatLocale$1,formatSpecifier,FormatSpecifier,precisionFixed,precisionPrefix,precisionRound,geoArea:area$2,geoBounds:bounds,geoCentroid:centroid$1,geoCircle:circle$3,geoClipAntimeridian:clipAntimeridian,geoClipCircle:clipCircle,geoClipExtent:extent,geoClipRectangle:clipRectangle,geoContains:contains$1,geoDistance:distance,geoGraticule:graticule,geoGraticule10:graticule10,geoInterpolate:interpolate,geoLength:length$1,geoPath:index$2,geoAlbers:albers,geoAlbersUsa:albersUsa,geoAzimuthalEqualArea:azimuthalEqualArea,
geoAzimuthalEqualAreaRaw:azimuthalEqualAreaRaw,geoAzimuthalEquidistant:azimuthalEquidistant,geoAzimuthalEquidistantRaw:azimuthalEquidistantRaw,geoConicConformal:conicConformal,geoConicConformalRaw:conicConformalRaw,geoConicEqualArea:conicEqualArea,geoConicEqualAreaRaw:conicEqualAreaRaw,geoConicEquidistant:conicEquidistant,geoConicEquidistantRaw:conicEquidistantRaw,geoEqualEarth:equalEarth,geoEqualEarthRaw:equalEarthRaw,geoEquirectangular:equirectangular,geoEquirectangularRaw:equirectangularRaw,geoGnomonic:gnomonic,
geoGnomonicRaw:gnomonicRaw,geoIdentity:identity$5,geoProjection:projection,geoProjectionMutator:projectionMutator,geoMercator:mercator,geoMercatorRaw:mercatorRaw,geoNaturalEarth1:naturalEarth1,geoNaturalEarth1Raw:naturalEarth1Raw,geoOrthographic:orthographic,geoOrthographicRaw:orthographicRaw,geoStereographic:stereographic,geoStereographicRaw:stereographicRaw,geoTransverseMercator:transverseMercator,geoTransverseMercatorRaw:transverseMercatorRaw,geoRotation:rotation,geoStream,geoTransform:transform$2,
cluster,hierarchy,pack:index$1,packSiblings:siblings,packEnclose:enclose,partition:partition$1,stratify,tree,treemap:index,treemapBinary:binary,treemapDice,treemapSlice,treemapSliceDice:sliceDice,treemapSquarify:squarify,treemapResquarify:resquarify,interpolate:interpolateValue,interpolateArray:array$2,interpolateBasis:basis$2,interpolateBasisClosed:basisClosed$1,interpolateDate:date$1,interpolateDiscrete:discrete,interpolateHue:hue$2,interpolateNumber,interpolateNumberArray:numberArray,interpolateObject:object$1,
interpolateRound,interpolateString,interpolateTransformCss,interpolateTransformSvg,interpolateZoom,interpolateRgb,interpolateRgbBasis:rgbBasis,interpolateRgbBasisClosed:rgbBasisClosed,interpolateHsl:hsl$3,interpolateHslLong:hslLong,interpolateLab:lab,interpolateHcl:hcl$1,interpolateHclLong:hclLong,interpolateCubehelix:cubehelix$2,interpolateCubehelixLong:cubehelixLong,piecewise,quantize:quantize$1,path,polygonArea:area$1,polygonCentroid:centroid,polygonHull:hull,polygonContains:contains,polygonLength:length,
quadtree,randomUniform:uniform,randomNormal:normal$1,randomLogNormal:logNormal,randomBates:bates,randomIrwinHall:irwinHall,randomExponential:exponential,scaleBand:band,scalePoint:point$4,scaleIdentity:identity$3,scaleLinear:linear,scaleLog:log,scaleSymlog:symlog,scaleOrdinal:ordinal,scaleImplicit:implicit,scalePow:pow,scaleSqrt:sqrt$1,scaleQuantile:quantile,scaleQuantize:quantize,scaleThreshold:threshold,scaleTime:time$1,scaleUtc:utcTime,scaleSequential:sequential,scaleSequentialLog:sequentialLog,
scaleSequentialPow:sequentialPow,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSequentialQuantile:sequentialQuantile,scaleDiverging:diverging$1,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,tickFormat,schemeCategory10:category10,schemeAccent:Accent,schemeDark2:Dark2,schemePaired:Paired,schemePastel1:Pastel1,schemePastel2:Pastel2,schemeSet1:Set1,schemeSet2:Set2,schemeSet3:Set3,schemeTableau10:Tableau10,
interpolateBrBG:BrBG,schemeBrBG:scheme$q,interpolatePRGn:PRGn,schemePRGn:scheme$p,interpolatePiYG:PiYG,schemePiYG:scheme$o,interpolatePuOr:PuOr,schemePuOr:scheme$n,interpolateRdBu:RdBu,schemeRdBu:scheme$m,interpolateRdGy:RdGy,schemeRdGy:scheme$l,interpolateRdYlBu:RdYlBu,schemeRdYlBu:scheme$k,interpolateRdYlGn:RdYlGn,schemeRdYlGn:scheme$j,interpolateSpectral:Spectral,schemeSpectral:scheme$i,interpolateBuGn:BuGn,schemeBuGn:scheme$h,interpolateBuPu:BuPu,schemeBuPu:scheme$g,interpolateGnBu:GnBu,schemeGnBu:scheme$f,
interpolateOrRd:OrRd,schemeOrRd:scheme$e,interpolatePuBuGn:PuBuGn,schemePuBuGn:scheme$d,interpolatePuBu:PuBu,schemePuBu:scheme$c,interpolatePuRd:PuRd,schemePuRd:scheme$b,interpolateRdPu:RdPu,schemeRdPu:scheme$a,interpolateYlGnBu:YlGnBu,schemeYlGnBu:scheme$9,interpolateYlGn:YlGn,schemeYlGn:scheme$8,interpolateYlOrBr:YlOrBr,schemeYlOrBr:scheme$7,interpolateYlOrRd:YlOrRd,schemeYlOrRd:scheme$6,interpolateBlues:Blues,schemeBlues:scheme$5,interpolateGreens:Greens,schemeGreens:scheme$4,interpolateGreys:Greys,
schemeGreys:scheme$3,interpolatePurples:Purples,schemePurples:scheme$2,interpolateReds:Reds,schemeReds:scheme$1,interpolateOranges:Oranges,schemeOranges:scheme,interpolateCividis:cividis,interpolateCubehelixDefault:cubehelix,interpolateRainbow:rainbow,interpolateWarm:warm,interpolateCool:cool,interpolateSinebow:sinebow,interpolateTurbo:turbo,interpolateViridis:viridis,interpolateMagma:magma,interpolateInferno:inferno,interpolatePlasma:plasma,create:create$1,creator,local:local$1,matcher,mouse,namespace,
namespaces,clientPoint:point$5,select,selectAll,selection,selector,selectorAll,style:styleValue,touch,touches,window:defaultView,get event(){return event},customEvent,arc,area,line,pie,areaRadial,radialArea:areaRadial,lineRadial:lineRadial$1,radialLine:lineRadial$1,pointRadial,linkHorizontal,linkVertical,linkRadial,symbol,symbols,symbolCircle:circle$1,symbolCross:cross,symbolDiamond:diamond$1,symbolSquare:square,symbolStar:star,symbolTriangle:triangle,symbolWye:wye,curveBasisClosed:basisClosed,curveBasisOpen:basisOpen,
curveBasis:basis,curveBundle:bundle,curveCardinalClosed:cardinalClosed,curveCardinalOpen:cardinalOpen,curveCardinal:cardinal,curveCatmullRomClosed:catmullRomClosed,curveCatmullRomOpen:catmullRomOpen,curveCatmullRom:catmullRom,curveLinearClosed:linearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural:natural,curveStep:step,curveStepAfter:stepAfter,curveStepBefore:stepBefore,stack,stackOffsetExpand:expand,stackOffsetDiverging:diverging,stackOffsetNone:none$1,stackOffsetSilhouette:silhouette,
stackOffsetWiggle:wiggle,stackOrderAppearance:appearance,stackOrderAscending:ascending,stackOrderDescending:descending,stackOrderInsideOut:insideOut,stackOrderNone:none,stackOrderReverse:reverse,timeInterval:newInterval,timeMillisecond:millisecond,timeMilliseconds:milliseconds,utcMillisecond:millisecond,utcMilliseconds:milliseconds,timeSecond:second,timeSeconds:seconds,utcSecond:second,utcSeconds:seconds,timeMinute:minute,timeMinutes:minutes,timeHour:hour,timeHours:hours,timeDay:day,timeDays:days,
timeWeek:sunday,timeWeeks:sundays,timeSunday:sunday,timeSundays:sundays,timeMonday:monday,timeMondays:mondays,timeTuesday:tuesday,timeTuesdays:tuesdays,timeWednesday:wednesday,timeWednesdays:wednesdays,timeThursday:thursday,timeThursdays:thursdays,timeFriday:friday,timeFridays:fridays,timeSaturday:saturday,timeSaturdays:saturdays,timeMonth:month,timeMonths:months,timeYear:year,timeYears:years,utcMinute,utcMinutes,utcHour,utcHours,utcDay,utcDays,utcWeek:utcSunday,utcWeeks:utcSundays,utcSunday,utcSundays,
utcMonday,utcMondays,utcTuesday,utcTuesdays,utcWednesday,utcWednesdays,utcThursday,utcThursdays,utcFriday,utcFridays,utcSaturday,utcSaturdays,utcMonth,utcMonths,utcYear,utcYears,timeFormatDefaultLocale:defaultLocale,get timeFormat(){return timeFormat},get timeParse(){return timeParse},get utcFormat(){return utcFormat},get utcParse(){return utcParse},timeFormatLocale:formatLocale,isoFormat:formatIso,isoParse:parseIso,now:now$1,timer,timerFlush,timeout,interval,transition,active,interrupt,voronoi,zoom,
zoomTransform:transform$1,zoomIdentity:identity$1});function listCacheClear(){this.__data__=[];this.size=0}var _listCacheClear=listCacheClear;function eq(b,d){return b===d||b!==b&&d!==d}var eq_1=eq;function assocIndexOf(b,d){for(var e=b.length;e--;)if(eq_1(b[e][0],d))return e;return-1}var _assocIndexOf=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;
function listCacheDelete(b){var d=this.__data__;b=_assocIndexOf(d,b);if(0>b)return!1;b==d.length-1?d.pop():splice.call(d,b,1);--this.size;return!0}var _listCacheDelete=listCacheDelete;function listCacheGet(b){var d=this.__data__;b=_assocIndexOf(d,b);return 0>b?void 0:d[b][1]}var _listCacheGet=listCacheGet;function listCacheHas(b){return-1<_assocIndexOf(this.__data__,b)}var _listCacheHas=listCacheHas;
function listCacheSet(b,d){var e=this.__data__,f=_assocIndexOf(e,b);0>f?(++this.size,e.push([b,d])):e[f][1]=d;return this}var _listCacheSet=listCacheSet;function ListCache(b){var d=-1,e=null==b?0:b.length;for(this.clear();++d<e;){var f=b[d];this.set(f[0],f[1])}}ListCache.prototype.clear=_listCacheClear;ListCache.prototype["delete"]=_listCacheDelete;ListCache.prototype.get=_listCacheGet;ListCache.prototype.has=_listCacheHas;ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache;
function stackClear(){this.__data__=new _ListCache;this.size=0}var _stackClear=stackClear;function stackDelete(b){var d=this.__data__;b=d["delete"](b);this.size=d.size;return b}var _stackDelete=stackDelete;function stackGet(b){return this.__data__.get(b)}var _stackGet=stackGet;function stackHas(b){return this.__data__.has(b)}
var _stackHas=stackHas,freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol$1=_root.Symbol,_Symbol=Symbol$1,objectProto$i=Object.prototype,hasOwnProperty$f=objectProto$i.hasOwnProperty,nativeObjectToString$1=objectProto$i.toString,symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;
function getRawTag(b){var d=hasOwnProperty$f.call(b,symToStringTag$1),e=b[symToStringTag$1];try{b[symToStringTag$1]=void 0;var f=!0}catch(h){}var g=nativeObjectToString$1.call(b);f&&(d?b[symToStringTag$1]=e:delete b[symToStringTag$1]);return g}var _getRawTag=getRawTag,objectProto$h=Object.prototype,nativeObjectToString=objectProto$h.toString;function objectToString(b){return nativeObjectToString.call(b)}
var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(b){return null==b?void 0===b?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(b)?_getRawTag(b):_objectToString(b)}var _baseGetTag=baseGetTag;function isObject(b){var d=typeof b;return null!=b&&("object"==d||"function"==d)}
var isObject_1=isObject,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(b){if(!isObject_1(b))return!1;b=_baseGetTag(b);return b==funcTag$2||b==genTag$1||b==asyncTag||b==proxyTag}var isFunction_1=isFunction,coreJsData=_root["__core-js_shared__"],_coreJsData=coreJsData,maskSrcKey=function(){var b=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}();
function isMasked(b){return!!maskSrcKey&&maskSrcKey in b}var _isMasked=isMasked,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(b){if(null!=b){try{return funcToString$2.call(b)}catch(d){}return b+""}return""}
var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$g=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$e=objectProto$g.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$e).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");
function baseIsNative(b){return!isObject_1(b)||_isMasked(b)?!1:(isFunction_1(b)?reIsNative:reIsHostCtor).test(_toSource(b))}var _baseIsNative=baseIsNative;function getValue(b,d){return null==b?void 0:b[d]}var _getValue=getValue;function getNative(b,d){b=_getValue(b,d);return _baseIsNative(b)?b:void 0}var _getNative=getNative,Map$1=_getNative(_root,"Map"),_Map=Map$1,nativeCreate=_getNative(Object,"create"),_nativeCreate=nativeCreate;
function hashClear(){this.__data__=_nativeCreate?_nativeCreate(null):{};this.size=0}var _hashClear=hashClear;function hashDelete(b){b=this.has(b)&&delete this.__data__[b];this.size-=b?1:0;return b}var _hashDelete=hashDelete,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$f=Object.prototype,hasOwnProperty$d=objectProto$f.hasOwnProperty;function hashGet(b){var d=this.__data__;return _nativeCreate?(b=d[b],b===HASH_UNDEFINED$2?void 0:b):hasOwnProperty$d.call(d,b)?d[b]:void 0}
var _hashGet=hashGet,objectProto$e=Object.prototype,hasOwnProperty$c=objectProto$e.hasOwnProperty;function hashHas(b){var d=this.__data__;return _nativeCreate?void 0!==d[b]:hasOwnProperty$c.call(d,b)}var _hashHas=hashHas,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(b,d){var e=this.__data__;this.size+=this.has(b)?0:1;e[b]=_nativeCreate&&void 0===d?HASH_UNDEFINED$1:d;return this}var _hashSet=hashSet;
function Hash(b){var d=-1,e=null==b?0:b.length;for(this.clear();++d<e;){var f=b[d];this.set(f[0],f[1])}}Hash.prototype.clear=_hashClear;Hash.prototype["delete"]=_hashDelete;Hash.prototype.get=_hashGet;Hash.prototype.has=_hashHas;Hash.prototype.set=_hashSet;var _Hash=Hash;function mapCacheClear(){this.size=0;this.__data__={hash:new _Hash,map:new (_Map||_ListCache),string:new _Hash}}var _mapCacheClear=mapCacheClear;
function isKeyable(b){var d=typeof b;return"string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==b:null===b}var _isKeyable=isKeyable;function getMapData(b,d){b=b.__data__;return _isKeyable(d)?b["string"==typeof d?"string":"hash"]:b.map}var _getMapData=getMapData;function mapCacheDelete(b){b=_getMapData(this,b)["delete"](b);this.size-=b?1:0;return b}var _mapCacheDelete=mapCacheDelete;function mapCacheGet(b){return _getMapData(this,b).get(b)}var _mapCacheGet=mapCacheGet;
function mapCacheHas(b){return _getMapData(this,b).has(b)}var _mapCacheHas=mapCacheHas;function mapCacheSet(b,d){var e=_getMapData(this,b),f=e.size;e.set(b,d);this.size+=e.size==f?0:1;return this}var _mapCacheSet=mapCacheSet;function MapCache(b){var d=-1,e=null==b?0:b.length;for(this.clear();++d<e;){var f=b[d];this.set(f[0],f[1])}}MapCache.prototype.clear=_mapCacheClear;MapCache.prototype["delete"]=_mapCacheDelete;MapCache.prototype.get=_mapCacheGet;MapCache.prototype.has=_mapCacheHas;
MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet(b,d){var e=this.__data__;if(e instanceof _ListCache){var f=e.__data__;if(!_Map||f.length<LARGE_ARRAY_SIZE$1-1)return f.push([b,d]),this.size=++e.size,this;e=this.__data__=new _MapCache(f)}e.set(b,d);this.size=e.size;return this}var _stackSet=stackSet;function Stack(b){this.size=(this.__data__=new _ListCache(b)).size}Stack.prototype.clear=_stackClear;Stack.prototype["delete"]=_stackDelete;
Stack.prototype.get=_stackGet;Stack.prototype.has=_stackHas;Stack.prototype.set=_stackSet;var _Stack=Stack;function arrayEach(b,d){for(var e=-1,f=null==b?0:b.length;++e<f&&!1!==d(b[e],e,b););return b}var _arrayEach=arrayEach,defineProperty=function(){try{var b=_getNative(Object,"defineProperty");b({},"",{});return b}catch(d){}}(),_defineProperty=defineProperty;
function baseAssignValue(b,d,e){"__proto__"==d&&_defineProperty?_defineProperty(b,d,{configurable:!0,enumerable:!0,value:e,writable:!0}):b[d]=e}var _baseAssignValue=baseAssignValue,objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function assignValue(b,d,e){var f=b[d];hasOwnProperty$b.call(b,d)&&eq_1(f,e)&&(void 0!==e||d in b)||_baseAssignValue(b,d,e)}var _assignValue=assignValue;
function copyObject(b,d,e,f){var g=!e;e||(e={});for(var h=-1,l=d.length;++h<l;){var m=d[h],p=f?f(e[m],b[m],m,e,b):void 0;void 0===p&&(p=b[m]);g?_baseAssignValue(e,m,p):_assignValue(e,m,p)}return e}var _copyObject=copyObject;function baseTimes(b,d){for(var e=-1,f=Array(b);++e<b;)f[e]=d(e);return f}var _baseTimes=baseTimes;function isObjectLike(b){return null!=b&&"object"==typeof b}var isObjectLike_1=isObjectLike,argsTag$3="[object Arguments]";
function baseIsArguments(b){return isObjectLike_1(b)&&_baseGetTag(b)==argsTag$3}
var _baseIsArguments=baseIsArguments,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,propertyIsEnumerable$1=objectProto$c.propertyIsEnumerable,isArguments=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(b){return isObjectLike_1(b)&&hasOwnProperty$a.call(b,"callee")&&!propertyIsEnumerable$1.call(b,"callee")},isArguments_1=isArguments,isArray=Array.isArray,isArray_1=isArray;function stubFalse(){return!1}
var stubFalse_1=stubFalse,isBuffer_1=createCommonjsModule(function(b,d){var e=(d=d&&!d.nodeType&&d)&&b&&!b.nodeType&&b;d=e&&e.exports===d?_root.Buffer:void 0;b.exports=(d?d.isBuffer:void 0)||stubFalse_1}),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(b,d){var e=typeof b;d=null==d?MAX_SAFE_INTEGER$1:d;return!!d&&("number"==e||"symbol"!=e&&reIsUint.test(b))&&-1<b&&0==b%1&&b<d}var _isIndex=isIndex,MAX_SAFE_INTEGER=9007199254740991;
function isLength(b){return"number"==typeof b&&-1<b&&0==b%1&&b<=MAX_SAFE_INTEGER}
var isLength_1=isLength,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$7="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$7="[object Set]",stringTag$4="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",
float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};
typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;
typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$7]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$7]=typedArrayTags[stringTag$4]=typedArrayTags[weakMapTag$2]=!1;
function baseIsTypedArray(b){return isObjectLike_1(b)&&isLength_1(b.length)&&!!typedArrayTags[_baseGetTag(b)]}var _baseIsTypedArray=baseIsTypedArray;function baseUnary(b){return function(d){return b(d)}}
var _baseUnary=baseUnary,_nodeUtil=createCommonjsModule(function(b,d){var e=d&&!d.nodeType&&d;e=(d=e&&b&&!b.nodeType&&b)&&d.exports===e&&_freeGlobal.process;a:{try{var f=d&&d.require&&d.require("util").types;if(f){var g=f;break a}g=e&&e.binding&&e.binding("util");break a}catch(h){}g=void 0}b.exports=g}),nodeIsTypedArray=_nodeUtil&&_nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?_baseUnary(nodeIsTypedArray):_baseIsTypedArray,isTypedArray_1=isTypedArray,objectProto$b=Object.prototype,hasOwnProperty$9=
objectProto$b.hasOwnProperty;function arrayLikeKeys(b,d){var e=isArray_1(b),f=!e&&isArguments_1(b),g=!e&&!f&&isBuffer_1(b),h=!e&&!f&&!g&&isTypedArray_1(b);f=(e=e||f||g||h)?_baseTimes(b.length,String):[];var l=f.length,m;for(m in b)!d&&!hasOwnProperty$9.call(b,m)||e&&("length"==m||g&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||_isIndex(m,l))||f.push(m);return f}var _arrayLikeKeys=arrayLikeKeys,objectProto$a=Object.prototype;
function isPrototype(b){var d=b&&b.constructor;return b===("function"==typeof d&&d.prototype||objectProto$a)}var _isPrototype=isPrototype;function overArg(b,d){return function(e){return b(d(e))}}var _overArg=overArg,nativeKeys=_overArg(Object.keys,Object),_nativeKeys=nativeKeys,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;
function baseKeys(b){if(!_isPrototype(b))return _nativeKeys(b);var d=[],e;for(e in Object(b))hasOwnProperty$8.call(b,e)&&"constructor"!=e&&d.push(e);return d}var _baseKeys=baseKeys;function isArrayLike(b){return null!=b&&isLength_1(b.length)&&!isFunction_1(b)}var isArrayLike_1=isArrayLike;function keys(b){return isArrayLike_1(b)?_arrayLikeKeys(b):_baseKeys(b)}var keys_1=keys;function baseAssign(b,d){return b&&_copyObject(d,keys_1(d),b)}var _baseAssign=baseAssign;
function nativeKeysIn(b){var d=[];if(null!=b)for(var e in Object(b))d.push(e);return d}var _nativeKeysIn=nativeKeysIn,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeysIn(b){if(!isObject_1(b))return _nativeKeysIn(b);var d=_isPrototype(b),e=[],f;for(f in b)("constructor"!=f||!d&&hasOwnProperty$7.call(b,f))&&e.push(f);return e}var _baseKeysIn=baseKeysIn;function keysIn(b){return isArrayLike_1(b)?_arrayLikeKeys(b,!0):_baseKeysIn(b)}var keysIn_1=keysIn;
function baseAssignIn(b,d){return b&&_copyObject(d,keysIn_1(d),b)}var _baseAssignIn=baseAssignIn,_cloneBuffer=createCommonjsModule(function(b,d){var e=(d=d&&!d.nodeType&&d)&&b&&!b.nodeType&&b,f=(d=e&&e.exports===d?_root.Buffer:void 0)?d.allocUnsafe:void 0;b.exports=function(b,d){if(d)return b.slice();d=b.length;d=f?f(d):new b.constructor(d);b.copy(d);return d}});function copyArray(b,d){var e=-1,f=b.length;for(d||(d=Array(f));++e<f;)d[e]=b[e];return d}var _copyArray=copyArray;
function arrayFilter(b,d){for(var e=-1,f=null==b?0:b.length,g=0,h=[];++e<f;){var l=b[e];d(l,e,b)&&(h[g++]=l)}return h}var _arrayFilter=arrayFilter;function stubArray(){return[]}
var stubArray_1=stubArray,objectProto$7=Object.prototype,propertyIsEnumerable=objectProto$7.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(b){if(null==b)return[];b=Object(b);return _arrayFilter(nativeGetSymbols$1(b),function(d){return propertyIsEnumerable.call(b,d)})}:stubArray_1,_getSymbols=getSymbols;function copySymbols(b,d){return _copyObject(b,_getSymbols(b),d)}var _copySymbols=copySymbols;
function arrayPush(b,d){for(var e=-1,f=d.length,g=b.length;++e<f;)b[g+e]=d[e];return b}var _arrayPush=arrayPush,getPrototype=_overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(b){for(var d=[];b;)_arrayPush(d,_getSymbols(b)),b=_getPrototype(b);return d}:stubArray_1,_getSymbolsIn=getSymbolsIn;function copySymbolsIn(b,d){return _copyObject(b,_getSymbolsIn(b),d)}var _copySymbolsIn=copySymbolsIn;
function baseGetAllKeys(b,d,e){d=d(b);return isArray_1(b)?d:_arrayPush(d,e(b))}var _baseGetAllKeys=baseGetAllKeys;function getAllKeys(b){return _baseGetAllKeys(b,keys_1,_getSymbols)}var _getAllKeys=getAllKeys;function getAllKeysIn(b){return _baseGetAllKeys(b,keysIn_1,_getSymbolsIn)}
var _getAllKeysIn=getAllKeysIn,DataView$1=_getNative(_root,"DataView"),_DataView=DataView$1,Promise$1=_getNative(_root,"Promise"),_Promise=Promise$1,Set$1=_getNative(_root,"Set"),_Set=Set$1,WeakMap=_getNative(_root,"WeakMap"),_WeakMap=WeakMap,mapTag$6="[object Map]",objectTag$3="[object Object]",promiseTag="[object Promise]",setTag$6="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=_toSource(_DataView),mapCtorString=_toSource(_Map),promiseCtorString=
_toSource(_Promise),setCtorString=_toSource(_Set),weakMapCtorString=_toSource(_WeakMap),getTag=_baseGetTag;
if(_DataView&&getTag(new _DataView(new ArrayBuffer(1)))!=dataViewTag$3||_Map&&getTag(new _Map)!=mapTag$6||_Promise&&getTag(_Promise.resolve())!=promiseTag||_Set&&getTag(new _Set)!=setTag$6||_WeakMap&&getTag(new _WeakMap)!=weakMapTag$1)getTag=function(b){var d=_baseGetTag(b);if(b=(b=d==objectTag$3?b.constructor:void 0)?_toSource(b):"")switch(b){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$6;case promiseCtorString:return promiseTag;case setCtorString:return setTag$6;
case weakMapCtorString:return weakMapTag$1}return d};var _getTag=getTag,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function initCloneArray(b){var d=b.length,e=new b.constructor(d);d&&"string"==typeof b[0]&&hasOwnProperty$6.call(b,"index")&&(e.index=b.index,e.input=b.input);return e}var _initCloneArray=initCloneArray,Uint8Array=_root.Uint8Array,_Uint8Array=Uint8Array;
function cloneArrayBuffer(b){var d=new b.constructor(b.byteLength);(new _Uint8Array(d)).set(new _Uint8Array(b));return d}var _cloneArrayBuffer=cloneArrayBuffer;function cloneDataView(b,d){d=d?_cloneArrayBuffer(b.buffer):b.buffer;return new b.constructor(d,b.byteOffset,b.byteLength)}var _cloneDataView=cloneDataView,reFlags=/\w*$/;function cloneRegExp(b){var d=new b.constructor(b.source,reFlags.exec(b));d.lastIndex=b.lastIndex;return d}
var _cloneRegExp=cloneRegExp,symbolProto$2=_Symbol?_Symbol.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function cloneSymbol(b){return symbolValueOf$1?Object(symbolValueOf$1.call(b)):{}}var _cloneSymbol=cloneSymbol;function cloneTypedArray(b,d){d=d?_cloneArrayBuffer(b.buffer):b.buffer;return new b.constructor(d,b.byteOffset,b.length)}
var _cloneTypedArray=cloneTypedArray,boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$5="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",
uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";
function initCloneByTag(b,d,e){var f=b.constructor;switch(d){case arrayBufferTag$2:return _cloneArrayBuffer(b);case boolTag$2:case dateTag$2:return new f(+b);case dataViewTag$2:return _cloneDataView(b,e);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return _cloneTypedArray(b,e);case mapTag$5:return new f;case numberTag$2:case stringTag$3:return new f(b);case regexpTag$2:return _cloneRegExp(b);
case setTag$5:return new f;case symbolTag$3:return _cloneSymbol(b)}}var _initCloneByTag=initCloneByTag,objectCreate=Object.create,baseCreate=function(){function b(){}return function(d){if(!isObject_1(d))return{};if(objectCreate)return objectCreate(d);b.prototype=d;d=new b;b.prototype=void 0;return d}}(),_baseCreate=baseCreate;function initCloneObject(b){return"function"!=typeof b.constructor||_isPrototype(b)?{}:_baseCreate(_getPrototype(b))}var _initCloneObject=initCloneObject,mapTag$4="[object Map]";
function baseIsMap(b){return isObjectLike_1(b)&&_getTag(b)==mapTag$4}var _baseIsMap=baseIsMap,nodeIsMap=_nodeUtil&&_nodeUtil.isMap,isMap=nodeIsMap?_baseUnary(nodeIsMap):_baseIsMap,isMap_1=isMap,setTag$4="[object Set]";function baseIsSet(b){return isObjectLike_1(b)&&_getTag(b)==setTag$4}
var _baseIsSet=baseIsSet,nodeIsSet=_nodeUtil&&_nodeUtil.isSet,isSet=nodeIsSet?_baseUnary(nodeIsSet):_baseIsSet,isSet_1=isSet,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$3="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",
setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags=
{};
cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$3]=cloneableTags[numberTag$1]=cloneableTags[objectTag$2]=cloneableTags[regexpTag$1]=cloneableTags[setTag$3]=cloneableTags[stringTag$2]=cloneableTags[symbolTag$2]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=
cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;
function baseClone(b,d,e,f,g,h){var l,m=d&CLONE_DEEP_FLAG$1,p=d&CLONE_FLAT_FLAG,n=d&CLONE_SYMBOLS_FLAG$2;e&&(l=g?e(b,f,g,h):e(b));if(void 0!==l)return l;if(!isObject_1(b))return b;if(f=isArray_1(b)){if(l=_initCloneArray(b),!m)return _copyArray(b,l)}else{var q=_getTag(b),r=q==funcTag||q==genTag;if(isBuffer_1(b))return _cloneBuffer(b,m);if(q==objectTag$2||q==argsTag$1||r&&!g){if(l=p||r?{}:_initCloneObject(b),!m)return p?_copySymbolsIn(b,_baseAssignIn(l,b)):_copySymbols(b,_baseAssign(l,b))}else{if(!cloneableTags[q])return g?
b:{};l=_initCloneByTag(b,q,m)}}h||(h=new _Stack);if(g=h.get(b))return g;h.set(b,l);isSet_1(b)?b.forEach(function(f){l.add(baseClone(f,d,e,f,b,h))}):isMap_1(b)&&b.forEach(function(f,g){l.set(g,baseClone(f,d,e,g,b,h))});p=n?p?_getAllKeysIn:_getAllKeys:p?keysIn_1:keys_1;var t=f?void 0:p(b);_arrayEach(t||b,function(f,g){t&&(g=f,f=b[g]);_assignValue(l,g,baseClone(f,d,e,g,b,h))});return l}var _baseClone=baseClone,CLONE_SYMBOLS_FLAG$1=4;function clone(b){return _baseClone(b,CLONE_SYMBOLS_FLAG$1)}
var clone_1=clone;function constant(b){return function(){return b}}var constant_1=constant;function createBaseFor(b){return function(d,e,f){var g=-1,h=Object(d);f=f(d);for(var l=f.length;l--;){var m=f[b?l:++g];if(!1===e(h[m],m,h))break}return d}}var _createBaseFor=createBaseFor,baseFor=_createBaseFor(),_baseFor=baseFor;function baseForOwn(b,d){return b&&_baseFor(b,d,keys_1)}var _baseForOwn=baseForOwn;
function createBaseEach(b,d){return function(e,f){if(null==e)return e;if(!isArrayLike_1(e))return b(e,f);for(var g=e.length,h=d?g:-1,l=Object(e);(d?h--:++h<g)&&!1!==f(l[h],h,l););return e}}var _createBaseEach=createBaseEach,baseEach=_createBaseEach(_baseForOwn),_baseEach=baseEach;function identity(b){return b}var identity_1=identity;function castFunction(b){return"function"==typeof b?b:identity_1}var _castFunction=castFunction;
function forEach(b,d){return(isArray_1(b)?_arrayEach:_baseEach)(b,_castFunction(d))}var forEach_1=forEach,each=forEach_1;function baseFilter(b,d){var e=[];_baseEach(b,function(b,g,h){d(b,g,h)&&e.push(b)});return e}var _baseFilter=baseFilter,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(b){this.__data__.set(b,HASH_UNDEFINED);return this}var _setCacheAdd=setCacheAdd;function setCacheHas(b){return this.__data__.has(b)}var _setCacheHas=setCacheHas;
function SetCache(b){var d=-1,e=null==b?0:b.length;for(this.__data__=new _MapCache;++d<e;)this.add(b[d])}SetCache.prototype.add=SetCache.prototype.push=_setCacheAdd;SetCache.prototype.has=_setCacheHas;var _SetCache=SetCache;function arraySome(b,d){for(var e=-1,f=null==b?0:b.length;++e<f;)if(d(b[e],e,b))return!0;return!1}var _arraySome=arraySome;function cacheHas(b,d){return b.has(d)}var _cacheHas=cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;
function equalArrays(b,d,e,f,g,h){var l=e&COMPARE_PARTIAL_FLAG$5,m=b.length,p=d.length;if(m!=p&&!(l&&p>m))return!1;p=h.get(b);var n=h.get(d);if(p&&n)return p==d&&n==b;p=-1;n=!0;var q=e&COMPARE_UNORDERED_FLAG$3?new _SetCache:void 0;h.set(b,d);for(h.set(d,b);++p<m;){var r=b[p],t=d[p];if(f)var v=l?f(t,r,p,d,b,h):f(r,t,p,b,d,h);if(void 0!==v){if(v)continue;n=!1;break}if(q){if(!_arraySome(d,function(b,d){if(!_cacheHas(q,d)&&(r===b||g(r,b,e,f,h)))return q.push(d)})){n=!1;break}}else if(r!==t&&!g(r,t,e,
f,h)){n=!1;break}}h["delete"](b);h["delete"](d);return n}var _equalArrays=equalArrays;function mapToArray(b){var d=-1,e=Array(b.size);b.forEach(function(b,g){e[++d]=[g,b]});return e}var _mapToArray=mapToArray;function setToArray(b){var d=-1,e=Array(b.size);b.forEach(function(b){e[++d]=b});return e}
var _setToArray=setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$2="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto$1=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;
function equalByTag(b,d,e,f,g,h,l){switch(e){case dataViewTag:if(b.byteLength!=d.byteLength||b.byteOffset!=d.byteOffset)break;b=b.buffer;d=d.buffer;case arrayBufferTag:if(b.byteLength!=d.byteLength||!h(new _Uint8Array(b),new _Uint8Array(d)))break;return!0;case boolTag:case dateTag:case numberTag:return eq_1(+b,+d);case errorTag:return b.name==d.name&&b.message==d.message;case regexpTag:case stringTag$1:return b==d+"";case mapTag$2:var m=_mapToArray;case setTag$2:e=f&COMPARE_PARTIAL_FLAG$4;m||(m=_setToArray);
if(b.size!=d.size&&!e)break;if(e=l.get(b))return e==d;f|=COMPARE_UNORDERED_FLAG$2;l.set(b,d);d=_equalArrays(m(b),m(d),f,g,h,l);l["delete"](b);return d;case symbolTag$1:if(symbolValueOf)return symbolValueOf.call(b)==symbolValueOf.call(d)}return!1}var _equalByTag=equalByTag,COMPARE_PARTIAL_FLAG$3=1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;
function equalObjects(b,d,e,f,g,h){var l=e&COMPARE_PARTIAL_FLAG$3,m=_getAllKeys(b),p=m.length,n=_getAllKeys(d).length;if(p!=n&&!l)return!1;for(n=p;n--;){var q=m[n];if(!(l?q in d:hasOwnProperty$5.call(d,q)))return!1}var r=h.get(b);q=h.get(d);if(r&&q)return r==d&&q==b;r=!0;h.set(b,d);h.set(d,b);for(var t=l;++n<p;){q=m[n];var v=b[q],u=d[q];if(f)var w=l?f(u,v,q,d,b,h):f(v,u,q,b,d,h);if(void 0===w?v!==u&&!g(v,u,e,f,h):!w){r=!1;break}t||(t="constructor"==q)}r&&!t&&(e=b.constructor,f=d.constructor,e!=f&&
"constructor"in b&&"constructor"in d&&!("function"==typeof e&&e instanceof e&&"function"==typeof f&&f instanceof f)&&(r=!1));h["delete"](b);h["delete"](d);return r}var _equalObjects=equalObjects,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;
function baseIsEqualDeep(b,d,e,f,g,h){var l=isArray_1(b),m=isArray_1(d),p=l?arrayTag:_getTag(b),n=m?arrayTag:_getTag(d);p=p==argsTag?objectTag$1:p;n=n==argsTag?objectTag$1:n;var q=p==objectTag$1;m=n==objectTag$1;if((n=p==n)&&isBuffer_1(b)){if(!isBuffer_1(d))return!1;l=!0;q=!1}if(n&&!q)return h||(h=new _Stack),l||isTypedArray_1(b)?_equalArrays(b,d,e,f,g,h):_equalByTag(b,d,p,e,f,g,h);if(!(e&COMPARE_PARTIAL_FLAG$2)&&(l=q&&hasOwnProperty$4.call(b,"__wrapped__"),p=m&&hasOwnProperty$4.call(d,"__wrapped__"),
l||p))return b=l?b.value():b,d=p?d.value():d,h||(h=new _Stack),g(b,d,e,f,h);if(!n)return!1;h||(h=new _Stack);return _equalObjects(b,d,e,f,g,h)}var _baseIsEqualDeep=baseIsEqualDeep;function baseIsEqual(b,d,e,f,g){return b===d?!0:null==b||null==d||!isObjectLike_1(b)&&!isObjectLike_1(d)?b!==b&&d!==d:_baseIsEqualDeep(b,d,e,f,baseIsEqual,g)}var _baseIsEqual=baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;
function baseIsMatch(b,d,e,f){var g=e.length,h=g,l=!f;if(null==b)return!h;for(b=Object(b);g--;){var m=e[g];if(l&&m[2]?m[1]!==b[m[0]]:!(m[0]in b))return!1}for(;++g<h;){m=e[g];var p=m[0],n=b[p],q=m[1];if(l&&m[2]){if(void 0===n&&!(p in b))return!1}else{m=new _Stack;if(f)var r=f(n,q,p,b,d,m);if(void 0===r?!_baseIsEqual(q,n,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,f,m):!r)return!1}}return!0}var _baseIsMatch=baseIsMatch;function isStrictComparable(b){return b===b&&!isObject_1(b)}
var _isStrictComparable=isStrictComparable;function getMatchData(b){for(var d=keys_1(b),e=d.length;e--;){var f=d[e],g=b[f];d[e]=[f,g,_isStrictComparable(g)]}return d}var _getMatchData=getMatchData;function matchesStrictComparable(b,d){return function(e){return null==e?!1:e[b]===d&&(void 0!==d||b in Object(e))}}var _matchesStrictComparable=matchesStrictComparable;
function baseMatches(b){var d=_getMatchData(b);return 1==d.length&&d[0][2]?_matchesStrictComparable(d[0][0],d[0][1]):function(e){return e===b||_baseIsMatch(e,b,d)}}var _baseMatches=baseMatches,symbolTag="[object Symbol]";function isSymbol(b){return"symbol"==typeof b||isObjectLike_1(b)&&_baseGetTag(b)==symbolTag}var isSymbol_1=isSymbol,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;
function isKey(b,d){if(isArray_1(b))return!1;var e=typeof b;return"number"==e||"symbol"==e||"boolean"==e||null==b||isSymbol_1(b)?!0:reIsPlainProp.test(b)||!reIsDeepProp.test(b)||null!=d&&b in Object(d)}var _isKey=isKey,FUNC_ERROR_TEXT="Expected a function";
function memoize(b,d){if("function"!=typeof b||null!=d&&"function"!=typeof d)throw new TypeError(FUNC_ERROR_TEXT);var e=function(){var f=arguments,g=d?d.apply(this,f):f[0],h=e.cache;if(h.has(g))return h.get(g);f=b.apply(this,f);e.cache=h.set(g,f)||h;return f};e.cache=new (memoize.Cache||_MapCache);return e}memoize.Cache=_MapCache;var memoize_1=memoize,MAX_MEMOIZE_SIZE=500;function memoizeCapped(b){b=memoize_1(b,function(b){d.size===MAX_MEMOIZE_SIZE&&d.clear();return b});var d=b.cache;return b}
var _memoizeCapped=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=_memoizeCapped(function(b){var d=[];46===b.charCodeAt(0)&&d.push("");b.replace(rePropName,function(b,f,g,h){d.push(g?h.replace(reEscapeChar,"$1"):f||b)});return d}),_stringToPath=stringToPath;function arrayMap(b,d){for(var e=-1,f=null==b?0:b.length,g=Array(f);++e<f;)g[e]=d(b[e],e,b);return g}
var _arrayMap=arrayMap,INFINITY$3=1/0,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(b){if("string"==typeof b)return b;if(isArray_1(b))return _arrayMap(b,baseToString)+"";if(isSymbol_1(b))return symbolToString?symbolToString.call(b):"";var d=b+"";return"0"==d&&1/b==-INFINITY$3?"-0":d}var _baseToString=baseToString;function toString(b){return null==b?"":_baseToString(b)}var toString_1=toString;
function castPath(b,d){return isArray_1(b)?b:_isKey(b,d)?[b]:_stringToPath(toString_1(b))}var _castPath=castPath,INFINITY$2=1/0;function toKey(b){if("string"==typeof b||isSymbol_1(b))return b;var d=b+"";return"0"==d&&1/b==-INFINITY$2?"-0":d}var _toKey=toKey;function baseGet(b,d){d=_castPath(d,b);for(var e=0,f=d.length;null!=b&&e<f;)b=b[_toKey(d[e++])];return e&&e==f?b:void 0}var _baseGet=baseGet;function get(b,d,e){b=null==b?void 0:_baseGet(b,d);return void 0===b?e:b}var get_1=get;
function baseHasIn(b,d){return null!=b&&d in Object(b)}var _baseHasIn=baseHasIn;function hasPath(b,d,e){d=_castPath(d,b);for(var f=-1,g=d.length,h=!1;++f<g;){var l=_toKey(d[f]);if(!(h=null!=b&&e(b,l)))break;b=b[l]}if(h||++f!=g)return h;g=null==b?0:b.length;return!!g&&isLength_1(g)&&_isIndex(l,g)&&(isArray_1(b)||isArguments_1(b))}var _hasPath=hasPath;function hasIn(b,d){return null!=b&&_hasPath(b,d,_baseHasIn)}var hasIn_1=hasIn,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;
function baseMatchesProperty(b,d){return _isKey(b)&&_isStrictComparable(d)?_matchesStrictComparable(_toKey(b),d):function(e){var f=get_1(e,b);return void 0===f&&f===d?hasIn_1(e,b):_baseIsEqual(d,f,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty;function baseProperty(b){return function(d){return null==d?void 0:d[b]}}var _baseProperty=baseProperty;function basePropertyDeep(b){return function(d){return _baseGet(d,b)}}var _basePropertyDeep=basePropertyDeep;
function property(b){return _isKey(b)?_baseProperty(_toKey(b)):_basePropertyDeep(b)}var property_1=property;function baseIteratee(b){return"function"==typeof b?b:null==b?identity_1:"object"==typeof b?isArray_1(b)?_baseMatchesProperty(b[0],b[1]):_baseMatches(b):property_1(b)}var _baseIteratee=baseIteratee;function filter(b,d){return(isArray_1(b)?_arrayFilter:_baseFilter)(b,_baseIteratee(d))}var filter_1=filter,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;
function baseHas(b,d){return null!=b&&hasOwnProperty$3.call(b,d)}var _baseHas=baseHas;function has(b,d){return null!=b&&_hasPath(b,d,_baseHas)}var has_1=has,mapTag$1="[object Map]",setTag$1="[object Set]",objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;
function isEmpty(b){if(null==b)return!0;if(isArrayLike_1(b)&&(isArray_1(b)||"string"==typeof b||"function"==typeof b.splice||isBuffer_1(b)||isTypedArray_1(b)||isArguments_1(b)))return!b.length;var d=_getTag(b);if(d==mapTag$1||d==setTag$1)return!b.size;if(_isPrototype(b))return!_baseKeys(b).length;for(var e in b)if(hasOwnProperty$2.call(b,e))return!1;return!0}var isEmpty_1=isEmpty;function isUndefined(b){return void 0===b}var isUndefined_1=isUndefined;
function baseMap(b,d){var e=-1,f=isArrayLike_1(b)?Array(b.length):[];_baseEach(b,function(b,h,l){f[++e]=d(b,h,l)});return f}var _baseMap=baseMap;function map(b,d){return(isArray_1(b)?_arrayMap:_baseMap)(b,_baseIteratee(d))}var map_1=map;function arrayReduce(b,d,e,f){var g=-1,h=null==b?0:b.length;for(f&&h&&(e=b[++g]);++g<h;)e=d(e,b[g],g,b);return e}var _arrayReduce=arrayReduce;function baseReduce(b,d,e,f,g){g(b,function(b,g,m){e=f?(f=!1,b):d(e,b,g,m)});return e}var _baseReduce=baseReduce;
function reduce(b,d,e){var f=isArray_1(b)?_arrayReduce:_baseReduce,g=3>arguments.length;return f(b,_baseIteratee(d),e,g,_baseEach)}var reduce_1=reduce,stringTag="[object String]";function isString(b){return"string"==typeof b||!isArray_1(b)&&isObjectLike_1(b)&&_baseGetTag(b)==stringTag}
var isString_1=isString,asciiSize=_baseProperty("length"),_asciiSize=asciiSize,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode(b){return reHasUnicode.test(b)}
var _hasUnicode=hasUnicode,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",
rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeSize(b){for(var d=reUnicode.lastIndex=0;reUnicode.test(b);)++d;return d}var _unicodeSize=unicodeSize;
function stringSize(b){return _hasUnicode(b)?_unicodeSize(b):_asciiSize(b)}var _stringSize=stringSize,mapTag="[object Map]",setTag="[object Set]";function size(b){if(null==b)return 0;if(isArrayLike_1(b))return isString_1(b)?_stringSize(b):b.length;var d=_getTag(b);return d==mapTag||d==setTag?b.size:_baseKeys(b).length}var size_1=size;
function transform(b,d,e){var f=isArray_1(b),g=f||isBuffer_1(b)||isTypedArray_1(b);d=_baseIteratee(d);if(null==e){var h=b&&b.constructor;e=g?f?new h:[]:isObject_1(b)?isFunction_1(h)?_baseCreate(_getPrototype(b)):{}:{}}(g?_arrayEach:_baseForOwn)(b,function(b,f,g){return d(e,b,f,g)});return e}var transform_1=transform,spreadableSymbol=_Symbol?_Symbol.isConcatSpreadable:void 0;function isFlattenable(b){return isArray_1(b)||isArguments_1(b)||!!(spreadableSymbol&&b&&b[spreadableSymbol])}
var _isFlattenable=isFlattenable;function baseFlatten(b,d,e,f,g){var h=-1,l=b.length;e||(e=_isFlattenable);for(g||(g=[]);++h<l;){var m=b[h];0<d&&e(m)?1<d?baseFlatten(m,d-1,e,f,g):_arrayPush(g,m):f||(g[g.length]=m)}return g}var _baseFlatten=baseFlatten;function apply(b,d,e){switch(e.length){case 0:return b.call(d);case 1:return b.call(d,e[0]);case 2:return b.call(d,e[0],e[1]);case 3:return b.call(d,e[0],e[1],e[2])}return b.apply(d,e)}var _apply=apply,nativeMax$2=Math.max;
function overRest(b,d,e){d=nativeMax$2(void 0===d?b.length-1:d,0);return function(){for(var f=arguments,g=-1,h=nativeMax$2(f.length-d,0),l=Array(h);++g<h;)l[g]=f[d+g];g=-1;for(h=Array(d+1);++g<d;)h[g]=f[g];h[d]=e(l);return _apply(b,this,h)}}var _overRest=overRest,baseSetToString=_defineProperty?function(b,d){return _defineProperty(b,"toString",{configurable:!0,enumerable:!1,value:constant_1(d),writable:!0})}:identity_1,_baseSetToString=baseSetToString,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;
function shortOut(b){var d=0,e=0;return function(){var f=nativeNow(),g=HOT_SPAN-(f-e);e=f;if(0<g){if(++d>=HOT_COUNT)return arguments[0]}else d=0;return b.apply(void 0,arguments)}}var _shortOut=shortOut,setToString=_shortOut(_baseSetToString),_setToString=setToString;function baseRest(b,d){return _setToString(_overRest(b,d,identity_1),b+"")}var _baseRest=baseRest;function baseFindIndex(b,d,e,f){var g=b.length;for(e+=f?1:-1;f?e--:++e<g;)if(d(b[e],e,b))return e;return-1}var _baseFindIndex=baseFindIndex;
function baseIsNaN(b){return b!==b}var _baseIsNaN=baseIsNaN;function strictIndexOf(b,d,e){--e;for(var f=b.length;++e<f;)if(b[e]===d)return e;return-1}var _strictIndexOf=strictIndexOf;function baseIndexOf(b,d,e){return d===d?_strictIndexOf(b,d,e):_baseFindIndex(b,_baseIsNaN,e)}var _baseIndexOf=baseIndexOf;function arrayIncludes(b,d){return!(null==b||!b.length)&&-1<_baseIndexOf(b,d,0)}var _arrayIncludes=arrayIncludes;
function arrayIncludesWith(b,d,e){for(var f=-1,g=null==b?0:b.length;++f<g;)if(e(d,b[f]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith;function noop(){}var noop_1=noop,INFINITY$1=1/0,createSet=_Set&&1/_setToArray(new _Set([,-0]))[1]==INFINITY$1?function(b){return new _Set(b)}:noop_1,_createSet=createSet,LARGE_ARRAY_SIZE=200;
function baseUniq(b,d,e){var f=-1,g=_arrayIncludes,h=b.length,l=!0,m=[],p=m;if(e)l=!1,g=_arrayIncludesWith;else if(h>=LARGE_ARRAY_SIZE){if(g=d?null:_createSet(b))return _setToArray(g);l=!1;g=_cacheHas;p=new _SetCache}else p=d?[]:m;a:for(;++f<h;){var n=b[f],q=d?d(n):n;n=e||0!==n?n:0;if(l&&q===q){for(var r=p.length;r--;)if(p[r]===q)continue a;d&&p.push(q);m.push(n)}else g(p,q,e)||(p!==m&&p.push(q),m.push(n))}return m}var _baseUniq=baseUniq;
function isArrayLikeObject(b){return isObjectLike_1(b)&&isArrayLike_1(b)}var isArrayLikeObject_1=isArrayLikeObject,union=_baseRest(function(b){return _baseUniq(_baseFlatten(b,1,isArrayLikeObject_1,!0))}),union_1=union;function baseValues(b,d){return _arrayMap(d,function(d){return b[d]})}var _baseValues=baseValues;function values(b){return null==b?[]:_baseValues(b,keys_1(b))}var values_1=values,lodash$2;
if("function"===typeof commonjsRequire)try{lodash$2={clone:clone_1,constant:constant_1,each,filter:filter_1,has:has_1,isArray:isArray_1,isEmpty:isEmpty_1,isFunction:isFunction_1,isUndefined:isUndefined_1,keys:keys_1,map:map_1,reduce:reduce_1,size:size_1,transform:transform_1,union:union_1,values:values_1}}catch(b){}lodash$2||(lodash$2=window._);var lodash_1$2=lodash$2,graph=Graph$8,DEFAULT_EDGE_NAME="\x00",GRAPH_NODE="\x00",EDGE_KEY_DELIM="\u0001";
function Graph$8(b){this._isDirected=lodash_1$2.has(b,"directed")?b.directed:!0;this._isMultigraph=lodash_1$2.has(b,"multigraph")?b.multigraph:!1;this._isCompound=lodash_1$2.has(b,"compound")?b.compound:!1;this._label=void 0;this._defaultNodeLabelFn=lodash_1$2.constant(void 0);this._defaultEdgeLabelFn=lodash_1$2.constant(void 0);this._nodes={};this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={});this._in={};this._preds={};this._out={};this._sucs={};this._edgeObjs={};
this._edgeLabels={}}Graph$8.prototype._nodeCount=0;Graph$8.prototype._edgeCount=0;Graph$8.prototype.isDirected=function(){return this._isDirected};Graph$8.prototype.isMultigraph=function(){return this._isMultigraph};Graph$8.prototype.isCompound=function(){return this._isCompound};Graph$8.prototype.setGraph=function(b){this._label=b;return this};Graph$8.prototype.graph=function(){return this._label};
Graph$8.prototype.setDefaultNodeLabel=function(b){lodash_1$2.isFunction(b)||(b=lodash_1$2.constant(b));this._defaultNodeLabelFn=b;return this};Graph$8.prototype.nodeCount=function(){return this._nodeCount};Graph$8.prototype.nodes=function(){return lodash_1$2.keys(this._nodes)};Graph$8.prototype.sources=function(){var b=this;return lodash_1$2.filter(this.nodes(),function(d){return lodash_1$2.isEmpty(b._in[d])})};Graph$8.prototype.sinks=function(){var b=this;return lodash_1$2.filter(this.nodes(),function(d){return lodash_1$2.isEmpty(b._out[d])})};
Graph$8.prototype.setNodes=function(b,d){var e=arguments,f=this;lodash_1$2.each(b,function(b){1<e.length?f.setNode(b,d):f.setNode(b)});return this};
Graph$8.prototype.setNode=function(b,d){if(lodash_1$2.has(this._nodes,b))return 1<arguments.length&&(this._nodes[b]=d),this;this._nodes[b]=1<arguments.length?d:this._defaultNodeLabelFn(b);this._isCompound&&(this._parent[b]=GRAPH_NODE,this._children[b]={},this._children[GRAPH_NODE][b]=!0);this._in[b]={};this._preds[b]={};this._out[b]={};this._sucs[b]={};++this._nodeCount;return this};Graph$8.prototype.node=function(b){return this._nodes[b]};
Graph$8.prototype.hasNode=function(b){return lodash_1$2.has(this._nodes,b)};
Graph$8.prototype.removeNode=function(b){var d=this;if(lodash_1$2.has(this._nodes,b)){var e=function(b){d.removeEdge(d._edgeObjs[b])};delete this._nodes[b];this._isCompound&&(this._removeFromParentsChildList(b),delete this._parent[b],lodash_1$2.each(this.children(b),function(b){d.setParent(b)}),delete this._children[b]);lodash_1$2.each(lodash_1$2.keys(this._in[b]),e);delete this._in[b];delete this._preds[b];lodash_1$2.each(lodash_1$2.keys(this._out[b]),e);delete this._out[b];delete this._sucs[b];
--this._nodeCount}return this};Graph$8.prototype.setParent=function(b,d){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(lodash_1$2.isUndefined(d))d=GRAPH_NODE;else{for(var e=d+="";!lodash_1$2.isUndefined(e);e=this.parent(e))if(e===b)throw Error("Setting "+d+" as parent of "+b+" would create a cycle");this.setNode(d)}this.setNode(b);this._removeFromParentsChildList(b);this._parent[b]=d;this._children[d][b]=!0;return this};
Graph$8.prototype._removeFromParentsChildList=function(b){delete this._children[this._parent[b]][b]};Graph$8.prototype.parent=function(b){if(this._isCompound&&(b=this._parent[b],b!==GRAPH_NODE))return b};Graph$8.prototype.children=function(b){lodash_1$2.isUndefined(b)&&(b=GRAPH_NODE);if(this._isCompound){if(b=this._children[b])return lodash_1$2.keys(b)}else{if(b===GRAPH_NODE)return this.nodes();if(this.hasNode(b))return[]}};Graph$8.prototype.predecessors=function(b){if(b=this._preds[b])return lodash_1$2.keys(b)};
Graph$8.prototype.successors=function(b){if(b=this._sucs[b])return lodash_1$2.keys(b)};Graph$8.prototype.neighbors=function(b){var d=this.predecessors(b);if(d)return lodash_1$2.union(d,this.successors(b))};Graph$8.prototype.isLeaf=function(b){return 0===(this.isDirected()?this.successors(b):this.neighbors(b)).length};
Graph$8.prototype.filterNodes=function(b){function d(b){var h=f.parent(b);return void 0===h||e.hasNode(h)?g[b]=h:h in g?g[h]:d(h)}var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var f=this;lodash_1$2.each(this._nodes,function(d,f){b(f)&&e.setNode(f,d)});lodash_1$2.each(this._edgeObjs,function(b){e.hasNode(b.v)&&e.hasNode(b.w)&&e.setEdge(b,f.edge(b))});var g={};this._isCompound&&lodash_1$2.each(e.nodes(),function(b){e.setParent(b,
d(b))});return e};Graph$8.prototype.setDefaultEdgeLabel=function(b){lodash_1$2.isFunction(b)||(b=lodash_1$2.constant(b));this._defaultEdgeLabelFn=b;return this};Graph$8.prototype.edgeCount=function(){return this._edgeCount};Graph$8.prototype.edges=function(){return lodash_1$2.values(this._edgeObjs)};Graph$8.prototype.setPath=function(b,d){var e=this,f=arguments;lodash_1$2.reduce(b,function(b,h){1<f.length?e.setEdge(b,h,d):e.setEdge(b,h);return h});return this};
Graph$8.prototype.setEdge=function(){var b=!1,d=arguments[0];if("object"===typeof d&&null!==d&&"v"in d){var e=d.v;var f=d.w;var g=d.name;if(2===arguments.length){var h=arguments[1];b=!0}}else e=d,f=arguments[1],g=arguments[3],2<arguments.length&&(h=arguments[2],b=!0);e=""+e;f=""+f;lodash_1$2.isUndefined(g)||(g=""+g);d=edgeArgsToId(this._isDirected,e,f,g);if(lodash_1$2.has(this._edgeLabels,d))return b&&(this._edgeLabels[d]=h),this;if(!lodash_1$2.isUndefined(g)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");
this.setNode(e);this.setNode(f);this._edgeLabels[d]=b?h:this._defaultEdgeLabelFn(e,f,g);h=edgeArgsToObj(this._isDirected,e,f,g);e=h.v;f=h.w;Object.freeze(h);this._edgeObjs[d]=h;incrementOrInitEntry(this._preds[f],e);incrementOrInitEntry(this._sucs[e],f);this._in[f][d]=h;this._out[e][d]=h;this._edgeCount++;return this};Graph$8.prototype.edge=function(b,d,e){var f=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,b,d,e);return this._edgeLabels[f]};
Graph$8.prototype.hasEdge=function(b,d,e){var f=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,b,d,e);return lodash_1$2.has(this._edgeLabels,f)};
Graph$8.prototype.removeEdge=function(b,d,e){var f=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,b,d,e),g=this._edgeObjs[f];g&&(b=g.v,d=g.w,delete this._edgeLabels[f],delete this._edgeObjs[f],decrementOrRemoveEntry(this._preds[d],b),decrementOrRemoveEntry(this._sucs[b],d),delete this._in[d][f],delete this._out[b][f],this._edgeCount--);return this};
Graph$8.prototype.inEdges=function(b,d){if(b=this._in[b])return b=lodash_1$2.values(b),d?lodash_1$2.filter(b,function(b){return b.v===d}):b};Graph$8.prototype.outEdges=function(b,d){if(b=this._out[b])return b=lodash_1$2.values(b),d?lodash_1$2.filter(b,function(b){return b.w===d}):b};Graph$8.prototype.nodeEdges=function(b,d){var e=this.inEdges(b,d);if(e)return e.concat(this.outEdges(b,d))};function incrementOrInitEntry(b,d){b[d]?b[d]++:b[d]=1}
function decrementOrRemoveEntry(b,d){--b[d]||delete b[d]}function edgeArgsToId(b,d,e,f){d=""+d;e=""+e;!b&&d>e&&(b=d,d=e,e=b);return d+EDGE_KEY_DELIM+e+EDGE_KEY_DELIM+(lodash_1$2.isUndefined(f)?DEFAULT_EDGE_NAME:f)}function edgeArgsToObj(b,d,e,f){d=""+d;e=""+e;!b&&d>e&&(b=d,d=e,e=b);b={v:d,w:e};f&&(b.name=f);return b}function edgeObjToId(b,d){return edgeArgsToId(b,d.v,d.w,d.name)}var version$2="2.1.8",lib={Graph:graph,version:version$2},json={write,read};
function write(b){var d={options:{directed:b.isDirected(),multigraph:b.isMultigraph(),compound:b.isCompound()},nodes:writeNodes(b),edges:writeEdges(b)};lodash_1$2.isUndefined(b.graph())||(d.value=lodash_1$2.clone(b.graph()));return d}function writeNodes(b){return lodash_1$2.map(b.nodes(),function(d){var e=b.node(d),f=b.parent(d);d={v:d};lodash_1$2.isUndefined(e)||(d.value=e);lodash_1$2.isUndefined(f)||(d.parent=f);return d})}
function writeEdges(b){return lodash_1$2.map(b.edges(),function(d){var e=b.edge(d),f={v:d.v,w:d.w};lodash_1$2.isUndefined(d.name)||(f.name=d.name);lodash_1$2.isUndefined(e)||(f.value=e);return f})}function read(b){var d=(new graph(b.options)).setGraph(b.value);lodash_1$2.each(b.nodes,function(b){d.setNode(b.v,b.value);b.parent&&d.setParent(b.v,b.parent)});lodash_1$2.each(b.edges,function(b){d.setEdge({v:b.v,w:b.w,name:b.name},b.value)});return d}var components_1=components;
function components(b){function d(f){lodash_1$2.has(e,f)||(e[f]=!0,g.push(f),lodash_1$2.each(b.successors(f),d),lodash_1$2.each(b.predecessors(f),d))}var e={},f=[],g;lodash_1$2.each(b.nodes(),function(b){g=[];d(b);g.length&&f.push(g)});return f}var priorityQueue=PriorityQueue;function PriorityQueue(){this._arr=[];this._keyIndices={}}PriorityQueue.prototype.size=function(){return this._arr.length};PriorityQueue.prototype.keys=function(){return this._arr.map(function(b){return b.key})};
PriorityQueue.prototype.has=function(b){return lodash_1$2.has(this._keyIndices,b)};PriorityQueue.prototype.priority=function(b){b=this._keyIndices[b];if(void 0!==b)return this._arr[b].priority};PriorityQueue.prototype.min=function(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key};PriorityQueue.prototype.add=function(b,d){var e=this._keyIndices;b=String(b);if(!lodash_1$2.has(e,b)){var f=this._arr,g=f.length;e[b]=g;f.push({key:b,priority:d});this._decrease(g);return!0}return!1};
PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var b=this._arr.pop();delete this._keyIndices[b.key];this._heapify(0);return b.key};PriorityQueue.prototype.decrease=function(b,d){var e=this._keyIndices[b];if(d>this._arr[e].priority)throw Error("New priority is greater than current priority. Key: "+b+" Old: "+this._arr[e].priority+" New: "+d);this._arr[e].priority=d;this._decrease(e)};
PriorityQueue.prototype._heapify=function(b){var d=this._arr,e=2*b,f=e+1,g=b;e<d.length&&(g=d[e].priority<d[g].priority?e:g,f<d.length&&(g=d[f].priority<d[g].priority?f:g),g!==b&&(this._swap(b,g),this._heapify(g)))};PriorityQueue.prototype._decrease=function(b){for(var d=this._arr,e=d[b].priority,f;0!==b;){f=b>>1;if(d[f].priority<e)break;this._swap(b,f);b=f}};PriorityQueue.prototype._swap=function(b,d){var e=this._arr,f=this._keyIndices,g=e[b],h=e[d];e[b]=h;e[d]=g;f[h.key]=b;f[g.key]=d};
var dijkstra_1=dijkstra,DEFAULT_WEIGHT_FUNC$1=lodash_1$2.constant(1);function dijkstra(b,d,e,f){return runDijkstra(b,String(d),e||DEFAULT_WEIGHT_FUNC$1,f||function(d){return b.outEdges(d)})}
function runDijkstra(b,d,e,f){var g={},h=new priorityQueue,l=function(b){var d=b.v!==m?b.v:b.w,f=g[d],l=e(b),n=p.distance+l;if(0>l)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+b+" Weight: "+l);n<f.distance&&(f.distance=n,f.predecessor=m,h.decrease(d,n))};for(b.nodes().forEach(function(b){var e=b===d?0:Number.POSITIVE_INFINITY;g[b]={distance:e};h.add(b,e)});0<h.size();){var m=h.removeMin();var p=g[m];if(p.distance===Number.POSITIVE_INFINITY)break;f(m).forEach(l)}return g}
var dijkstraAll_1=dijkstraAll;function dijkstraAll(b,d,e){return lodash_1$2.transform(b.nodes(),function(f,g){f[g]=dijkstra_1(b,g,d,e)},{})}var tarjan_1=tarjan;
function tarjan(b){function d(l){var m=g[l]={onStack:!0,lowlink:e,index:e++};f.push(l);b.successors(l).forEach(function(b){lodash_1$2.has(g,b)?g[b].onStack&&(m.lowlink=Math.min(m.lowlink,g[b].index)):(d(b),m.lowlink=Math.min(m.lowlink,g[b].lowlink))});if(m.lowlink===m.index){var p=[];do{var n=f.pop();g[n].onStack=!1;p.push(n)}while(l!==n);h.push(p)}}var e=0,f=[],g={},h=[];b.nodes().forEach(function(b){lodash_1$2.has(g,b)||d(b)});return h}var findCycles_1=findCycles;
function findCycles(b){return lodash_1$2.filter(tarjan_1(b),function(d){return 1<d.length||1===d.length&&b.hasEdge(d[0],d[0])})}var floydWarshall_1=floydWarshall,DEFAULT_WEIGHT_FUNC=lodash_1$2.constant(1);function floydWarshall(b,d,e){return runFloydWarshall(b,d||DEFAULT_WEIGHT_FUNC,e||function(d){return b.outEdges(d)})}
function runFloydWarshall(b,d,e){var f={},g=b.nodes();g.forEach(function(b){f[b]={};f[b][b]={distance:0};g.forEach(function(d){b!==d&&(f[b][d]={distance:Number.POSITIVE_INFINITY})});e(b).forEach(function(e){var g=e.v===b?e.w:e.v;e=d(e);f[b][g]={distance:e,predecessor:b}})});g.forEach(function(b){var d=f[b];g.forEach(function(e){var h=f[e];g.forEach(function(e){var f=d[e];e=h[e];var g=h[b].distance+f.distance;g<e.distance&&(e.distance=g,e.predecessor=f.predecessor)})})});return f}var topsort_1=topsort;
topsort.CycleException=CycleException;function topsort(b){function d(h){if(lodash_1$2.has(f,h))throw new CycleException;lodash_1$2.has(e,h)||(f[h]=!0,e[h]=!0,lodash_1$2.each(b.predecessors(h),d),delete f[h],g.push(h))}var e={},f={},g=[];lodash_1$2.each(b.sinks(),d);if(lodash_1$2.size(e)!==b.nodeCount())throw new CycleException;return g}function CycleException(){}CycleException.prototype=Error();var isAcyclic_1=isAcyclic;
function isAcyclic(b){try{topsort_1(b)}catch(d){if(d instanceof topsort_1.CycleException)return!1;throw d;}return!0}var dfs_1=dfs$1;function dfs$1(b,d,e){lodash_1$2.isArray(d)||(d=[d]);var f=(b.isDirected()?b.successors:b.neighbors).bind(b),g=[],h={};lodash_1$2.each(d,function(d){if(!b.hasNode(d))throw Error("Graph does not have node: "+d);doDfs(b,d,"post"===e,h,f,g)});return g}
function doDfs(b,d,e,f,g,h){lodash_1$2.has(f,d)||(f[d]=!0,e||h.push(d),lodash_1$2.each(g(d),function(d){doDfs(b,d,e,f,g,h)}),e&&h.push(d))}var postorder_1=postorder$2;function postorder$2(b,d){return dfs_1(b,d,"post")}var preorder_1=preorder$1;function preorder$1(b,d){return dfs_1(b,d,"pre")}var prim_1=prim;
function prim(b,d){function e(b){var e=b.v===m?b.w:b.v,f=h.priority(e);void 0!==f&&(b=d(b),b<f&&(g[e]=m,h.decrease(e,b)))}var f=new graph,g={},h=new priorityQueue;if(0===b.nodeCount())return f;lodash_1$2.each(b.nodes(),function(b){h.add(b,Number.POSITIVE_INFINITY);f.setNode(b)});h.decrease(b.nodes()[0],0);for(var l=!1;0<h.size();){var m=h.removeMin();if(lodash_1$2.has(g,m))f.setEdge(m,g[m]);else{if(l)throw Error("Input graph is not connected: "+b);l=!0}b.nodeEdges(m).forEach(e)}return f}
var alg={components:components_1,dijkstra:dijkstra_1,dijkstraAll:dijkstraAll_1,findCycles:findCycles_1,floydWarshall:floydWarshall_1,isAcyclic:isAcyclic_1,postorder:postorder_1,preorder:preorder_1,prim:prim_1,tarjan:tarjan_1,topsort:topsort_1},graphlib$2={Graph:lib.Graph,json,alg,version:lib.version},graphlib$1;if("function"===typeof commonjsRequire)try{graphlib$1=graphlib$2}catch(b){}graphlib$1||(graphlib$1=window.graphlib);var graphlib_1$1=graphlib$1,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;
function cloneDeep(b){return _baseClone(b,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep;function isIterateeCall(b,d,e){if(!isObject_1(e))return!1;var f=typeof d;return("number"==f?isArrayLike_1(e)&&_isIndex(d,e.length):"string"==f&&d in e)?eq_1(e[d],b):!1}
var _isIterateeCall=isIterateeCall,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty,defaults=_baseRest(function(b,d){b=Object(b);var e=-1,f=d.length,g=2<f?d[2]:void 0;for(g&&_isIterateeCall(d[0],d[1],g)&&(f=1);++e<f;){g=d[e];for(var h=keysIn_1(g),l=-1,m=h.length;++l<m;){var p=h[l],n=b[p];if(void 0===n||eq_1(n,objectProto$1[p])&&!hasOwnProperty$1.call(b,p))b[p]=g[p]}}return b}),defaults_1=defaults;
function createFind(b){return function(d,e,f){var g=Object(d);if(!isArrayLike_1(d)){var h=_baseIteratee(e);d=keys_1(d);e=function(b){return h(g[b],b,g)}}e=b(d,e,f);return-1<e?g[h?d[e]:e]:void 0}}var _createFind=createFind,reWhitespace=/\s/;function trimmedEndIndex(b){for(var d=b.length;d--&&reWhitespace.test(b.charAt(d)););return d}var _trimmedEndIndex=trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim(b){return b?b.slice(0,_trimmedEndIndex(b)+1).replace(reTrimStart,""):b}
var _baseTrim=baseTrim,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(b){if("number"==typeof b)return b;if(isSymbol_1(b))return NAN;isObject_1(b)&&(b="function"==typeof b.valueOf?b.valueOf():b,b=isObject_1(b)?b+"":b);if("string"!=typeof b)return 0===b?b:+b;b=_baseTrim(b);var d=reIsBinary.test(b);return d||reIsOctal.test(b)?freeParseInt(b.slice(2),d?2:8):reIsBadHex.test(b)?NAN:+b}
var toNumber_1=toNumber,INFINITY=1/0,MAX_INTEGER=1.7976931348623157E308;function toFinite(b){if(!b)return 0===b?b:0;b=toNumber_1(b);return b===INFINITY||b===-INFINITY?(0>b?-1:1)*MAX_INTEGER:b===b?b:0}var toFinite_1=toFinite;function toInteger(b){b=toFinite_1(b);var d=b%1;return b===b?d?b-d:b:0}var toInteger_1=toInteger,nativeMax$1=Math.max;
function findIndex(b,d,e){var f=null==b?0:b.length;if(!f)return-1;e=null==e?0:toInteger_1(e);0>e&&(e=nativeMax$1(f+e,0));return _baseFindIndex(b,_baseIteratee(d),e)}var findIndex_1=findIndex,find=_createFind(findIndex_1),find_1=find;function flatten(b){return(null==b?0:b.length)?_baseFlatten(b,1):[]}var flatten_1=flatten;function forIn(b,d){return null==b?b:_baseFor(b,_castFunction(d),keysIn_1)}var forIn_1=forIn;function last(b){var d=null==b?0:b.length;return d?b[d-1]:void 0}var last_1=last;
function mapValues(b,d){var e={};d=_baseIteratee(d);_baseForOwn(b,function(b,g,h){_baseAssignValue(e,g,d(b,g,h))});return e}var mapValues_1=mapValues;function baseExtremum(b,d,e){for(var f=-1,g=b.length;++f<g;){var h=b[f],l=d(h);if(null!=l&&(void 0===m?l===l&&!isSymbol_1(l):e(l,m)))var m=l,p=h}return p}var _baseExtremum=baseExtremum;function baseGt(b,d){return b>d}var _baseGt=baseGt;function max(b){return b&&b.length?_baseExtremum(b,identity_1,_baseGt):void 0}var max_1=max;
function assignMergeValue(b,d,e){(void 0===e||eq_1(b[d],e))&&(void 0!==e||d in b)||_baseAssignValue(b,d,e)}var _assignMergeValue=assignMergeValue,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);
function isPlainObject(b){if(!isObjectLike_1(b)||_baseGetTag(b)!=objectTag)return!1;b=_getPrototype(b);if(null===b)return!0;b=hasOwnProperty.call(b,"constructor")&&b.constructor;return"function"==typeof b&&b instanceof b&&funcToString.call(b)==objectCtorString}var isPlainObject_1=isPlainObject;function safeGet(b,d){if(("constructor"!==d||"function"!==typeof b[d])&&"__proto__"!=d)return b[d]}var _safeGet=safeGet;function toPlainObject(b){return _copyObject(b,keysIn_1(b))}var toPlainObject_1=toPlainObject;
function baseMergeDeep(b,d,e,f,g,h,l){var m=_safeGet(b,e),p=_safeGet(d,e),n=l.get(p);if(n)_assignMergeValue(b,e,n);else{d=h?h(m,p,e+"",b,d,l):void 0;if(n=void 0===d){var q=isArray_1(p),r=!q&&isBuffer_1(p),t=!q&&!r&&isTypedArray_1(p);d=p;if(q||r||t)isArray_1(m)?d=m:isArrayLikeObject_1(m)?d=_copyArray(m):r?(n=!1,d=_cloneBuffer(p,!0)):t?(n=!1,d=_cloneTypedArray(p,!0)):d=[];else if(isPlainObject_1(p)||isArguments_1(p))if(d=m,isArguments_1(m))d=toPlainObject_1(m);else{if(!isObject_1(m)||isFunction_1(m))d=
_initCloneObject(p)}else n=!1}n&&(l.set(p,d),g(d,p,f,h,l),l["delete"](p));_assignMergeValue(b,e,d)}}var _baseMergeDeep=baseMergeDeep;function baseMerge(b,d,e,f,g){b!==d&&_baseFor(d,function(h,l){g||(g=new _Stack);if(isObject_1(h))_baseMergeDeep(b,d,l,e,baseMerge,f,g);else{var m=f?f(_safeGet(b,l),h,l+"",b,d,g):void 0;void 0===m&&(m=h);_assignMergeValue(b,l,m)}},keysIn_1)}var _baseMerge=baseMerge;
function createAssigner(b){return _baseRest(function(d,e){var f=-1,g=e.length,h=1<g?e[g-1]:void 0,l=2<g?e[2]:void 0;h=3<b.length&&"function"==typeof h?(g--,h):void 0;l&&_isIterateeCall(e[0],e[1],l)&&(h=3>g?void 0:h,g=1);for(d=Object(d);++f<g;)(l=e[f])&&b(d,l,f,h);return d})}var _createAssigner=createAssigner,merge=_createAssigner(function(b,d,e){_baseMerge(b,d,e)}),merge_1=merge;function baseLt(b,d){return b<d}var _baseLt=baseLt;
function min(b){return b&&b.length?_baseExtremum(b,identity_1,_baseLt):void 0}var min_1=min;function minBy(b,d){return b&&b.length?_baseExtremum(b,_baseIteratee(d),_baseLt):void 0}var minBy_1=minBy,now=function(){return _root.Date.now()},now_1=now;
function baseSet(b,d,e,f){if(!isObject_1(b))return b;d=_castPath(d,b);for(var g=-1,h=d.length,l=h-1,m=b;null!=m&&++g<h;){var p=_toKey(d[g]),n=e;if("__proto__"===p||"constructor"===p||"prototype"===p)break;if(g!=l){var q=m[p];n=f?f(q,p,m):void 0;void 0===n&&(n=isObject_1(q)?q:_isIndex(d[g+1])?[]:{})}_assignValue(m,p,n);m=m[p]}return b}var _baseSet=baseSet;function basePickBy(b,d,e){for(var f=-1,g=d.length,h={};++f<g;){var l=d[f],m=_baseGet(b,l);e(m,l)&&_baseSet(h,_castPath(l,b),m)}return h}
var _basePickBy=basePickBy;function basePick(b,d){return _basePickBy(b,d,function(d,f){return hasIn_1(b,f)})}var _basePick=basePick;function flatRest(b){return _setToString(_overRest(b,void 0,flatten_1),b+"")}var _flatRest=flatRest,pick=_flatRest(function(b,d){return null==b?{}:_basePick(b,d)}),pick_1=pick,nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(b,d,e,f){var g=-1;d=nativeMax(nativeCeil((d-b)/(e||1)),0);for(var h=Array(d);d--;)h[f?d:++g]=b,b+=e;return h}var _baseRange=baseRange;
function createRange(b){return function(d,e,f){f&&"number"!=typeof f&&_isIterateeCall(d,e,f)&&(e=f=void 0);d=toFinite_1(d);void 0===e?(e=d,d=0):e=toFinite_1(e);f=void 0===f?d<e?1:-1:toFinite_1(f);return _baseRange(d,e,f,b)}}var _createRange=createRange,range=_createRange(),range_1=range;function baseSortBy(b,d){var e=b.length;for(b.sort(d);e--;)b[e]=b[e].value;return b}var _baseSortBy=baseSortBy;
function compareAscending(b,d){if(b!==d){var e=void 0!==b,f=null===b,g=b===b,h=isSymbol_1(b),l=void 0!==d,m=null===d,p=d===d,n=isSymbol_1(d);if(!m&&!n&&!h&&b>d||h&&l&&p&&!m&&!n||f&&l&&p||!e&&p||!g)return 1;if(!f&&!h&&!n&&b<d||n&&e&&g&&!f&&!h||m&&e&&g||!l&&g||!p)return-1}return 0}var _compareAscending=compareAscending;
function compareMultiple(b,d,e){for(var f=-1,g=b.criteria,h=d.criteria,l=g.length,m=e.length;++f<l;){var p=_compareAscending(g[f],h[f]);if(p)return f>=m?p:p*("desc"==e[f]?-1:1)}return b.index-d.index}var _compareMultiple=compareMultiple;
function baseOrderBy(b,d,e){d=d.length?_arrayMap(d,function(b){return isArray_1(b)?function(d){return _baseGet(d,1===b.length?b[0]:b)}:b}):[identity_1];var f=-1;d=_arrayMap(d,_baseUnary(_baseIteratee));b=_baseMap(b,function(b,e,l){return{criteria:_arrayMap(d,function(d){return d(b)}),index:++f,value:b}});return _baseSortBy(b,function(b,d){return _compareMultiple(b,d,e)})}
var _baseOrderBy=baseOrderBy,sortBy=_baseRest(function(b,d){if(null==b)return[];var e=d.length;1<e&&_isIterateeCall(b,d[0],d[1])?d=[]:2<e&&_isIterateeCall(d[0],d[1],d[2])&&(d=[d[0]]);return _baseOrderBy(b,_baseFlatten(d,1),[])}),sortBy_1=sortBy,idCounter=0;function uniqueId(b){var d=++idCounter;return toString_1(b)+d}var uniqueId_1=uniqueId;function baseZipObject(b,d,e){for(var f=-1,g=b.length,h=d.length,l={};++f<g;)e(l,b[f],f<h?d[f]:void 0);return l}var _baseZipObject=baseZipObject;
function zipObject(b,d){return _baseZipObject(b||[],d||[],_assignValue)}var zipObject_1=zipObject,lodash$1;
if("function"===typeof commonjsRequire)try{lodash$1={cloneDeep:cloneDeep_1,constant:constant_1,defaults:defaults_1,each,filter:filter_1,find:find_1,flatten:flatten_1,forEach:forEach_1,forIn:forIn_1,has:has_1,isUndefined:isUndefined_1,last:last_1,map:map_1,mapValues:mapValues_1,max:max_1,merge:merge_1,min:min_1,minBy:minBy_1,now:now_1,pick:pick_1,range:range_1,reduce:reduce_1,sortBy:sortBy_1,uniqueId:uniqueId_1,values:values_1,zipObject:zipObject_1}}catch(b){}lodash$1||(lodash$1=window._);
var lodash_1$1=lodash$1,list=List;function List(){var b={};this._sentinel=b._next=b._prev=b}List.prototype.dequeue=function(){var b=this._sentinel,d=b._prev;if(d!==b)return unlink(d),d};List.prototype.enqueue=function(b){var d=this._sentinel;b._prev&&b._next&&unlink(b);b._next=d._next;d._next._prev=b;d._next=b;b._prev=d};List.prototype.toString=function(){for(var b=[],d=this._sentinel,e=d._prev;e!==d;)b.push(JSON.stringify(e,filterOutLinks)),e=e._prev;return"["+b.join(", ")+"]"};
function unlink(b){b._prev._next=b._next;b._next._prev=b._prev;delete b._next;delete b._prev}function filterOutLinks(b,d){if("_next"!==b&&"_prev"!==b)return d}var Graph$7=graphlib_1$1.Graph,greedyFas=greedyFAS,DEFAULT_WEIGHT_FN=lodash_1$1.constant(1);function greedyFAS(b,d){if(1>=b.nodeCount())return[];d=buildState(b,d||DEFAULT_WEIGHT_FN);d=doGreedyFAS(d.graph,d.buckets,d.zeroIdx);return lodash_1$1.flatten(lodash_1$1.map(d,function(d){return b.outEdges(d.v,d.w)}),!0)}
function doGreedyFAS(b,d,e){for(var f=[],g=d[d.length-1],h=d[0],l;b.nodeCount();){for(;l=h.dequeue();)removeNode(b,d,e,l);for(;l=g.dequeue();)removeNode(b,d,e,l);if(b.nodeCount())for(var m=d.length-2;0<m;--m)if(l=d[m].dequeue()){f=f.concat(removeNode(b,d,e,l,!0));break}}return f}
function removeNode(b,d,e,f,g){var h=g?[]:void 0;lodash_1$1.forEach(b.inEdges(f.v),function(f){var l=b.edge(f),p=b.node(f.v);g&&h.push({v:f.v,w:f.w});p.out-=l;assignBucket(d,e,p)});lodash_1$1.forEach(b.outEdges(f.v),function(f){var g=b.edge(f);f=b.node(f.w);f["in"]-=g;assignBucket(d,e,f)});b.removeNode(f.v);return h}
function buildState(b,d){var e=new Graph$7,f=0,g=0;lodash_1$1.forEach(b.nodes(),function(b){e.setNode(b,{v:b,"in":0,out:0})});lodash_1$1.forEach(b.edges(),function(b){var h=e.edge(b.v,b.w)||0,l=d(b);e.setEdge(b.v,b.w,h+l);g=Math.max(g,e.node(b.v).out+=l);f=Math.max(f,e.node(b.w)["in"]+=l)});var h=lodash_1$1.range(g+f+3).map(function(){return new list}),l=f+1;lodash_1$1.forEach(e.nodes(),function(b){assignBucket(h,l,e.node(b))});return{graph:e,buckets:h,zeroIdx:l}}
function assignBucket(b,d,e){e.out?e["in"]?b[e.out-e["in"]+d].enqueue(e):b[b.length-1].enqueue(e):b[0].enqueue(e)}var acyclic={run:run$2,undo:undo$2};function run$2(b){function d(b){return function(d){return b.edge(d).weight}}var e="greedy"===b.graph().acyclicer?greedyFas(b,d(b)):dfsFAS(b);lodash_1$1.forEach(e,function(d){var e=b.edge(d);b.removeEdge(d);e.forwardName=d.name;e.reversed=!0;b.setEdge(d.w,d.v,e,lodash_1$1.uniqueId("rev"))})}
function dfsFAS(b){function d(h){lodash_1$1.has(g,h)||(g[h]=!0,f[h]=!0,lodash_1$1.forEach(b.outEdges(h),function(b){lodash_1$1.has(f,b.w)?e.push(b):d(b.w)}),delete f[h])}var e=[],f={},g={};lodash_1$1.forEach(b.nodes(),d);return e}function undo$2(b){lodash_1$1.forEach(b.edges(),function(d){var e=b.edge(d);if(e.reversed){b.removeEdge(d);var f=e.forwardName;delete e.reversed;delete e.forwardName;b.setEdge(d.w,d.v,e,f)}})}
var Graph$6=graphlib_1$1.Graph,util$2={addDummyNode,simplify:simplify$1,asNonCompoundGraph,successorWeights,predecessorWeights,intersectRect:intersectRect$1,buildLayerMatrix,normalizeRanks:normalizeRanks$1,removeEmptyRanks:removeEmptyRanks$1,addBorderNode:addBorderNode$1,maxRank,partition,time,notime};function addDummyNode(b,d,e,f){do var g=lodash_1$1.uniqueId(f);while(b.hasNode(g));e.dummy=d;b.setNode(g,e);return g}
function simplify$1(b){var d=(new Graph$6).setGraph(b.graph());lodash_1$1.forEach(b.nodes(),function(e){d.setNode(e,b.node(e))});lodash_1$1.forEach(b.edges(),function(e){var f=d.edge(e.v,e.w)||{weight:0,minlen:1},g=b.edge(e);d.setEdge(e.v,e.w,{weight:f.weight+g.weight,minlen:Math.max(f.minlen,g.minlen)})});return d}
function asNonCompoundGraph(b){var d=(new Graph$6({multigraph:b.isMultigraph()})).setGraph(b.graph());lodash_1$1.forEach(b.nodes(),function(e){b.children(e).length||d.setNode(e,b.node(e))});lodash_1$1.forEach(b.edges(),function(e){d.setEdge(e,b.edge(e))});return d}function successorWeights(b){var d=lodash_1$1.map(b.nodes(),function(d){var e={};lodash_1$1.forEach(b.outEdges(d),function(d){e[d.w]=(e[d.w]||0)+b.edge(d).weight});return e});return lodash_1$1.zipObject(b.nodes(),d)}
function predecessorWeights(b){var d=lodash_1$1.map(b.nodes(),function(d){var e={};lodash_1$1.forEach(b.inEdges(d),function(d){e[d.v]=(e[d.v]||0)+b.edge(d).weight});return e});return lodash_1$1.zipObject(b.nodes(),d)}function intersectRect$1(b,d){var e=b.x,f=b.y,g=d.x-e;d=d.y-f;var h=b.width/2,l=b.height/2;if(!g&&!d)throw Error("Not possible to find intersection inside of the rectangle");Math.abs(d)*h>Math.abs(g)*l?(0>d&&(l=-l),b=l*g/d,g=l):(0>g&&(h=-h),b=h,g=h*d/g);return{x:e+b,y:f+g}}
function buildLayerMatrix(b){var d=lodash_1$1.map(lodash_1$1.range(maxRank(b)+1),function(){return[]});lodash_1$1.forEach(b.nodes(),function(e){var f=b.node(e),g=f.rank;lodash_1$1.isUndefined(g)||(d[g][f.order]=e)});return d}function normalizeRanks$1(b){var d=lodash_1$1.min(lodash_1$1.map(b.nodes(),function(d){return b.node(d).rank}));lodash_1$1.forEach(b.nodes(),function(e){e=b.node(e);lodash_1$1.has(e,"rank")&&(e.rank-=d)})}
function removeEmptyRanks$1(b){var d=lodash_1$1.min(lodash_1$1.map(b.nodes(),function(d){return b.node(d).rank})),e=[];lodash_1$1.forEach(b.nodes(),function(f){var g=b.node(f).rank-d;e[g]||(e[g]=[]);e[g].push(f)});var f=0,g=b.graph().nodeRankFactor;lodash_1$1.forEach(e,function(d,e){lodash_1$1.isUndefined(d)&&0!==e%g?--f:f&&lodash_1$1.forEach(d,function(d){b.node(d).rank+=f})})}
function addBorderNode$1(b,d,e,f){var g={width:0,height:0};4<=arguments.length&&(g.rank=e,g.order=f);return addDummyNode(b,"border",g,d)}function maxRank(b){return lodash_1$1.max(lodash_1$1.map(b.nodes(),function(d){d=b.node(d).rank;if(!lodash_1$1.isUndefined(d))return d}))}function partition(b,d){var e={lhs:[],rhs:[]};lodash_1$1.forEach(b,function(b){d(b)?e.lhs.push(b):e.rhs.push(b)});return e}
function time(b,d){var e=lodash_1$1.now();try{return d()}finally{console.log(b+" time: "+(lodash_1$1.now()-e)+"ms")}}function notime(b,d){return d()}var normalize={run:run$1,undo:undo$1};function run$1(b){b.graph().dummyChains=[];lodash_1$1.forEach(b.edges(),function(d){normalizeEdge(b,d)})}
function normalizeEdge(b,d){var e=d.v,f=b.node(e).rank,g=d.w,h=b.node(g).rank,l=d.name,m=b.edge(d),p=m.labelRank;if(h!==f+1){b.removeEdge(d);var n=0;for(++f;f<h;++n,++f){m.points=[];var q={width:0,height:0,edgeLabel:m,edgeObj:d,rank:f};var r=util$2.addDummyNode(b,"edge",q,"_d");f===p&&(q.width=m.width,q.height=m.height,q.dummy="edge-label",q.labelpos=m.labelpos);b.setEdge(e,r,{weight:m.weight},l);0===n&&b.graph().dummyChains.push(r);e=r}b.setEdge(e,g,{weight:m.weight},l)}}
function undo$1(b){lodash_1$1.forEach(b.graph().dummyChains,function(d){var e=b.node(d),f=e.edgeLabel;for(b.setEdge(e.edgeObj,f);e.dummy;){var g=b.successors(d)[0];b.removeNode(d);f.points.push({x:e.x,y:e.y});"edge-label"===e.dummy&&(f.x=e.x,f.y=e.y,f.width=e.width,f.height=e.height);d=g;e=b.node(d)}})}var util$1={longestPath:longestPath$1,slack:slack$2};
function longestPath$1(b){function d(f){var g=b.node(f);if(lodash_1$1.has(e,f))return g.rank;e[f]=!0;f=lodash_1$1.min(lodash_1$1.map(b.outEdges(f),function(e){return d(e.w)-b.edge(e).minlen}));if(f===Number.POSITIVE_INFINITY||void 0===f||null===f)f=0;return g.rank=f}var e={};lodash_1$1.forEach(b.sources(),d)}function slack$2(b,d){return b.node(d.w).rank-b.node(d.v).rank-b.edge(d).minlen}var Graph$5=graphlib_1$1.Graph,slack$1=util$1.slack,feasibleTree_1=feasibleTree;
function feasibleTree(b){var d=new Graph$5({directed:!1}),e=b.nodes()[0],f=b.nodeCount();for(d.setNode(e,{});tightTree(d,b)<f;)e=findMinSlackEdge(d,b),e=d.hasNode(e.v)?slack$1(b,e):-slack$1(b,e),shiftRanks(d,b,e);return d}function tightTree(b,d){function e(f){lodash_1$1.forEach(d.nodeEdges(f),function(g){var h=g.v;h=f===h?g.w:h;b.hasNode(h)||slack$1(d,g)||(b.setNode(h,{}),b.setEdge(f,h,{}),e(h))})}lodash_1$1.forEach(b.nodes(),e);return b.nodeCount()}
function findMinSlackEdge(b,d){return lodash_1$1.minBy(d.edges(),function(e){if(b.hasNode(e.v)!==b.hasNode(e.w))return slack$1(d,e)})}function shiftRanks(b,d,e){lodash_1$1.forEach(b.nodes(),function(b){d.node(b).rank+=e})}var slack=util$1.slack,initRank=util$1.longestPath,preorder=graphlib_1$1.alg.preorder,postorder$1=graphlib_1$1.alg.postorder,simplify=util$2.simplify,networkSimplex_1=networkSimplex;networkSimplex.initLowLimValues=initLowLimValues;networkSimplex.initCutValues=initCutValues;
networkSimplex.calcCutValue=calcCutValue;networkSimplex.leaveEdge=leaveEdge;networkSimplex.enterEdge=enterEdge;networkSimplex.exchangeEdges=exchangeEdges;function networkSimplex(b){b=simplify(b);initRank(b);var d=feasibleTree_1(b);initLowLimValues(d);initCutValues(d,b);for(var e,f;e=leaveEdge(d);)f=enterEdge(d,b,e),exchangeEdges(d,b,e,f)}function initCutValues(b,d){var e=postorder$1(b,b.nodes());e=e.slice(0,e.length-1);lodash_1$1.forEach(e,function(e){assignCutValue(b,d,e)})}
function assignCutValue(b,d,e){var f=b.node(e).parent;b.edge(e,f).cutvalue=calcCutValue(b,d,e)}function calcCutValue(b,d,e){var f=b.node(e).parent,g=!0,h=d.edge(e,f),l=0;h||(g=!1,h=d.edge(f,e));l=h.weight;lodash_1$1.forEach(d.nodeEdges(e),function(h){var m=h.v===e,n=m?h.w:h.v;n!==f&&(m=m===g,h=d.edge(h).weight,l+=m?h:-h,isTreeEdge(b,e,n)&&(n=b.edge(e,n).cutvalue,l+=m?-n:n))});return l}function initLowLimValues(b,d){2>arguments.length&&(d=b.nodes()[0]);dfsAssignLowLim(b,{},1,d)}
function dfsAssignLowLim(b,d,e,f,g){var h=e,l=b.node(f);d[f]=!0;lodash_1$1.forEach(b.neighbors(f),function(g){lodash_1$1.has(d,g)||(e=dfsAssignLowLim(b,d,e,g,f))});l.low=h;l.lim=e++;g?l.parent=g:delete l.parent;return e}function leaveEdge(b){return lodash_1$1.find(b.edges(),function(d){return 0>b.edge(d).cutvalue})}
function enterEdge(b,d,e){var f=e.v,g=e.w;d.hasEdge(f,g)||(f=e.w,g=e.v);e=b.node(f);g=b.node(g);var h=e,l=!1;e.lim>g.lim&&(h=g,l=!0);g=lodash_1$1.filter(d.edges(),function(d){return l===isDescendant(b,b.node(d.v),h)&&l!==isDescendant(b,b.node(d.w),h)});return lodash_1$1.minBy(g,function(b){return slack(d,b)})}function exchangeEdges(b,d,e,f){b.removeEdge(e.v,e.w);b.setEdge(f.v,f.w,{});initLowLimValues(b);initCutValues(b,d);updateRanks(b,d)}
function updateRanks(b,d){var e=lodash_1$1.find(b.nodes(),function(b){return!d.node(b).parent});e=preorder(b,e);e=e.slice(1);lodash_1$1.forEach(e,function(e){var f=b.node(e).parent,h=d.edge(e,f),l=!1;h||(h=d.edge(f,e),l=!0);d.node(e).rank=d.node(f).rank+(l?h.minlen:-h.minlen)})}function isTreeEdge(b,d,e){return b.hasEdge(d,e)}function isDescendant(b,d,e){return e.low<=d.lim&&d.lim<=e.lim}var longestPath=util$1.longestPath,rank_1=rank;
function rank(b){switch(b.graph().ranker){case "network-simplex":networkSimplexRanker(b);break;case "tight-tree":tightTreeRanker(b);break;case "longest-path":longestPathRanker(b);break;default:networkSimplexRanker(b)}}var longestPathRanker=longestPath;function tightTreeRanker(b){longestPath(b);feasibleTree_1(b)}function networkSimplexRanker(b){networkSimplex_1(b)}var parentDummyChains_1=parentDummyChains;
function parentDummyChains(b){var d=postorder(b);lodash_1$1.forEach(b.graph().dummyChains,function(e){var f=b.node(e),g=f.edgeObj;f=findPath(b,d,g.v,g.w);for(var h=f.path,l=f.lca,m=0,p=h[m],n=!0;e!==g.w;){f=b.node(e);if(n){for(;(p=h[m])!==l&&b.node(p).maxRank<f.rank;)m++;p===l&&(n=!1)}if(!n){for(;m<h.length-1&&b.node(h[m+1]).minRank<=f.rank;)m++;p=h[m]}b.setParent(e,p);e=b.successors(e)[0]}})}
function findPath(b,d,e,f){var g=[],h=[],l=Math.min(d[e].low,d[f].low),m=Math.max(d[e].lim,d[f].lim);do e=b.parent(e),g.push(e);while(e&&(d[e].low>l||m>d[e].lim));d=e;for(e=f;(e=b.parent(e))!==d;)h.push(e);return{path:g.concat(h.reverse()),lca:d}}function postorder(b){function d(g){var h=f;lodash_1$1.forEach(b.children(g),d);e[g]={low:h,lim:f++}}var e={},f=0;lodash_1$1.forEach(b.children(),d);return e}var nestingGraph={run,cleanup};
function run(b){var d=util$2.addDummyNode(b,"root",{},"_root"),e=treeDepths(b),f=lodash_1$1.max(lodash_1$1.values(e))-1,g=2*f+1;b.graph().nestingRoot=d;lodash_1$1.forEach(b.edges(),function(d){b.edge(d).minlen*=g});var h=sumWeights(b)+1;lodash_1$1.forEach(b.children(),function(l){dfs(b,d,g,h,f,e,l)});b.graph().nodeRankFactor=g}
function dfs(b,d,e,f,g,h,l){var m=b.children(l);if(m.length){var p=util$2.addBorderNode(b,"_bt"),n=util$2.addBorderNode(b,"_bb"),q=b.node(l);b.setParent(p,l);q.borderTop=p;b.setParent(n,l);q.borderBottom=n;lodash_1$1.forEach(m,function(m){dfs(b,d,e,f,g,h,m);var q=b.node(m),r=q.borderTop?q.borderTop:m;m=q.borderBottom?q.borderBottom:m;q=q.borderTop?f:2*f;var u=r!==m?1:g-h[l]+1;b.setEdge(p,r,{weight:q,minlen:u,nestingEdge:!0});b.setEdge(m,n,{weight:q,minlen:u,nestingEdge:!0})});b.parent(l)||b.setEdge(d,
p,{weight:0,minlen:g+h[l]})}else l!==d&&b.setEdge(d,l,{weight:0,minlen:e})}function treeDepths(b){function d(f,g){var h=b.children(f);h&&h.length&&lodash_1$1.forEach(h,function(b){d(b,g+1)});e[f]=g}var e={};lodash_1$1.forEach(b.children(),function(b){d(b,1)});return e}function sumWeights(b){return lodash_1$1.reduce(b.edges(),function(d,e){return d+b.edge(e).weight},0)}
function cleanup(b){var d=b.graph();b.removeNode(d.nestingRoot);delete d.nestingRoot;lodash_1$1.forEach(b.edges(),function(d){b.edge(d).nestingEdge&&b.removeEdge(d)})}var addBorderSegments_1=addBorderSegments;
function addBorderSegments(b){function d(e){var f=b.children(e),g=b.node(e);f.length&&lodash_1$1.forEach(f,d);if(lodash_1$1.has(g,"minRank")){g.borderLeft=[];g.borderRight=[];f=g.minRank;for(var h=g.maxRank+1;f<h;++f)addBorderNode(b,"borderLeft","_bl",e,g,f),addBorderNode(b,"borderRight","_br",e,g,f)}}lodash_1$1.forEach(b.children(),d)}
function addBorderNode(b,d,e,f,g,h){var l=g[d][h-1];e=util$2.addDummyNode(b,"border",{width:0,height:0,rank:h,borderType:d},e);g[d][h]=e;b.setParent(e,f);l&&b.setEdge(l,e,{weight:1})}var coordinateSystem={adjust:adjust$2,undo};function adjust$2(b){var d=b.graph().rankdir.toLowerCase();"lr"!==d&&"rl"!==d||swapWidthHeight(b)}function undo(b){var d=b.graph().rankdir.toLowerCase();"bt"!==d&&"rl"!==d||reverseY(b);if("lr"===d||"rl"===d)swapXY(b),swapWidthHeight(b)}
function swapWidthHeight(b){lodash_1$1.forEach(b.nodes(),function(d){swapWidthHeightOne(b.node(d))});lodash_1$1.forEach(b.edges(),function(d){swapWidthHeightOne(b.edge(d))})}function swapWidthHeightOne(b){var d=b.width;b.width=b.height;b.height=d}function reverseY(b){lodash_1$1.forEach(b.nodes(),function(d){reverseYOne(b.node(d))});lodash_1$1.forEach(b.edges(),function(d){d=b.edge(d);lodash_1$1.forEach(d.points,reverseYOne);lodash_1$1.has(d,"y")&&reverseYOne(d)})}
function reverseYOne(b){b.y=-b.y}function swapXY(b){lodash_1$1.forEach(b.nodes(),function(d){swapXYOne(b.node(d))});lodash_1$1.forEach(b.edges(),function(d){d=b.edge(d);lodash_1$1.forEach(d.points,swapXYOne);lodash_1$1.has(d,"x")&&swapXYOne(d)})}function swapXYOne(b){var d=b.x;b.x=b.y;b.y=d}var initOrder_1=initOrder;
function initOrder(b){function d(f){if(!lodash_1$1.has(e,f)){e[f]=!0;var g=b.node(f);h[g.rank].push(f);lodash_1$1.forEach(b.successors(f),d)}}var e={},f=lodash_1$1.filter(b.nodes(),function(d){return!b.children(d).length}),g=lodash_1$1.max(lodash_1$1.map(f,function(d){return b.node(d).rank})),h=lodash_1$1.map(lodash_1$1.range(g+1),function(){return[]});f=lodash_1$1.sortBy(f,function(d){return b.node(d).rank});lodash_1$1.forEach(f,d);return h}var crossCount_1=crossCount;
function crossCount(b,d){for(var e=0,f=1;f<d.length;++f)e+=twoLayerCrossCount(b,d[f-1],d[f]);return e}
function twoLayerCrossCount(b,d,e){var f=lodash_1$1.zipObject(e,lodash_1$1.map(e,function(b,d){return d}));d=lodash_1$1.flatten(lodash_1$1.map(d,function(d){return lodash_1$1.sortBy(lodash_1$1.map(b.outEdges(d),function(d){return{pos:f[d.w],weight:b.edge(d).weight}}),"pos")}),!0);for(var g=1;g<e.length;)g<<=1;e=2*g-1;--g;var h=lodash_1$1.map(Array(e),function(){return 0}),l=0;lodash_1$1.forEach(d.forEach(function(b){var d=b.pos+g;h[d]+=b.weight;for(var e=0;0<d;)d%2&&(e+=h[d+1]),d=d-1>>1,h[d]+=b.weight;
l+=b.weight*e}));return l}var barycenter_1=barycenter;function barycenter(b,d){return lodash_1$1.map(d,function(d){var e=b.inEdges(d);return e.length?(e=lodash_1$1.reduce(e,function(d,e){var f=b.edge(e);e=b.node(e.v);return{sum:d.sum+f.weight*e.order,weight:d.weight+f.weight}},{sum:0,weight:0}),{v:d,barycenter:e.sum/e.weight,weight:e.weight}):{v:d}})}var resolveConflicts_1=resolveConflicts;
function resolveConflicts(b,d){var e={};lodash_1$1.forEach(b,function(b,d){d=e[b.v]={indegree:0,"in":[],out:[],vs:[b.v],i:d};lodash_1$1.isUndefined(b.barycenter)||(d.barycenter=b.barycenter,d.weight=b.weight)});lodash_1$1.forEach(d.edges(),function(b){var d=e[b.v],f=e[b.w];lodash_1$1.isUndefined(d)||lodash_1$1.isUndefined(f)||(f.indegree++,d.out.push(e[b.w]))});b=lodash_1$1.filter(e,function(b){return!b.indegree});return doResolveConflicts(b)}
function doResolveConflicts(b){function d(b){return function(d){d.merged||(lodash_1$1.isUndefined(d.barycenter)||lodash_1$1.isUndefined(b.barycenter)||d.barycenter>=b.barycenter)&&mergeEntries(b,d)}}function e(d){return function(e){e["in"].push(d);0===--e.indegree&&b.push(e)}}for(var f=[];b.length;){var g=b.pop();f.push(g);lodash_1$1.forEach(g["in"].reverse(),d(g));lodash_1$1.forEach(g.out,e(g))}return lodash_1$1.map(lodash_1$1.filter(f,function(b){return!b.merged}),function(b){return lodash_1$1.pick(b,
["vs","i","barycenter","weight"])})}function mergeEntries(b,d){var e=0,f=0;b.weight&&(e+=b.barycenter*b.weight,f+=b.weight);d.weight&&(e+=d.barycenter*d.weight,f+=d.weight);b.vs=d.vs.concat(b.vs);b.barycenter=e/f;b.weight=f;b.i=Math.min(d.i,b.i);d.merged=!0}var sort_1=sort;
function sort(b,d){b=util$2.partition(b,function(b){return lodash_1$1.has(b,"barycenter")});var e=b.lhs,f=lodash_1$1.sortBy(b.rhs,function(b){return-b.i}),g=[],h=0,l=0,m=0;e.sort(compareWithBias(!!d));m=consumeUnsortable(g,f,m);lodash_1$1.forEach(e,function(b){m+=b.vs.length;g.push(b.vs);h+=b.barycenter*b.weight;l+=b.weight;m=consumeUnsortable(g,f,m)});d={vs:lodash_1$1.flatten(g,!0)};l&&(d.barycenter=h/l,d.weight=l);return d}
function consumeUnsortable(b,d,e){for(var f;d.length&&(f=lodash_1$1.last(d)).i<=e;)d.pop(),b.push(f.vs),e++;return e}function compareWithBias(b){return function(d,e){return d.barycenter<e.barycenter?-1:d.barycenter>e.barycenter?1:b?e.i-d.i:d.i-e.i}}var sortSubgraph_1=sortSubgraph;
function sortSubgraph(b,d,e,f){var g=b.children(d),h=(d=b.node(d))?d.borderLeft:void 0,l=d?d.borderRight:void 0,m={};h&&(g=lodash_1$1.filter(g,function(b){return b!==h&&b!==l}));g=barycenter_1(b,g);lodash_1$1.forEach(g,function(d){if(b.children(d.v).length){var g=sortSubgraph(b,d.v,e,f);m[d.v]=g;lodash_1$1.has(g,"barycenter")&&mergeBarycenters(d,g)}});g=resolveConflicts_1(g,e);expandSubgraphs(g,m);g=sort_1(g,f);if(h&&(g.vs=lodash_1$1.flatten([h,g.vs,l],!0),b.predecessors(h).length)){d=b.node(b.predecessors(h)[0]);
var p=b.node(b.predecessors(l)[0]);lodash_1$1.has(g,"barycenter")||(g.barycenter=0,g.weight=0);g.barycenter=(g.barycenter*g.weight+d.order+p.order)/(g.weight+2);g.weight+=2}return g}function expandSubgraphs(b,d){lodash_1$1.forEach(b,function(b){b.vs=lodash_1$1.flatten(b.vs.map(function(b){return d[b]?d[b].vs:b}),!0)})}
function mergeBarycenters(b,d){lodash_1$1.isUndefined(b.barycenter)?(b.barycenter=d.barycenter,b.weight=d.weight):(b.barycenter=(b.barycenter*b.weight+d.barycenter*d.weight)/(b.weight+d.weight),b.weight+=d.weight)}var Graph$4=graphlib_1$1.Graph,buildLayerGraph_1=buildLayerGraph;
function buildLayerGraph(b,d,e){var f=createRootNode(b),g=(new Graph$4({compound:!0})).setGraph({root:f}).setDefaultNodeLabel(function(d){return b.node(d)});lodash_1$1.forEach(b.nodes(),function(h){var l=b.node(h),m=b.parent(h);if(l.rank===d||l.minRank<=d&&d<=l.maxRank)g.setNode(h),g.setParent(h,m||f),lodash_1$1.forEach(b[e](h),function(d){var e=d.v===h?d.w:d.v,f=g.edge(e,h);f=lodash_1$1.isUndefined(f)?0:f.weight;g.setEdge(e,h,{weight:b.edge(d).weight+f})}),lodash_1$1.has(l,"minRank")&&g.setNode(h,
{borderLeft:l.borderLeft[d],borderRight:l.borderRight[d]})});return g}function createRootNode(b){for(var d;b.hasNode(d=lodash_1$1.uniqueId("_root")););return d}var addSubgraphConstraints_1=addSubgraphConstraints;function addSubgraphConstraints(b,d,e){var f={},g;lodash_1$1.forEach(e,function(e){e=b.parent(e);for(var h,m;e;){(h=b.parent(e))?(m=f[h],f[h]=e):(m=g,g=e);if(m&&m!==e){d.setEdge(m,e);break}e=h}})}var Graph$3=graphlib_1$1.Graph,order_1=order;
function order(b){var d=util$2.maxRank(b),e=buildLayerGraphs(b,lodash_1$1.range(1,d+1),"inEdges");d=buildLayerGraphs(b,lodash_1$1.range(d-1,-1,-1),"outEdges");var f=initOrder_1(b);assignOrder(b,f);for(var g=Number.POSITIVE_INFINITY,h,l=0,m=0;4>m;++l,++m){sweepLayerGraphs(l%2?e:d,2<=l%4);f=util$2.buildLayerMatrix(b);var p=crossCount_1(b,f);p<g&&(m=0,h=lodash_1$1.cloneDeep(f),g=p)}assignOrder(b,h)}
function buildLayerGraphs(b,d,e){return lodash_1$1.map(d,function(d){return buildLayerGraph_1(b,d,e)})}function sweepLayerGraphs(b,d){var e=new Graph$3;lodash_1$1.forEach(b,function(b){var f=b.graph().root;f=sortSubgraph_1(b,f,e,d);lodash_1$1.forEach(f.vs,function(d,e){b.node(d).order=e});addSubgraphConstraints_1(b,e,f.vs)})}function assignOrder(b,d){lodash_1$1.forEach(d,function(d){lodash_1$1.forEach(d,function(d,e){b.node(d).order=e})})}
var Graph$2=graphlib_1$1.Graph,bk={positionX:positionX$1,findType1Conflicts,findType2Conflicts,addConflict,hasConflict,verticalAlignment,horizontalCompaction,alignCoordinates,findSmallestWidthAlignment,balance};
function findType1Conflicts(b,d){var e={};lodash_1$1.reduce(d,function(d,g){var f=0,l=0,m=d.length,p=lodash_1$1.last(g);lodash_1$1.forEach(g,function(d,h){var n=findOtherInnerSegmentNode(b,d),q=n?b.node(n).order:m;if(n||d===p)lodash_1$1.forEach(g.slice(l,h+1),function(d){lodash_1$1.forEach(b.predecessors(d),function(g){var h=b.node(g),n=h.order;!(n<f||q<n)||h.dummy&&b.node(d).dummy||addConflict(e,g,d)})}),l=h+1,f=q});return g});return e}
function findType2Conflicts(b,d){function e(d,e,l,m,p){var g;lodash_1$1.forEach(lodash_1$1.range(e,l),function(e){g=d[e];b.node(g).dummy&&lodash_1$1.forEach(b.predecessors(g),function(d){var e=b.node(d);e.dummy&&(e.order<m||e.order>p)&&addConflict(f,d,g)})})}var f={};lodash_1$1.reduce(d,function(d,f){var g=-1,h,p=0;lodash_1$1.forEach(f,function(n,l){"border"===b.node(n).dummy&&(n=b.predecessors(n),n.length&&(h=b.node(n[0]).order,e(f,p,l,g,h),p=l,g=h));e(f,p,f.length,h,d.length)});return f});return f}
function findOtherInnerSegmentNode(b,d){if(b.node(d).dummy)return lodash_1$1.find(b.predecessors(d),function(d){return b.node(d).dummy})}function addConflict(b,d,e){if(d>e){var f=d;d=e;e=f}(f=b[d])||(b[d]=f={});f[e]=!0}function hasConflict(b,d,e){if(d>e){var f=d;d=e;e=f}return lodash_1$1.has(b[d],e)}
function verticalAlignment(b,d,e,f){var g={},h={},l={};lodash_1$1.forEach(d,function(b){lodash_1$1.forEach(b,function(b,d){g[b]=b;h[b]=b;l[b]=d})});lodash_1$1.forEach(d,function(b){var d=-1;lodash_1$1.forEach(b,function(b){var n=f(b);if(n.length){n=lodash_1$1.sortBy(n,function(b){return l[b]});var m=(n.length-1)/2,p=Math.floor(m);for(m=Math.ceil(m);p<=m;++p){var v=n[p];h[b]===b&&d<l[v]&&!hasConflict(e,b,v)&&(h[v]=b,h[b]=g[b]=g[v],d=l[v])}}})});return{root:g,align:h}}
function horizontalCompaction(b,d,e,f,g){function h(b,d){for(var e=m.nodes(),f=e.pop(),g={};f;)g[f]?b(f):(g[f]=!0,e.push(f),e=e.concat(d(f))),f=e.pop()}var l={},m=buildBlockGraph(b,d,e,g),p=g?"borderLeft":"borderRight";h(function(b){l[b]=m.inEdges(b).reduce(function(b,d){return Math.max(b,l[d.v]+m.edge(d))},0)},m.predecessors.bind(m));h(function(d){var e=m.outEdges(d).reduce(function(b,d){return Math.min(b,l[d.w]-m.edge(d))},Number.POSITIVE_INFINITY),f=b.node(d);e!==Number.POSITIVE_INFINITY&&f.borderType!==
p&&(l[d]=Math.max(l[d],e))},m.successors.bind(m));lodash_1$1.forEach(f,function(b){l[b]=l[e[b]]});return l}function buildBlockGraph(b,d,e,f){var g=new Graph$2,h=b.graph(),l=sep(h.nodesep,h.edgesep,f);lodash_1$1.forEach(d,function(d){var f;lodash_1$1.forEach(d,function(d){var h=e[d];g.setNode(h);if(f){var n=e[f],m=g.edge(n,h);g.setEdge(n,h,Math.max(l(b,d,f),m||0))}f=d})});return g}
function findSmallestWidthAlignment(b,d){return lodash_1$1.minBy(lodash_1$1.values(d),function(d){var e=Number.NEGATIVE_INFINITY,g=Number.POSITIVE_INFINITY;lodash_1$1.forIn(d,function(d,f){f=width(b,f)/2;e=Math.max(d+f,e);g=Math.min(d-f,g)});return e-g})}
function alignCoordinates(b,d){var e=lodash_1$1.values(d),f=lodash_1$1.min(e),g=lodash_1$1.max(e);lodash_1$1.forEach(["u","d"],function(e){lodash_1$1.forEach(["l","r"],function(h){var l=e+h,p=b[l],n;if(p!==d){var q=lodash_1$1.values(p);(n="l"===h?f-lodash_1$1.min(q):g-lodash_1$1.max(q))&&(b[l]=lodash_1$1.mapValues(p,function(b){return b+n}))}})})}
function balance(b,d){return lodash_1$1.mapValues(b.ul,function(e,f){if(d)return b[d.toLowerCase()][f];e=lodash_1$1.sortBy(lodash_1$1.map(b,f));return(e[1]+e[2])/2})}
function positionX$1(b){var d=util$2.buildLayerMatrix(b),e=lodash_1$1.merge(findType1Conflicts(b,d),findType2Conflicts(b,d)),f={},g;lodash_1$1.forEach(["u","d"],function(h){g="u"===h?d:lodash_1$1.values(d).reverse();lodash_1$1.forEach(["l","r"],function(d){"r"===d&&(g=lodash_1$1.map(g,function(b){return lodash_1$1.values(b).reverse()}));var l=("u"===h?b.predecessors:b.successors).bind(b);l=verticalAlignment(b,g,e,l);l=horizontalCompaction(b,g,l.root,l.align,"r"===d);"r"===d&&(l=lodash_1$1.mapValues(l,
function(b){return-b}));f[h+d]=l})});var h=findSmallestWidthAlignment(b,f);alignCoordinates(f,h);return balance(f,b.graph().align)}
function sep(b,d,e){return function(f,g,h){g=f.node(g);f=f.node(h);h=g.width/2;if(lodash_1$1.has(g,"labelpos"))switch(g.labelpos.toLowerCase()){case "l":var l=-g.width/2;break;case "r":l=g.width/2}l&&(h+=e?l:-l);l=0;h+=(g.dummy?d:b)/2;h+=(f.dummy?d:b)/2;h+=f.width/2;if(lodash_1$1.has(f,"labelpos"))switch(f.labelpos.toLowerCase()){case "l":l=f.width/2;break;case "r":l=-f.width/2}l&&(h+=e?l:-l);return h}}function width(b,d){return b.node(d).width}var positionX=bk.positionX,position_1=position;
function position(b){b=util$2.asNonCompoundGraph(b);positionY(b);lodash_1$1.forEach(positionX(b),function(d,e){b.node(e).x=d})}function positionY(b){var d=util$2.buildLayerMatrix(b),e=b.graph().ranksep,f=0;lodash_1$1.forEach(d,function(d){var g=lodash_1$1.max(lodash_1$1.map(d,function(d){return b.node(d).height}));lodash_1$1.forEach(d,function(d){b.node(d).y=f+g/2});f+=g+e})}var normalizeRanks=util$2.normalizeRanks,removeEmptyRanks=util$2.removeEmptyRanks,Graph$1=graphlib_1$1.Graph,layout_1=layout$1;
function layout$1(b,d){var e=d&&d.debugTiming?util$2.time:util$2.notime;e("layout",function(){var d=e("  buildLayoutGraph",function(){return buildLayoutGraph(b)});e("  runLayout",function(){runLayout(d,e)});e("  updateInputGraph",function(){updateInputGraph(b,d)})})}
function runLayout(b,d){d("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(b)});d("    removeSelfEdges",function(){removeSelfEdges(b)});d("    acyclic",function(){acyclic.run(b)});d("    nestingGraph.run",function(){nestingGraph.run(b)});d("    rank",function(){rank_1(util$2.asNonCompoundGraph(b))});d("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(b)});d("    removeEmptyRanks",function(){removeEmptyRanks(b)});d("    nestingGraph.cleanup",function(){nestingGraph.cleanup(b)});
d("    normalizeRanks",function(){normalizeRanks(b)});d("    assignRankMinMax",function(){assignRankMinMax(b)});d("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(b)});d("    normalize.run",function(){normalize.run(b)});d("    parentDummyChains",function(){parentDummyChains_1(b)});d("    addBorderSegments",function(){addBorderSegments_1(b)});d("    order",function(){order_1(b)});d("    insertSelfEdges",function(){insertSelfEdges(b)});d("    adjustCoordinateSystem",function(){coordinateSystem.adjust(b)});
d("    position",function(){position_1(b)});d("    positionSelfEdges",function(){positionSelfEdges(b)});d("    removeBorderNodes",function(){removeBorderNodes(b)});d("    normalize.undo",function(){normalize.undo(b)});d("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(b)});d("    undoCoordinateSystem",function(){coordinateSystem.undo(b)});d("    translateGraph",function(){translateGraph(b)});d("    assignNodeIntersects",function(){assignNodeIntersects(b)});d("    reversePoints",function(){reversePointsForReversedEdges(b)});
d("    acyclic.undo",function(){acyclic.undo(b)})}function updateInputGraph(b,d){lodash_1$1.forEach(b.nodes(),function(e){var f=b.node(e),g=d.node(e);f&&(f.x=g.x,f.y=g.y,d.children(e).length&&(f.width=g.width,f.height=g.height))});lodash_1$1.forEach(b.edges(),function(e){var f=b.edge(e);e=d.edge(e);f.points=e.points;lodash_1$1.has(e,"x")&&(f.x=e.x,f.y=e.y)});b.graph().width=d.graph().width;b.graph().height=d.graph().height}
var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];
function buildLayoutGraph(b){var d=new Graph$1({multigraph:!0,compound:!0}),e=canonicalize(b.graph());d.setGraph(lodash_1$1.merge({},graphDefaults,selectNumberAttrs(e,graphNumAttrs),lodash_1$1.pick(e,graphAttrs)));lodash_1$1.forEach(b.nodes(),function(e){var f=canonicalize(b.node(e));d.setNode(e,lodash_1$1.defaults(selectNumberAttrs(f,nodeNumAttrs),nodeDefaults));d.setParent(e,b.parent(e))});lodash_1$1.forEach(b.edges(),function(e){var f=canonicalize(b.edge(e));d.setEdge(e,lodash_1$1.merge({},edgeDefaults,
selectNumberAttrs(f,edgeNumAttrs),lodash_1$1.pick(f,edgeAttrs)))});return d}function makeSpaceForEdgeLabels(b){var d=b.graph();d.ranksep/=2;lodash_1$1.forEach(b.edges(),function(e){e=b.edge(e);e.minlen*=2;"c"!==e.labelpos.toLowerCase()&&("TB"===d.rankdir||"BT"===d.rankdir?e.width+=e.labeloffset:e.height+=e.labeloffset)})}
function injectEdgeLabelProxies(b){lodash_1$1.forEach(b.edges(),function(d){var e=b.edge(d);e.width&&e.height&&(e=b.node(d.v),d={rank:(b.node(d.w).rank-e.rank)/2+e.rank,e:d},util$2.addDummyNode(b,"edge-proxy",d,"_ep"))})}function assignRankMinMax(b){var d=0;lodash_1$1.forEach(b.nodes(),function(e){e=b.node(e);e.borderTop&&(e.minRank=b.node(e.borderTop).rank,e.maxRank=b.node(e.borderBottom).rank,d=lodash_1$1.max(d,e.maxRank))});b.graph().maxRank=d}
function removeEdgeLabelProxies(b){lodash_1$1.forEach(b.nodes(),function(d){var e=b.node(d);"edge-proxy"===e.dummy&&(b.edge(e.e).labelRank=e.rank,b.removeNode(d))})}
function translateGraph(b){function d(b){var d=b.x,l=b.y,n=b.width;b=b.height;e=Math.min(e,d-n/2);f=Math.max(f,d+n/2);g=Math.min(g,l-b/2);h=Math.max(h,l+b/2)}var e=Number.POSITIVE_INFINITY,f=0,g=Number.POSITIVE_INFINITY,h=0,l=b.graph(),m=l.marginx||0,p=l.marginy||0;lodash_1$1.forEach(b.nodes(),function(e){d(b.node(e))});lodash_1$1.forEach(b.edges(),function(e){e=b.edge(e);lodash_1$1.has(e,"x")&&d(e)});e-=m;g-=p;lodash_1$1.forEach(b.nodes(),function(d){d=b.node(d);d.x-=e;d.y-=g});lodash_1$1.forEach(b.edges(),
function(d){d=b.edge(d);lodash_1$1.forEach(d.points,function(b){b.x-=e;b.y-=g});lodash_1$1.has(d,"x")&&(d.x-=e);lodash_1$1.has(d,"y")&&(d.y-=g)});l.width=f-e+m;l.height=h-g+p}function assignNodeIntersects(b){lodash_1$1.forEach(b.edges(),function(d){var e=b.edge(d),f=b.node(d.v);d=b.node(d.w);if(e.points){var g=e.points[0];var h=e.points[e.points.length-1]}else e.points=[],g=d,h=f;e.points.unshift(util$2.intersectRect(f,g));e.points.push(util$2.intersectRect(d,h))})}
function fixupEdgeLabelCoords(b){lodash_1$1.forEach(b.edges(),function(d){d=b.edge(d);if(lodash_1$1.has(d,"x")){if("l"===d.labelpos||"r"===d.labelpos)d.width-=d.labeloffset;switch(d.labelpos){case "l":d.x-=d.width/2+d.labeloffset;break;case "r":d.x+=d.width/2+d.labeloffset}}})}function reversePointsForReversedEdges(b){lodash_1$1.forEach(b.edges(),function(d){d=b.edge(d);d.reversed&&d.points.reverse()})}
function removeBorderNodes(b){lodash_1$1.forEach(b.nodes(),function(d){if(b.children(d).length){d=b.node(d);var e=b.node(d.borderTop),f=b.node(d.borderBottom),g=b.node(lodash_1$1.last(d.borderLeft)),h=b.node(lodash_1$1.last(d.borderRight));d.width=Math.abs(h.x-g.x);d.height=Math.abs(f.y-e.y);d.x=g.x+d.width/2;d.y=e.y+d.height/2}});lodash_1$1.forEach(b.nodes(),function(d){"border"===b.node(d).dummy&&b.removeNode(d)})}
function removeSelfEdges(b){lodash_1$1.forEach(b.edges(),function(d){if(d.v===d.w){var e=b.node(d.v);e.selfEdges||(e.selfEdges=[]);e.selfEdges.push({e:d,label:b.edge(d)});b.removeEdge(d)}})}
function insertSelfEdges(b){var d=util$2.buildLayerMatrix(b);lodash_1$1.forEach(d,function(d){var e=0;lodash_1$1.forEach(d,function(d,f){var g=b.node(d);g.order=f+e;lodash_1$1.forEach(g.selfEdges,function(d){util$2.addDummyNode(b,"selfedge",{width:d.label.width,height:d.label.height,rank:g.rank,order:f+ ++e,e:d.e,label:d.label},"_se")});delete g.selfEdges})})}
function positionSelfEdges(b){lodash_1$1.forEach(b.nodes(),function(d){var e=b.node(d);if("selfedge"===e.dummy){var f=b.node(e.e.v),g=f.x+f.width/2,h=f.y,l=e.x-g;f=f.height/2;b.setEdge(e.e,e.label);b.removeNode(d);e.label.points=[{x:g+2*l/3,y:h-f},{x:g+5*l/6,y:h-f},{x:g+l,y:h},{x:g+5*l/6,y:h+f},{x:g+2*l/3,y:h+f}];e.label.x=e.x;e.label.y=e.y}})}function selectNumberAttrs(b,d){return lodash_1$1.mapValues(lodash_1$1.pick(b,d),Number)}
function canonicalize(b){var d={};lodash_1$1.forEach(b,function(b,f){d[f.toLowerCase()]=b});return d}var Graph=graphlib_1$1.Graph,debug={debugOrdering};
function debugOrdering(b){var d=util$2.buildLayerMatrix(b),e=(new Graph({compound:!0,multigraph:!0})).setGraph({});lodash_1$1.forEach(b.nodes(),function(d){e.setNode(d,{label:d});e.setParent(d,"layer"+b.node(d).rank)});lodash_1$1.forEach(b.edges(),function(b){e.setEdge(b.v,b.w,{},b.name)});lodash_1$1.forEach(d,function(b,d){e.setNode("layer"+d,{rank:"same"});lodash_1$1.reduce(b,function(b,d){e.setEdge(b,d,{style:"invis"});return d})});return e}
var version$1="0.8.5",dagre$1={graphlib:graphlib_1$1,layout:layout_1,debug,util:{time:util$2.time,notime:util$2.notime},version:version$1},graphlib;if("function"===typeof commonjsRequire)try{graphlib=graphlib$2}catch(b){}graphlib||(graphlib=window.graphlib);var graphlib_1=graphlib,dagre;if("function"===typeof commonjsRequire)try{dagre=dagre$1}catch(b){}dagre||(dagre=window.dagre);var dagre_1=dagre,intersectNode_1=intersectNode;function intersectNode(b,d){return b.intersect(d)}
var intersectEllipse_1=intersectEllipse;function intersectEllipse(b,d,e,f){var g=b.x;b=b.y;var h=g-f.x,l=b-f.y,m=Math.sqrt(d*d*l*l+e*e*h*h);h=Math.abs(d*e*h/m);f.x<g&&(h=-h);d=Math.abs(d*e*l/m);f.y<b&&(d=-d);return{x:g+h,y:b+d}}var intersectCircle_1=intersectCircle;function intersectCircle(b,d,e){return intersectEllipse_1(b,d,d,e)}var intersectLine_1=intersectLine;
function intersectLine(b,d,e,f){var g=d.y-b.y;var h=b.x-d.x;var l=d.x*b.y-b.x*d.y;var m=g*e.x+h*e.y+l;var p=g*f.x+h*f.y+l;if(0===m||0===p||!sameSign(m,p))if(m=f.y-e.y,p=e.x-f.x,e=f.x*e.y-e.x*f.y,b=m*b.x+p*b.y+e,d=m*d.x+p*d.y+e,0===b||0===d||!sameSign(b,d))if(d=g*p-m*h,0!==d)return b=Math.abs(d/2),h=h*e-p*l,p=0>h?(h-b)/d:(h+b)/d,h=m*l-g*e,{x:p,y:0>h?(h-b)/d:(h+b)/d}}function sameSign(b,d){return 0<b*d}var intersectPolygon_1=intersectPolygon;
function intersectPolygon(b,d,e){var f=b.x,g=b.y,h=[],l=Number.POSITIVE_INFINITY,m=Number.POSITIVE_INFINITY;d.forEach(function(b){l=Math.min(l,b.x);m=Math.min(m,b.y)});f=f-b.width/2-l;g=g-b.height/2-m;for(var p=0;p<d.length;p++){var n=d[p],q=d[p<d.length-1?p+1:0];(n=intersectLine_1(b,e,{x:f+n.x,y:g+n.y},{x:f+q.x,y:g+q.y}))&&h.push(n)}if(!h.length)return console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",b),b;1<h.length&&h.sort(function(b,d){var f=b.x-e.x;b=b.y-e.y;f=Math.sqrt(f*f+b*b);b=d.x-
e.x;d=d.y-e.y;d=Math.sqrt(b*b+d*d);return f<d?-1:f===d?0:1});return h[0]}var intersectRect_1=intersectRect;function intersectRect(b,d){var e=b.x,f=b.y,g=d.x-e;d=d.y-f;var h=b.width/2,l=b.height/2;Math.abs(d)*h>Math.abs(g)*l?(0>d&&(l=-l),b=0===d?0:l*g/d,g=l):(0>g&&(h=-h),b=h,g=0===g?0:h*d/g);return{x:e+b,y:f+g}}var intersect={node:intersectNode_1,circle:intersectCircle_1,ellipse:intersectEllipse_1,polygon:intersectPolygon_1,rect:intersectRect_1},lodash;
if("function"===typeof commonjsRequire)try{lodash={defaults:defaults_1,each,isFunction:isFunction_1,isPlainObject:isPlainObject_1,pick:pick_1,has:has_1,range:range_1,uniqueId:uniqueId_1}}catch(b){}lodash||(lodash=window._);var lodash_1=lodash,require$$1=getAugmentedNamespace(d3$1),d3;if(!d3&&"function"===typeof commonjsRequire)try{d3=require$$1}catch(b){}d3||(d3=window.d3);var d3_1=d3,util={isSubgraph,edgeToId,applyStyle,applyClass,applyTransition};
function isSubgraph(b,d){return!!b.children(d).length}function edgeToId(b){return escapeId(b.v)+":"+escapeId(b.w)+":"+escapeId(b.name)}var ID_DELIM=/:/g;function escapeId(b){return b?String(b).replace(ID_DELIM,"\\:"):""}function applyStyle(b,d){d&&b.attr("style",d)}function applyClass(b,d,e){d&&b.attr("class",d).attr("class",e+" "+b.attr("class"))}function applyTransition(b,d){d=d.graph();return lodash_1.isPlainObject(d)&&(d=d.transition,lodash_1.isFunction(d))?d(b):b}var addTextLabel_1=addTextLabel;
function addTextLabel(b,d){b=b.append("text");for(var e=processEscapeSequences(d.label).split("\n"),f=0;f<e.length;f++)b.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(e[f]);util.applyStyle(b,d.labelStyle);return b}function processEscapeSequences(b){for(var d="",e=!1,f,g=0;g<b.length;++g)if(f=b[g],e){switch(f){case "n":d+="\n";break;default:d+=f}e=!1}else"\\"===f?e=!0:d+=f;return d}var addHtmlLabel_1=addHtmlLabel;
function addHtmlLabel(b,d){b=b.append("foreignObject").attr("width","100000");var e=b.append("xhtml:div");e.attr("xmlns","http://www.w3.org/1999/xhtml");var f=d.label;switch(typeof f){case "function":e.insert(f);break;case "object":e.insert(function(){return f});break;default:e.html(f)}util.applyStyle(e,d.labelStyle);e.style("display","inline-block");e.style("white-space","nowrap");d=e.node().getBoundingClientRect();b.attr("width",d.width).attr("height",d.height);return b}var addSvgLabel=addSVGLabel;
function addSVGLabel(b,d){b.node().appendChild(d.label);util.applyStyle(b,d.labelStyle);return b}var addLabel_1=addLabel;function addLabel(b,d,e){var f=d.label;b=b.append("g");"svg"===d.labelType?addSvgLabel(b,d):"string"!==typeof f||"html"===d.labelType?addHtmlLabel_1(b,d):addTextLabel_1(b,d);f=b.node().getBBox();switch(e){case "top":d=-d.height/2;break;case "bottom":d=d.height/2-f.height;break;default:d=-f.height/2}b.attr("transform","translate("+-f.width/2+","+d+")");return b}
var createNodes_1=createNodes;
function createNodes(b,d,e){var f=d.nodes().filter(function(b){return!util.isSubgraph(d,b)});f=b.selectAll("g.node").data(f,function(b){return b}).classed("update",!0);f.exit().remove();f.enter().append("g").attr("class","node").style("opacity",0);f=b.selectAll("g.node");f.each(function(b){b=d.node(b);var f=d3_1.select(this);util.applyClass(f,b["class"],(f.classed("update")?"update ":"")+"node");f.select("g.label").remove();var g=f.append("g").attr("class","label"),m=addLabel_1(g,b),p=e[b.shape];
m=lodash_1.pick(m.node().getBBox(),"width","height");b.elem=this;b.id&&f.attr("id",b.id);b.labelId&&g.attr("id",b.labelId);lodash_1.has(b,"width")&&(m.width=b.width);lodash_1.has(b,"height")&&(m.height=b.height);m.width+=b.paddingLeft+b.paddingRight;m.height+=b.paddingTop+b.paddingBottom;g.attr("transform","translate("+(b.paddingLeft-b.paddingRight)/2+","+(b.paddingTop-b.paddingBottom)/2+")");f=d3_1.select(this);f.select(".label-container").remove();p=p(f,m,b).classed("label-container",!0);util.applyStyle(p,
b.style);p=p.node().getBBox();b.width=p.width;b.height=p.height});b=f.exit?f.exit():f.selectAll(null);util.applyTransition(b,d).style("opacity",0).remove();return f}var createClusters_1=createClusters;
function createClusters(b,d){var e=d.nodes().filter(function(b){return util.isSubgraph(d,b)});e=b.selectAll("g.cluster").data(e,function(b){return b});e.selectAll("*").remove();e.enter().append("g").attr("class","cluster").attr("id",function(b){return d.node(b).id}).style("opacity",0);e=b.selectAll("g.cluster");util.applyTransition(e,d).style("opacity",1);e.each(function(b){b=d.node(b);var e=d3_1.select(this);d3_1.select(this).append("rect");e=e.append("g").attr("class","label");addLabel_1(e,b,b.clusterLabelPos)});
e.selectAll("rect").each(function(b){b=d.node(b);var e=d3_1.select(this);util.applyStyle(e,b.style)});b=e.exit?e.exit():e.selectAll(null);util.applyTransition(b,d).style("opacity",0).remove();return e}var createEdgeLabels_1=createEdgeLabels;
function createEdgeLabels(b,d){var e=b.selectAll("g.edgeLabel").data(d.edges(),function(b){return util.edgeToId(b)}).classed("update",!0);e.exit().remove();e.enter().append("g").classed("edgeLabel",!0).style("opacity",0);e=b.selectAll("g.edgeLabel");e.each(function(b){var e=d3_1.select(this);e.select(".label").remove();var f=d.edge(b);b=addLabel_1(e,d.edge(b),0).classed("label",!0);e=b.node().getBBox();f.labelId&&b.attr("id",f.labelId);lodash_1.has(f,"width")||(f.width=e.width);lodash_1.has(f,"height")||
(f.height=e.height)});b=e.exit?e.exit():e.selectAll(null);util.applyTransition(b,d).style("opacity",0).remove();return e}var createEdgePaths_1=createEdgePaths;
function createEdgePaths(b,d,e){b=b.selectAll("g.edgePath").data(d.edges(),function(b){return util.edgeToId(b)}).classed("update",!0);var f=enter(b,d);exit(b,d);b=void 0!==b.merge?b.merge(f):b;util.applyTransition(b,d).style("opacity",1);b.each(function(b){var e=d3_1.select(this);b=d.edge(b);b.elem=this;b.id&&e.attr("id",b.id);util.applyClass(e,b["class"],(e.classed("update")?"update ":"")+"edgePath")});b.selectAll("path.path").each(function(b){var e=d.edge(b);e.arrowheadId=lodash_1.uniqueId("arrowhead");
b=d3_1.select(this).attr("marker-end",function(){return"url("+makeFragmentRef(location.href,e.arrowheadId)+")"}).style("fill","none");util.applyTransition(b,d).attr("d",function(b){return calcPoints(d,b)});util.applyStyle(b,e.style)});b.selectAll("defs *").remove();b.selectAll("defs").each(function(b){b=d.edge(b);(0,e[b.arrowhead])(d3_1.select(this),b.arrowheadId,b,"arrowhead")});return b}function makeFragmentRef(b,d){return b.split("#")[0]+"#"+d}
function calcPoints(b,d){var e=b.edge(d),f=b.node(d.v);b=b.node(d.w);d=e.points.slice(1,e.points.length-1);d.unshift(intersectNode_1(f,d[0]));d.push(intersectNode_1(b,d[d.length-1]));return createLine(e,d)}function createLine(b,d){var e=(d3_1.line||d3_1.svg.line)().x(function(b){return b.x}).y(function(b){return b.y});(e.curve||e.interpolate)(b.curve);return e(d)}
function getCoords(b){var d=b.getBBox();b=b.ownerSVGElement.getScreenCTM().inverse().multiply(b.getScreenCTM()).translate(d.width/2,d.height/2);return{x:b.e,y:b.f}}function enter(b,d){b=b.enter().append("g").attr("class","edgePath").style("opacity",0);b.append("path").attr("class","path").attr("d",function(b){var e=d.edge(b),g=d.node(b.v).elem;b=lodash_1.range(e.points.length).map(function(){return getCoords(g)});return createLine(e,b)});b.append("defs");return b}
function exit(b,d){b=b.exit();util.applyTransition(b,d).style("opacity",0).remove()}var positionNodes_1=positionNodes;function positionNodes(b,d){function e(b){b=d.node(b);return"translate("+b.x+","+b.y+")"}b.filter(function(){return!d3_1.select(this).classed("update")}).attr("transform",e);util.applyTransition(b,d).style("opacity",1).attr("transform",e)}var positionEdgeLabels_1=positionEdgeLabels;
function positionEdgeLabels(b,d){function e(b){b=d.edge(b);return lodash_1.has(b,"x")?"translate("+b.x+","+b.y+")":""}b.filter(function(){return!d3_1.select(this).classed("update")}).attr("transform",e);util.applyTransition(b,d).style("opacity",1).attr("transform",e)}var positionClusters_1=positionClusters;
function positionClusters(b,d){function e(b){b=d.node(b);return"translate("+b.x+","+b.y+")"}var f=b.filter(function(){return!d3_1.select(this).classed("update")});f.attr("transform",e);util.applyTransition(b,d).style("opacity",1).attr("transform",e);util.applyTransition(f.selectAll("rect"),d).attr("width",function(b){return d.node(b).width}).attr("height",function(b){return d.node(b).height}).attr("x",function(b){return-d.node(b).width/2}).attr("y",function(b){return-d.node(b).height/2})}
var shapes={rect,ellipse,circle,diamond};function rect(b,d,e){b=b.insert("rect",":first-child").attr("rx",e.rx).attr("ry",e.ry).attr("x",-d.width/2).attr("y",-d.height/2).attr("width",d.width).attr("height",d.height);e.intersect=function(b){return intersectRect_1(e,b)};return b}
function ellipse(b,d,e){var f=d.width/2,g=d.height/2;b=b.insert("ellipse",":first-child").attr("x",-d.width/2).attr("y",-d.height/2).attr("rx",f).attr("ry",g);e.intersect=function(b){return intersectEllipse_1(e,f,g,b)};return b}function circle(b,d,e){var f=Math.max(d.width,d.height)/2;b=b.insert("circle",":first-child").attr("x",-d.width/2).attr("y",-d.height/2).attr("r",f);e.intersect=function(b){return intersectCircle_1(e,f,b)};return b}
function diamond(b,d,e){var f=d.width*Math.SQRT2/2;d=d.height*Math.SQRT2/2;var g=[{x:0,y:-d},{x:-f,y:0},{x:0,y:d},{x:f,y:0}];b=b.insert("polygon",":first-child").attr("points",g.map(function(b){return b.x+","+b.y}).join(" "));e.intersect=function(b){return intersectPolygon_1(e,g,b)};return b}var arrows={"default":normal,normal,vee,undirected};
function normal(b,d,e,f){b=b.append("marker").attr("id",d).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");util.applyStyle(b,e[f+"Style"]);e[f+"Class"]&&b.attr("class",e[f+"Class"])}
function vee(b,d,e,f){b=b.append("marker").attr("id",d).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");util.applyStyle(b,e[f+"Style"]);e[f+"Class"]&&b.attr("class",e[f+"Class"])}
function undirected(b,d,e,f){b=b.append("marker").attr("id",d).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");util.applyStyle(b,e[f+"Style"]);e[f+"Class"]&&b.attr("class",e[f+"Class"])}var layout=dagre_1.layout,render_1=render;
function render(){var b=createNodes_1,d=createClusters_1,e=createEdgeLabels_1,f=createEdgePaths_1,g=positionNodes_1,h=positionEdgeLabels_1,l=positionClusters_1,m=shapes,p=arrows,n=function(n,r){preProcessGraph(r);var q=createOrSelectGroup(n,"output");n=createOrSelectGroup(q,"clusters");var v=createOrSelectGroup(q,"edgePaths"),u=e(createOrSelectGroup(q,"edgeLabels"),r);q=b(createOrSelectGroup(q,"nodes"),r,m);layout(r);g(q,r);h(u,r);f(v,r,p);n=d(n,r);l(n,r);postProcessGraph(r)};n.createNodes=function(d){if(!arguments.length)return b;
b=d;return n};n.createClusters=function(b){if(!arguments.length)return d;d=b;return n};n.createEdgeLabels=function(b){if(!arguments.length)return e;e=b;return n};n.createEdgePaths=function(b){if(!arguments.length)return f;f=b;return n};n.shapes=function(b){if(!arguments.length)return m;m=b;return n};n.arrows=function(b){if(!arguments.length)return p;p=b;return n};return n}
var NODE_DEFAULT_ATTRS={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},EDGE_DEFAULT_ATTRS={arrowhead:"normal",curve:d3_1.curveLinear};
function preProcessGraph(b){b.nodes().forEach(function(d){var e=b.node(d);lodash_1.has(e,"label")||b.children(d).length||(e.label=d);lodash_1.has(e,"paddingX")&&lodash_1.defaults(e,{paddingLeft:e.paddingX,paddingRight:e.paddingX});lodash_1.has(e,"paddingY")&&lodash_1.defaults(e,{paddingTop:e.paddingY,paddingBottom:e.paddingY});lodash_1.has(e,"padding")&&lodash_1.defaults(e,{paddingLeft:e.padding,paddingRight:e.padding,paddingTop:e.padding,paddingBottom:e.padding});lodash_1.defaults(e,NODE_DEFAULT_ATTRS);
lodash_1.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(b){e[b]=Number(e[b])});lodash_1.has(e,"width")&&(e._prevWidth=e.width);lodash_1.has(e,"height")&&(e._prevHeight=e.height)});b.edges().forEach(function(d){d=b.edge(d);lodash_1.has(d,"label")||(d.label="");lodash_1.defaults(d,EDGE_DEFAULT_ATTRS)})}
function postProcessGraph(b){lodash_1.each(b.nodes(),function(d){d=b.node(d);lodash_1.has(d,"_prevWidth")?d.width=d._prevWidth:delete d.width;lodash_1.has(d,"_prevHeight")?d.height=d._prevHeight:delete d.height;delete d._prevWidth;delete d._prevHeight})}function createOrSelectGroup(b,d){var e=b.select("g."+d);e.empty()&&(e=b.append("g").attr("class",d));return e}var version="0.6.4",dagreD3={graphlib:graphlib_1,dagre:dagre_1,intersect,render:render_1,util,version},decoder;
function decode(b){decoder=decoder||document.createElement("div");b=escape(b).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";");decoder.innerHTML=b;return unescape(decoder.textContent)}
var browser=Object.freeze({__proto__:null,"default":decode}),Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:function(b){return 255<=b?255:0>b?0:b},g:function(b){return 255<=b?255:0>b?0:b},b:function(b){return 255<=b?255:0>b?0:b},h:function(b){return b%360},s:function(b){return 100<=b?100:0>b?0:b},l:function(b){return 100<=b?100:0>b?0:b},a:function(b){return 1<=b?1:0>b?0:b}},toLinear:function(b){var d=b/255;return.03928<b?Math.pow((d+.055)/1.055,2.4):
d/12.92},hue2rgb:function(b,d,e){0>e&&(e+=1);1<e&&--e;return e<1/6?b+6*(d-b)*e:.5>e?d:e<2/3?b+(d-b)*(2/3-e)*6:b},hsl2rgb:function(b,d){var e=b.h,f=b.s;b=b.l;if(100===f)return 2.55*b;e/=360;f/=100;b/=100;f=.5>b?b*(1+f):b+f-b*f;b=2*b-f;switch(d){case "r":return 255*Channel.hue2rgb(b,f,e+1/3);case "g":return 255*Channel.hue2rgb(b,f,e);case "b":return 255*Channel.hue2rgb(b,f,e-1/3)}},rgb2hsl:function(b,d){var e=b.r,f=b.g;b=b.b;e/=255;f/=255;b/=255;var g=Math.max(e,f,b),h=Math.min(e,f,b),l=(g+h)/2;if("l"===
d)return 100*l;if(g===h)return 0;var m=g-h;if("s"===d)return 100*(.5<l?m/(2-g-h):m/(g+h));switch(g){case e:return 60*((f-b)/m+(f<b?6:0));case f:return 60*((b-e)/m+2);case b:return 60*((e-f)/m+4);default:return-1}}},_default$D=Channel,channel$2=Object.defineProperty({default:_default$D},"__esModule",{value:!0}),Lang={round:function(b){return Math.round(1E10*b)/1E10}},_default$C=Lang,lang=Object.defineProperty({default:_default$C},"__esModule",{value:!0}),Unit={frac2hex:function(b){b=Math.round(255*
b).toString(16);return 1<b.length?b:"0"+b},dec2hex:function(b){b=Math.round(b).toString(16);return 1<b.length?b:"0"+b}},_default$B=Unit,unit=Object.defineProperty({default:_default$B},"__esModule",{value:!0}),Utils={channel:channel$2.default,lang:lang.default,unit:unit.default},_default$A=Utils,utils=Object.defineProperty({default:_default$A},"__esModule",{value:!0}),TYPE;(function(b){b[b.ALL=0]="ALL";b[b.RGB=1]="RGB";b[b.HSL=2]="HSL"})(TYPE||(TYPE={}));
for(var TYPE_1=TYPE,types=Object.defineProperty({TYPE:TYPE_1},"__esModule",{value:!0}),Type=function(){function b(){this.type=types.TYPE.ALL}b.prototype.get=function(){return this.type};b.prototype.set=function(b){if(this.type&&this.type!==b)throw Error("Cannot change both RGB and HSL channels at the same time");this.type=b};b.prototype.reset=function(){this.type=types.TYPE.ALL};b.prototype.is=function(b){return this.type===b};return b}(),_default$z=Type,type=Object.defineProperty({default:_default$z},
"__esModule",{value:!0}),Channels=function(){function b(b,e){this.color=e;this.changed=!1;this.data=b;this.type=new type.default}b.prototype.set=function(b,e){this.color=e;this.changed=!1;this.data=b;this.type.type=types.TYPE.ALL;return this};b.prototype._ensureHSL=function(){void 0===this.data.h&&(this.data.h=utils.default.channel.rgb2hsl(this.data,"h"));void 0===this.data.s&&(this.data.s=utils.default.channel.rgb2hsl(this.data,"s"));void 0===this.data.l&&(this.data.l=utils.default.channel.rgb2hsl(this.data,
"l"))};b.prototype._ensureRGB=function(){void 0===this.data.r&&(this.data.r=utils.default.channel.hsl2rgb(this.data,"r"));void 0===this.data.g&&(this.data.g=utils.default.channel.hsl2rgb(this.data,"g"));void 0===this.data.b&&(this.data.b=utils.default.channel.hsl2rgb(this.data,"b"))};Object.defineProperty(b.prototype,"r",{get:function(){if(!this.type.is(types.TYPE.HSL)&&void 0!==this.data.r)return this.data.r;this._ensureHSL();return utils.default.channel.hsl2rgb(this.data,"r")},set:function(b){this.type.set(types.TYPE.RGB);
this.changed=!0;this.data.r=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"g",{get:function(){if(!this.type.is(types.TYPE.HSL)&&void 0!==this.data.g)return this.data.g;this._ensureHSL();return utils.default.channel.hsl2rgb(this.data,"g")},set:function(b){this.type.set(types.TYPE.RGB);this.changed=!0;this.data.g=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"b",{get:function(){if(!this.type.is(types.TYPE.HSL)&&void 0!==this.data.b)return this.data.b;this._ensureHSL();
return utils.default.channel.hsl2rgb(this.data,"b")},set:function(b){this.type.set(types.TYPE.RGB);this.changed=!0;this.data.b=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"h",{get:function(){if(!this.type.is(types.TYPE.RGB)&&void 0!==this.data.h)return this.data.h;this._ensureRGB();return utils.default.channel.rgb2hsl(this.data,"h")},set:function(b){this.type.set(types.TYPE.HSL);this.changed=!0;this.data.h=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"s",{get:function(){if(!this.type.is(types.TYPE.RGB)&&void 0!==this.data.s)return this.data.s;this._ensureRGB();return utils.default.channel.rgb2hsl(this.data,"s")},set:function(b){this.type.set(types.TYPE.HSL);this.changed=!0;this.data.s=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"l",{get:function(){if(!this.type.is(types.TYPE.RGB)&&void 0!==this.data.l)return this.data.l;this._ensureRGB();return utils.default.channel.rgb2hsl(this.data,"l")},set:function(b){this.type.set(types.TYPE.HSL);
this.changed=!0;this.data.l=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"a",{get:function(){return this.data.a},set:function(b){this.changed=!0;this.data.a=b},enumerable:!0,configurable:!0});return b}(),_default$y=Channels,channels$1=Object.defineProperty({default:_default$y},"__esModule",{value:!0}),channels=new channels$1.default({r:0,g:0,b:0,a:0},"transparent"),_default$x=channels,reusable=Object.defineProperty({default:_default$x},"__esModule",{value:!0}),DEC2HEX={},DEC2HEX_1=
DEC2HEX,i=0;255>=i;i++)DEC2HEX[i]=utils.default.unit.dec2hex(i);
var consts=Object.defineProperty({DEC2HEX:DEC2HEX_1},"__esModule",{value:!0}),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:function(b){if(35===b.charCodeAt(0)){var d=b.match(Hex.re);if(d){var e=d[1];d=parseInt(e,16);var f=e.length;e=0===f%4;var g=4<f;f=g?1:17;var h=g?8:4,l=e?0:-1;g=g?255:15;return reusable.default.set({r:(d>>h*(l+3)&g)*f,g:(d>>h*(l+2)&g)*f,b:(d>>h*(l+1)&g)*f,a:e?(d&g)*f/255:1},b)}}},stringify:function(b){return 1>b.a?"#"+consts.DEC2HEX[Math.round(b.r)]+consts.DEC2HEX[Math.round(b.g)]+
consts.DEC2HEX[Math.round(b.b)]+utils.default.unit.frac2hex(b.a):"#"+consts.DEC2HEX[Math.round(b.r)]+consts.DEC2HEX[Math.round(b.g)]+consts.DEC2HEX[Math.round(b.b)]}},_default$w=Hex,hex$1=Object.defineProperty({default:_default$w},"__esModule",{value:!0}),Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",
cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",
darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",
lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",
mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",
peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",
violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:function(b){b=b.toLowerCase();if(b=Keyword.colors[b])return hex$1.default.parse(b)},stringify:function(b){b=hex$1.default.stringify(b);for(var d in Keyword.colors)if(Keyword.colors[d]===b)return d}},_default$v=Keyword,keyword=Object.defineProperty({default:_default$v},"__esModule",{value:!0}),RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,
parse:function(b){var d=b.charCodeAt(0);if(114===d||82===d)if(d=b.match(RGB.re)){var e=d[1],f=d[3],g=d[4],h=d[5],l=d[6],m=d[7],p=d[8];return reusable.default.set({r:utils.default.channel.clamp.r(d[2]?2.55*parseFloat(e):parseFloat(e)),g:utils.default.channel.clamp.g(g?2.55*parseFloat(f):parseFloat(f)),b:utils.default.channel.clamp.b(l?2.55*parseFloat(h):parseFloat(h)),a:m?utils.default.channel.clamp.a(p?parseFloat(m)/100:parseFloat(m)):1},b)}},stringify:function(b){return 1>b.a?"rgba("+utils.default.lang.round(b.r)+
", "+utils.default.lang.round(b.g)+", "+utils.default.lang.round(b.b)+", "+utils.default.lang.round(b.a)+")":"rgb("+utils.default.lang.round(b.r)+", "+utils.default.lang.round(b.g)+", "+utils.default.lang.round(b.b)+")"}},_default$u=RGB,rgb$1=Object.defineProperty({default:_default$u},"__esModule",{value:!0}),HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,
hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:function(b){var d=b.match(HSL.hueRe);if(d){var e=d[1];switch(d[2]){case "grad":return utils.default.channel.clamp.h(.9*parseFloat(e));case "rad":return utils.default.channel.clamp.h(180*parseFloat(e)/Math.PI);case "turn":return utils.default.channel.clamp.h(360*parseFloat(e))}}return utils.default.channel.clamp.h(parseFloat(b))},parse:function(b){var d=b.charCodeAt(0);if(104===d||72===d)if(d=b.match(HSL.re)){var e=d[2],f=d[3],g=d[4],h=d[5];return reusable.default.set({h:HSL._hue2deg(d[1]),
s:utils.default.channel.clamp.s(parseFloat(e)),l:utils.default.channel.clamp.l(parseFloat(f)),a:g?utils.default.channel.clamp.a(h?parseFloat(g)/100:parseFloat(g)):1},b)}},stringify:function(b){return 1>b.a?"hsla("+utils.default.lang.round(b.h)+", "+utils.default.lang.round(b.s)+"%, "+utils.default.lang.round(b.l)+"%, "+b.a+")":"hsl("+utils.default.lang.round(b.h)+", "+utils.default.lang.round(b.s)+"%, "+utils.default.lang.round(b.l)+"%)"}},_default$t=HSL,hsl$1=Object.defineProperty({default:_default$t},
"__esModule",{value:!0}),Color={format:{keyword:keyword.default,hex:hex$1.default,rgb:rgb$1.default,rgba:rgb$1.default,hsl:hsl$1.default,hsla:hsl$1.default},toKeyword:function(b){return keyword.default.stringify(Color.parse(b))},toHex:function(b){return hex$1.default.stringify(Color.parse(b))},toRgba:function(b){return rgb$1.default.stringify(Color.parse(b))},toHsla:function(b){return hsl$1.default.stringify(Color.parse(b))},parse:function(b){if("string"!==typeof b)return b;var d=hex$1.default.parse(b)||
rgb$1.default.parse(b)||hsl$1.default.parse(b)||keyword.default.parse(b);if(d)return d;throw Error('Unsupported color format: "'+b+'"');},stringify:function(b){return!b.changed&&b.color?b.color:b.type.is(types.TYPE.HSL)||void 0===b.data.r?hsl$1.default.stringify(b):1>b.a||!Number.isInteger(b.r)||!Number.isInteger(b.g)||!Number.isInteger(b.b)?rgb$1.default.stringify(b):hex$1.default.stringify(b)}},_default$s=Color,color=Object.defineProperty({default:_default$s},"__esModule",{value:!0});
function change$1(b,d){b=color.default.parse(b);for(var e in d)b[e]=utils.default.channel.clamp[e](d[e]);return color.default.stringify(b)}var _default$r=change$1,change_1=Object.defineProperty({default:_default$r},"__esModule",{value:!0});
function rgba$1(b,d,e,f){void 0===e&&(e=0);void 0===f&&(f=1);if("number"!==typeof b)return change_1.default(b,{a:d});b=reusable.default.set({r:utils.default.channel.clamp.r(b),g:utils.default.channel.clamp.g(d),b:utils.default.channel.clamp.b(e),a:utils.default.channel.clamp.a(f)});return color.default.stringify(b)}var _default$q=rgba$1,rgba_1=Object.defineProperty({default:_default$q},"__esModule",{value:!0});
function hsla$1(b,d,e,f){void 0===f&&(f=1);b=reusable.default.set({h:utils.default.channel.clamp.h(b),s:utils.default.channel.clamp.s(d),l:utils.default.channel.clamp.l(e),a:utils.default.channel.clamp.a(f)});return color.default.stringify(b)}var _default$p=hsla$1,hsla_1=Object.defineProperty({default:_default$p},"__esModule",{value:!0});function channel$1(b,d){return utils.default.lang.round(color.default.parse(b)[d])}
var _default$o=channel$1,channel_1=Object.defineProperty({default:_default$o},"__esModule",{value:!0});function red$1(b){return channel_1.default(b,"r")}var _default$n=red$1,red_1=Object.defineProperty({default:_default$n},"__esModule",{value:!0});function green$1(b){return channel_1.default(b,"g")}var _default$m=green$1,green_1=Object.defineProperty({default:_default$m},"__esModule",{value:!0});function blue$1(b){return channel_1.default(b,"b")}
var _default$l=blue$1,blue_1=Object.defineProperty({default:_default$l},"__esModule",{value:!0});function hue$1(b){return channel_1.default(b,"h")}var _default$k=hue$1,hue_1=Object.defineProperty({default:_default$k},"__esModule",{value:!0});function saturation$1(b){return channel_1.default(b,"s")}var _default$j=saturation$1,saturation_1=Object.defineProperty({default:_default$j},"__esModule",{value:!0});function lightness$1(b){return channel_1.default(b,"l")}
var _default$i=lightness$1,lightness_1=Object.defineProperty({default:_default$i},"__esModule",{value:!0});function alpha$1(b){return channel_1.default(b,"a")}var _default$h=alpha$1,alpha_1=Object.defineProperty({default:_default$h},"__esModule",{value:!0});function luminance$1(b){b=color.default.parse(b);var d=b.g,e=b.b;b=.2126*utils.default.channel.toLinear(b.r)+.7152*utils.default.channel.toLinear(d)+.0722*utils.default.channel.toLinear(e);return utils.default.lang.round(b)}
var _default$g=luminance$1,luminance_1=Object.defineProperty({default:_default$g},"__esModule",{value:!0});function isLight$1(b){return.5<=luminance_1.default(b)}var _default$f=isLight$1,is_light=Object.defineProperty({default:_default$f},"__esModule",{value:!0});function isDark$1(b){return!is_light.default(b)}var _default$e=isDark$1,is_dark=Object.defineProperty({default:_default$e},"__esModule",{value:!0});function isValid$1(b){try{return color.default.parse(b),!0}catch(d){return!1}}
var _default$d=isValid$1,is_valid=Object.defineProperty({default:_default$d},"__esModule",{value:!0});function adjustChannel(b,d,e){b=color.default.parse(b);var f=b[d];e=utils.default.channel.clamp[d](f+e);f!==e&&(b[d]=e);return color.default.stringify(b)}var _default$c=adjustChannel,adjust_channel=Object.defineProperty({default:_default$c},"__esModule",{value:!0});function saturate$1(b,d){return adjust_channel.default(b,"s",d)}
var _default$b=saturate$1,saturate_1=Object.defineProperty({default:_default$b},"__esModule",{value:!0});function desaturate$1(b,d){return adjust_channel.default(b,"s",-d)}var _default$a=desaturate$1,desaturate_1=Object.defineProperty({default:_default$a},"__esModule",{value:!0});function lighten$1(b,d){return adjust_channel.default(b,"l",d)}var _default$9=lighten$1,lighten_1=Object.defineProperty({default:_default$9},"__esModule",{value:!0});
function darken$1(b,d){return adjust_channel.default(b,"l",-d)}var _default$8=darken$1,darken_1=Object.defineProperty({default:_default$8},"__esModule",{value:!0});function opacify$1(b,d){return adjust_channel.default(b,"a",d)}var _default$7=opacify$1,opacify_1=Object.defineProperty({default:_default$7},"__esModule",{value:!0});function transparentize$1(b,d){return adjust_channel.default(b,"a",-d)}
var _default$6=transparentize$1,transparentize_1=Object.defineProperty({default:_default$6},"__esModule",{value:!0});function complement$1(b){return adjust_channel.default(b,"h",180)}var _default$5=complement$1,complement_1=Object.defineProperty({default:_default$5},"__esModule",{value:!0});function grayscale$1(b){return change_1.default(b,{s:0})}var _default$4=grayscale$1,grayscale_1=Object.defineProperty({default:_default$4},"__esModule",{value:!0});
function adjust$1(b,d){var e=color.default.parse(b),f={},g;for(g in d)d[g]&&(f[g]=e[g]+d[g]);return change_1.default(b,f)}var _default$3=adjust$1,adjust_1=Object.defineProperty({default:_default$3},"__esModule",{value:!0});function mix$1(b,d,e){void 0===e&&(e=50);var f=color.default.parse(b);b=f.r;var g=f.g,h=f.b;f=f.a;d=color.default.parse(d);var l=d.a;e/=100;var m=2*e-1,p=f-l;m=((-1===m*p?m:(m+p)/(1+m*p))+1)/2;p=1-m;return rgba_1.default(b*m+d.r*p,g*m+d.g*p,h*m+d.b*p,f*e+l*(1-e))}
var _default$2=mix$1,mix_1=Object.defineProperty({default:_default$2},"__esModule",{value:!0});function invert$1(b,d){void 0===d&&(d=100);var e=color.default.parse(b);e.r=255-e.r;e.g=255-e.g;e.b=255-e.b;return mix_1.default(e,b,d)}var _default$1=invert$1,invert_1=Object.defineProperty({default:_default$1},"__esModule",{value:!0});
function scale$1(b,d){var e=color.default.parse(b),f={},g;for(g in d){var h=e[g],l=d[g];f[g]=0<l?(utils.default.channel.max[g]-h)*l/100:h*l/100}return adjust_1.default(b,f)}
var _default=scale$1,scale_1=Object.defineProperty({default:_default},"__esModule",{value:!0}),hex=rgba_1.default,rgba_2=rgba_1,rgb=rgba_2.default,rgba_3=rgba_1,rgba=rgba_3.default,hsl=hsla_1.default,hsla_2=hsla_1,hsla=hsla_2.default,channel=channel_1.default,red=red_1.default,green=green_1.default,blue=blue_1.default,hue=hue_1.default,saturation=saturation_1.default,lightness=lightness_1.default,alpha=alpha_1.default,alpha_2=alpha_1,opacity=alpha_2.default,luminance=luminance_1.default,isDark=is_dark.default,
isLight=is_light.default,isValid=is_valid.default,saturate=saturate_1.default,desaturate=desaturate_1.default,lighten=lighten_1.default,darken=darken_1.default,opacify=opacify_1.default,opacify_2=opacify_1,fadeIn=opacify_2.default,transparentize=transparentize_1.default,transparentize_2=transparentize_1,fadeOut=transparentize_2.default,complement=complement_1.default,grayscale=grayscale_1.default,adjust=adjust_1.default,change=change_1.default,invert=invert_1.default,mix=mix_1.default,scale=scale_1.default,
methods=Object.defineProperty({hex,rgb,rgba,hsl,hsla,channel,red,green,blue,hue,saturation,lightness,alpha,opacity,luminance,isDark,isLight,isValid,saturate,desaturate,lighten,darken,opacify,fadeIn,transparentize,fadeOut,complement,grayscale,adjust,change,invert,mix,scale},"__esModule",{value:!0}),dist=createCommonjsModule(function(b,d){Object.defineProperty(d,"__esModule",{value:!0});b=methods;for(var e in b)d.hasOwnProperty(e)||(d[e]=b[e])}),moment_min=createCommonjsModule(function(b,d){!function(d,
f){b.exports=f()}(commonjsGlobal,function(){function d(){return sb.apply(null,arguments)}function f(b){return b instanceof Array||"[object Array]"===Object.prototype.toString.call(b)}function g(b){return null!=b&&"[object Object]"===Object.prototype.toString.call(b)}function h(b){return void 0===b}function l(b){return"number"==typeof b||"[object Number]"===Object.prototype.toString.call(b)}function m(b){return b instanceof Date||"[object Date]"===Object.prototype.toString.call(b)}function p(b,d){var e,
f=[];for(e=0;e<b.length;++e)f.push(d(b[e],e));return f}function n(b,d){return Object.prototype.hasOwnProperty.call(b,d)}function q(b,d){for(var e in d)n(d,e)&&(b[e]=d[e]);return n(d,"toString")&&(b.toString=d.toString),n(d,"valueOf")&&(b.valueOf=d.valueOf),b}function r(b,d,e,f){return Ob(b,d,e,f,!0).utc()}function t(b){return null==b._pf&&(b._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],
meridiem:null,rfc2822:!1,weekdayMismatch:!1}),b._pf}function v(b){if(null==b._isValid){var d=t(b),e=wb.call(d.parsedDateParts,function(b){return null!=b});e=!isNaN(b._d.getTime())&&0>d.overflow&&!d.empty&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&e);if(b._strict&&(e=e&&0===d.charsLeftOver&&0===d.unusedTokens.length&&void 0===d.bigHour),null!=Object.isFrozen&&Object.isFrozen(b))return e;b._isValid=e}return b._isValid}
function u(b){var d=r(NaN);return null!=b?q(t(d),b):t(d).userInvalidated=!0,d}function w(b,d){var e,f,g;if(h(d._isAMomentObject)||(b._isAMomentObject=d._isAMomentObject),h(d._i)||(b._i=d._i),h(d._f)||(b._f=d._f),h(d._l)||(b._l=d._l),h(d._strict)||(b._strict=d._strict),h(d._tzm)||(b._tzm=d._tzm),h(d._isUTC)||(b._isUTC=d._isUTC),h(d._offset)||(b._offset=d._offset),h(d._pf)||(b._pf=t(d)),h(d._locale)||(b._locale=d._locale),0<pb.length)for(e=0;e<pb.length;e++)h(g=d[f=pb[e]])||(b[f]=g);return b}function J(b){w(this,
b);this._d=new Date(null!=b._d?b._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===yb&&(yb=!0,d.updateOffset(this),yb=!1)}function H(b){return b instanceof J||null!=b&&null!=b._isAMomentObject}function z(b){return 0>b?Math.ceil(b)||0:Math.floor(b)}function I(b){b=+b;var d=0;return 0!==b&&isFinite(b)&&(d=z(b)),d}function O(b,d,e){var f,g=Math.min(b.length,d.length),h=Math.abs(b.length-d.length),l=0;for(f=0;f<g;f++)(e&&b[f]!==d[f]||!e&&I(b[f])!==I(d[f]))&&l++;return l+h}function N(b){!1===
d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function L(b,e){var f=!0;return q(function(){if(null!=d.deprecationHandler&&d.deprecationHandler(null,b),f){for(var g,h=[],l=0;l<arguments.length;l++){if(g="","object"==typeof arguments[l]){for(var n in g+="\n["+l+"] ",arguments[0])g+=n+": "+arguments[0][n]+", ";g=g.slice(0,-2)}else g=arguments[l];h.push(g)}N(b+"\nArguments: "+Array.prototype.slice.call(h).join("")+"\n"+Error().stack);
f=!1}return e.apply(this,arguments)},e)}function F(b,e){null!=d.deprecationHandler&&d.deprecationHandler(b,e);Rb[b]||(N(e),Rb[b]=!0)}function G(b){return b instanceof Function||"[object Function]"===Object.prototype.toString.call(b)}function U(b,d){var e,f=q({},b);for(e in d)n(d,e)&&(g(b[e])&&g(d[e])?(f[e]={},q(f[e],b[e]),q(f[e],d[e])):null!=d[e]?f[e]=d[e]:delete f[e]);for(e in b)n(b,e)&&!n(d,e)&&g(b[e])&&(f[e]=q({},f[e]));return f}function R(b){null!=b&&this.set(b)}function W(b,d){var e=b.toLowerCase();
Db[e]=Db[e+"s"]=Db[d]=b}function T(b){return"string"==typeof b?Db[b]||Db[b.toLowerCase()]:void 0}function ea(b){var d,e,f={};for(e in b)n(b,e)&&(d=T(e))&&(f[d]=b[e]);return f}function Q(b,d,e){var f=""+Math.abs(b);return(0<=b?e?"+":"":"-")+Math.pow(10,Math.max(0,d-f.length)).toString().substr(1)+f}function P(b,d,e,f){var g=f;"string"==typeof f&&(g=function(){return this[f]()});b&&(Pb[b]=g);d&&(Pb[d[0]]=function(){return Q(g.apply(this,arguments),d[1],d[2])});e&&(Pb[e]=function(){return this.localeData().ordinal(g.apply(this,
arguments),b)})}function S(b,d){return b.isValid()?(d=ua(d,b.localeData()),ec[d]=ec[d]||function(b){var d,e,f=b.match(lc);var g=0;for(d=f.length;g<d;g++)Pb[f[g]]?f[g]=Pb[f[g]]:f[g]=(e=f[g]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){var g,h="";for(g=0;g<d;g++)h+=G(f[g])?f[g].call(e,b):f[g];return h}}(d),ec[d](b)):b.localeData().invalidDate()}function ua(b,d){function e(b){return d.longDateFormat(b)||b}var f=5;for(Yb.lastIndex=0;0<=f&&Yb.test(b);)b=b.replace(Yb,
e),Yb.lastIndex=0,--f;return b}function V(b,d,e){fc[b]=G(d)?d:function(b,f){return b&&e?e:d}}function ba(b,d){return n(fc,b)?fc[b](d._strict,d._locale):new RegExp(la(b.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(b,d,e,f,g){return d||e||f||g})))}function la(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(b,d){var e,f=d;"string"==typeof b&&(b=[b]);l(d)&&(f=function(b,e){e[d]=I(b)});for(e=0;e<b.length;e++)gc[b[e]]=f}function oa(b,d){Z(b,function(b,e,f,g){f._w=
f._w||{};d(b,f._w,f,g)})}function Aa(b){return 0==b%4&&0!=b%100||0==b%400}function ca(b,e){return function(f){return null!=f?(Xa(this,b,f),d.updateOffset(this,e),this):db(this,b)}}function db(b,d){return b.isValid()?b._d["get"+(b._isUTC?"UTC":"")+d]():NaN}function Xa(b,d,e){b.isValid()&&!isNaN(e)&&("FullYear"===d&&Aa(b.year())&&1===b.month()&&29===b.date()?b._d["set"+(b._isUTC?"UTC":"")+d](e,b.month(),Da(e,b.month())):b._d["set"+(b._isUTC?"UTC":"")+d](e))}function Da(b,d){if(isNaN(b)||isNaN(d))return NaN;
var e=(d%12+12)%12;return b+=(d-e)/12,1===e?Aa(b)?29:28:31-e%7%2}function Ha(b,d){var e;if(!b.isValid())return b;if("string"==typeof d)if(/^\d+$/.test(d))d=I(d);else if(!l(d=b.localeData().monthsParse(d)))return b;return e=Math.min(b.date(),Da(b.year(),d)),b._d["set"+(b._isUTC?"UTC":"")+"Month"](d,e),b}function za(b){return null!=b?(Ha(this,b),d.updateOffset(this,!0),this):db(this,"Month")}function va(){function b(b,d){return d.length-b.length}var d,e=[],f=[],g=[];for(d=0;12>d;d++){var h=r([2E3,d]);
e.push(this.monthsShort(h,""));f.push(this.months(h,""));g.push(this.months(h,""));g.push(this.monthsShort(h,""))}e.sort(b);f.sort(b);g.sort(b);for(d=0;12>d;d++)e[d]=la(e[d]),f[d]=la(f[d]);for(d=0;24>d;d++)g[d]=la(g[d]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+g.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+f.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Ba(b){if(100>b&&0<=b){var d=Array.prototype.slice.call(arguments);d[0]=
b+400;d=new Date(Date.UTC.apply(null,d));isFinite(d.getUTCFullYear())&&d.setUTCFullYear(b)}else d=new Date(Date.UTC.apply(null,arguments));return d}function ya(b,d,e){e=7+d-e;return-((7+Ba(b,0,e).getUTCDay()-d)%7)+e-1}function da(b,d,e,f,g){var h,l;d=1+7*(d-1)+(7+e-f)%7+ya(b,f,g);0>=d?(b=h=b-1,b=(Aa(b)?366:365)+d):b=d>(Aa(b)?366:365)?(h=b+1,d-(Aa(b)?366:365)):(h=b,d);return l=b,{year:h,dayOfYear:l}}function ja(b,d,e){var f,g,h=ya(b.year(),d,e);h=Math.floor((b.dayOfYear()-h-1)/7)+1;return 1>h?f=h+
ia(g=b.year()-1,d,e):h>ia(b.year(),d,e)?(f=h-ia(b.year(),d,e),g=b.year()+1):(g=b.year(),f=h),{week:f,year:g}}function ia(b,d,e){var f=ya(b,d,e);d=ya(b+1,d,e);return((Aa(b)?366:365)-f+d)/7}function na(b,d){return b.slice(d,7).concat(b.slice(0,d))}function fa(){function b(b,d){return d.length-b.length}var d,e=[],f=[],g=[],h=[];for(d=0;7>d;d++){var l=r([2E3,1]).day(d);var n=this.weekdaysMin(l,"");var m=this.weekdaysShort(l,"");l=this.weekdays(l,"");e.push(n);f.push(m);g.push(l);h.push(n);h.push(m);h.push(l)}e.sort(b);
f.sort(b);g.sort(b);h.sort(b);for(d=0;7>d;d++)f[d]=la(f[d]),g[d]=la(g[d]),h[d]=la(h[d]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+f.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function ta(){return this.hours()%12||12}function ab(b,d){P(b,0,0,function(){return this.localeData().meridiem(this.hours(),
this.minutes(),d)})}function sa(b,d){return d._meridiemParse}function qa(b){return b?b.toLowerCase().replace("_","-"):b}function pa(d){var e=null;if(!hb[d]&&b&&b.exports)try{e=Sb._abbr,commonjsRequire("./locale/"+d),ra(e)}catch(hd){}return hb[d]}function ra(b,d){var e;return b&&((e=h(d)?ma(b):xa(b,d))?Sb=e:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+b+" not found. Did you forget to load it?")),Sb._abbr}function xa(b,d){if(null===d)return delete hb[b],null;var e=mc;if(d.abbr=
b,null!=hb[b])F("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),e=hb[b]._config;else if(null!=d.parentLocale)if(null!=hb[d.parentLocale])e=hb[d.parentLocale]._config;else{if(null==(e=pa(d.parentLocale)))return Tb[d.parentLocale]||(Tb[d.parentLocale]=[]),Tb[d.parentLocale].push({name:b,config:d}),
null;e=e._config}return hb[b]=new R(U(e,d)),Tb[b]&&Tb[b].forEach(function(b){xa(b.name,b.config)}),ra(b),hb[b]}function ma(b){var d;if(b&&b._locale&&b._locale._abbr&&(b=b._locale._abbr),!b)return Sb;if(!f(b)){if(d=pa(b))return d;b=[b]}var e;a:{for(var g,h,l=0;l<b.length;){d=(h=qa(b[l]).split("-")).length;for(e=(e=qa(b[l+1]))?e.split("-"):null;0<d;){if(g=pa(h.slice(0,d).join("-"))){e=g;break a}if(e&&e.length>=d&&O(h,e,!0)>=d-1)break;d--}l++}e=Sb}return e}function ha(b){var d,e=b._a;return e&&-2===
t(b).overflow&&(d=0>e[Eb]||11<e[Eb]?Eb:1>e[Bb]||e[Bb]>Da(e[zb],e[Eb])?Bb:0>e[ib]||24<e[ib]||24===e[ib]&&(0!==e[Ab]||0!==e[Fb]||0!==e[Kb])?ib:0>e[Ab]||59<e[Ab]?Ab:0>e[Fb]||59<e[Fb]?Fb:0>e[Kb]||999<e[Kb]?Kb:-1,t(b)._overflowDayOfYear&&(d<zb||Bb<d)&&(d=Bb),t(b)._overflowWeeks&&-1===d&&(d=xc),t(b)._overflowWeekday&&-1===d&&(d=yc),t(b).overflow=d),b}function wa(b,d,e){return null!=b?b:null!=d?d:e}function Lb(b){var e,f;var g=[];if(!b._d){var h=new Date(d.now());h=b._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),
h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()];b._w&&null==b._a[Bb]&&null==b._a[Eb]&&function(b){var d,e,f,g;if(null!=(d=b._w).GG||null!=d.W||null!=d.E){var h=1;var l=4;var n=wa(d.GG,b._a[zb],ja(Za(),1,4).year);var m=wa(d.W,1);(1>(e=wa(d.E,1))||7<e)&&(g=!0)}else h=b._locale._week.dow,l=b._locale._week.doy,m=ja(Za(),h,l),n=wa(d.gg,b._a[zb],m.year),m=wa(d.w,m.week),null!=d.d?(0>(e=d.d)||6<e)&&(g=!0):null!=d.e?(e=d.e+h,(0>d.e||6<d.e)&&(g=!0)):e=h;1>m||m>ia(n,h,l)?t(b)._overflowWeeks=!0:null!=
g?t(b)._overflowWeekday=!0:(f=da(n,m,e,h,l),b._a[zb]=f.year,b._dayOfYear=f.dayOfYear)}(b);null!=b._dayOfYear&&(f=wa(b._a[zb],h[zb]),(b._dayOfYear>(Aa(f)?366:365)||0===b._dayOfYear)&&(t(b)._overflowDayOfYear=!0),e=Ba(f,0,b._dayOfYear),b._a[Eb]=e.getUTCMonth(),b._a[Bb]=e.getUTCDate());for(e=0;3>e&&null==b._a[e];++e)b._a[e]=g[e]=h[e];for(;7>e;e++)b._a[e]=g[e]=null==b._a[e]?2===e?1:0:b._a[e];24===b._a[ib]&&0===b._a[Ab]&&0===b._a[Fb]&&0===b._a[Kb]&&(b._nextDay=!0,b._a[ib]=0);b._d=(b._useUTC?Ba:function(b,
d,e,f,g,h,l){var n;return 100>b&&0<=b?(n=new Date(b+400,d,e,f,g,h,l),isFinite(n.getFullYear())&&n.setFullYear(b)):n=new Date(b,d,e,f,g,h,l),n}).apply(null,g);g=b._useUTC?b._d.getUTCDay():b._d.getDay();null!=b._tzm&&b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm);b._nextDay&&(b._a[ib]=24);b._w&&void 0!==b._w.d&&b._w.d!==g&&(t(b).weekdayMismatch=!0)}}function mb(b){var d;var e=b._i;var f=zc.exec(e)||Ac.exec(e);if(f){t(b).iso=!0;e=0;for(d=Zb.length;e<d;e++)if(Zb[e][1].exec(f[1])){var g=Zb[e][0];var h=
!1!==Zb[e][2];break}if(null==g)return void(b._isValid=!1);if(f[3]){e=0;for(d=hc.length;e<d;e++)if(hc[e][1].exec(f[3])){var l=(f[2]||" ")+hc[e][0];break}if(null==l)return void(b._isValid=!1)}if(!h&&null!=l)return void(b._isValid=!1);if(f[4]){if(!Bc.exec(f[4]))return void(b._isValid=!1);var n="Z"}b._f=g+(l||"")+(n||"");$a(b)}else b._isValid=!1}function fb(b){var d,e=Cc.exec(b._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(e){var f=e[3],g=e[2],
h=e[5],l=e[6];var n=e[7];var m=parseInt(e[4],10);f=[49>=m?2E3+m:999>=m?1900+m:m,nc.indexOf(f),parseInt(g,10),parseInt(h,10),parseInt(l,10)];n=(n&&f.push(parseInt(n,10)),f);if(d=e[1],!d||oc.indexOf(d)===(new Date(n[0],n[1],n[2])).getDay()||(t(b).weekdayMismatch=!0,b._isValid=!1))b._a=n,(d=e[8])?e=Dc[d]:e[9]?e=0:(e=parseInt(e[10],10),d=e%100,e=(e-d)/100*60+d),b._tzm=e,b._d=Ba.apply(null,b._a),b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm),t(b).rfc2822=!0}else b._isValid=!1}function $a(b){if(b._f!==
d.ISO_8601)if(b._f!==d.RFC_2822){b._a=[];t(b).empty=!0;var e,f,g,h,l,m,p=""+b._i,q=p.length,F=0;var G=ua(b._f,b._locale).match(lc)||[];for(e=0;e<G.length;e++){var r=G[e];(f=(p.match(ba(r,b))||[])[0])&&(0<(g=p.substr(0,p.indexOf(f))).length&&t(b).unusedInput.push(g),p=p.slice(p.indexOf(f)+f.length),F+=f.length);Pb[r]?(f?t(b).empty=!1:t(b).unusedTokens.push(r),h=r,m=b,null!=(l=f)&&n(gc,h)&&gc[h](l,m._a,m,h)):b._strict&&!f&&t(b).unusedTokens.push(r)}t(b).charsLeftOver=q-F;0<p.length&&t(b).unusedInput.push(p);
12>=b._a[ib]&&!0===t(b).bigHour&&0<b._a[ib]&&(t(b).bigHour=void 0);t(b).parsedDateParts=b._a.slice(0);t(b).meridiem=b._meridiem;e=b._a;f=ib;r=b._locale;G=b._a[ib];g=b._meridiem;var z;r=null==g?G:null!=r.meridiemHour?r.meridiemHour(G,g):(null!=r.isPM&&((z=r.isPM(g))&&12>G&&(G+=12),z||12!==G||(G=0)),G);e[f]=r;Lb(b);ha(b)}else fb(b);else mb(b)}function Ub(b){var e,n,G=b._i,F=b._f;return b._locale=b._locale||ma(b._l),null===G||void 0===F&&""===G?u({nullInput:!0}):("string"==typeof G&&(b._i=G=b._locale.preparse(G)),
H(G)?new J(ha(G)):(m(G)?b._d=G:f(F)?function(b){var d,e,f;if(0===b._f.length)return t(b).invalidFormat=!0,b._d=new Date(NaN);for(f=0;f<b._f.length;f++){var g=0;var h=w({},b);null!=b._useUTC&&(h._useUTC=b._useUTC);h._f=b._f[f];$a(h);v(h)&&(g+=t(h).charsLeftOver,g+=10*t(h).unusedTokens.length,t(h).score=g,(null==e||g<e)&&(e=g,d=h))}q(b,d||h)}(b):F?$a(b):h(e=b._i)?b._d=new Date(d.now()):m(e)?b._d=new Date(e.valueOf()):"string"==typeof e?null===(n=Ec.exec(b._i))?(mb(b),!1===b._isValid&&(delete b._isValid,
fb(b),!1===b._isValid&&(delete b._isValid,d.createFromInputFallback(b)))):b._d=new Date(+n[1]):f(e)?(b._a=p(e.slice(0),function(b){return parseInt(b,10)}),Lb(b)):g(e)?function(b){if(!b._d){var d=ea(b._i);b._a=p([d.year,d.month,d.day||d.date,d.hour,d.minute,d.second,d.millisecond],function(b){return b&&parseInt(b,10)});Lb(b)}}(b):l(e)?b._d=new Date(e):d.createFromInputFallback(b),v(b)||(b._d=null),b))}function Ob(b,d,e,h,l){var n,m={};!0!==e&&!1!==e||(h=e,e=void 0);var p;if(p=g(b))a:if(p=b,Object.getOwnPropertyNames)p=
0===Object.getOwnPropertyNames(p).length;else{for(var q in p)if(p.hasOwnProperty(q)){p=!1;break a}p=!0}return(p||f(b)&&0===b.length)&&(b=void 0),m._isAMomentObject=!0,m._useUTC=m._isUTC=l,m._l=e,m._i=b,m._f=d,m._strict=h,(n=new J(ha(Ub(m))))._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function Za(b,d,e,f){return Ob(b,d,e,f,!1)}function Oa(b,d){var e;if(1===d.length&&f(d[0])&&(d=d[0]),!d.length)return Za();var g=d[0];for(e=1;e<d.length;++e)d[e].isValid()&&!d[e][b](g)||(g=d[e]);return g}function Ia(b){var d=
ea(b);b=d.year||0;var e=d.quarter||0,f=d.month||0,g=d.week||d.isoWeek||0,h=d.day||0,l=d.hour||0,n=d.minute||0,m=d.second||0,p=d.millisecond||0;a:{for(var q in d)if(-1===jb.call(Vb,q)||null!=d[q]&&isNaN(d[q])){d=!1;break a}q=!1;for(var G=0;G<Vb.length;++G)if(d[Vb[G]]){if(q){d=!1;break a}parseFloat(d[Vb[G]])!==I(d[Vb[G]])&&(q=!0)}d=!0}this._isValid=d;this._milliseconds=+p+1E3*m+6E4*n+36E5*l;this._days=+h+7*g;this._months=+f+3*e+12*b;this._data={};this._locale=ma();this._bubble()}function Ja(b){return b instanceof
Ia}function Ka(b){return 0>b?-1*Math.round(-1*b):Math.round(b)}function Pa(b,d){P(b,0,0,function(){var b=this.utcOffset(),e="+";return 0>b&&(b=-b,e="-"),e+Q(~~(b/60),2)+d+Q(~~b%60,2)})}function La(b,d){b=(d||"").match(b);if(null===b)return null;b=((b[b.length-1]||[])+"").match(Fc)||["-",0,0];d=60*b[1]+I(b[2]);return 0===d?0:"+"===b[0]?d:-d}function Ma(b,e){var f,g;return e._isUTC?(f=e.clone(),g=(H(b)||m(b)?b.valueOf():Za(b).valueOf())-f.valueOf(),f._d.setTime(f._d.valueOf()+g),d.updateOffset(f,!1),
f):Za(b).local()}function gb(b){return 15*-Math.round(b._d.getTimezoneOffset()/15)}function Qa(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ca(b,d){var e,f=b;if(Ja(b))f={ms:b._milliseconds,d:b._days,M:b._months};else if(l(b))f={},d?f[d]=b:f.milliseconds=b;else if(d=Gc.exec(b)){var g="-"===d[1]?-1:1;f={y:0,d:I(d[Bb])*g,h:I(d[ib])*g,m:I(d[Ab])*g,s:I(d[Fb])*g,ms:I(Ka(1E3*d[Kb]))*g}}else if(d=Hc.exec(b))g="-"===d[1]?-1:1,f={y:Ea(d[2],g),M:Ea(d[3],g),w:Ea(d[4],g),d:Ea(d[5],g),h:Ea(d[6],
g),m:Ea(d[7],g),s:Ea(d[8],g)};else if(null==f)f={};else if("object"==typeof f&&("from"in f||"to"in f)){var h;g=Za(f.from);d=Za(f.to);g.isValid()&&d.isValid()?(d=Ma(d,g),g.isBefore(d)?h=Ra(g,d):((h=Ra(d,g)).milliseconds=-h.milliseconds,h.months=-h.months)):h={milliseconds:0,months:0};var m=h;(f={}).ms=m.milliseconds;f.M=m.months}return e=new Ia(f),Ja(b)&&n(b,"_locale")&&(e._locale=b._locale),e}function Ea(b,d){b=b&&parseFloat(b.replace(",","."));return(isNaN(b)?0:b)*d}function Ra(b,d){var e={};return e.months=
d.month()-b.month()+12*(d.year()-b.year()),b.clone().add(e.months,"M").isAfter(d)&&--e.months,e.milliseconds=+d-+b.clone().add(e.months,"M"),e}function Sa(b,d){return function(e,f){var g;return null===f||isNaN(+f)||(F(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),g=e,e=f,f=g),Ta(this,Ca("string"==typeof e?+e:e,f),b),this}}function Ta(b,e,f,g){var h=e._milliseconds,l=Ka(e._days);
e=Ka(e._months);b.isValid()&&(g=null==g||g,e&&Ha(b,db(b,"Month")+e*f),l&&Xa(b,"Date",db(b,"Date")+l*f),h&&b._d.setTime(b._d.valueOf()+h*f),g&&d.updateOffset(b,l||e))}function Na(b,d){var e=12*(d.year()-b.year())+(d.month()-b.month()),f=b.clone().add(e,"months");return-(e+(0>d-f?(d-f)/(f-b.clone().add(e-1,"months")):(d-f)/(b.clone().add(e+1,"months")-f)))||0}function Ua(b){var d;return void 0===b?this._locale._abbr:(null!=(d=ma(b))&&(this._locale=d),this)}function Va(){return this._locale}function Fa(b,
d){return(b%d+d)%d}function Wa(b,d,e){return 100>b&&0<=b?new Date(b+400,d,e)-126227808E5:(new Date(b,d,e)).valueOf()}function Qb(b,d,e){return 100>b&&0<=b?Date.UTC(b+400,d,e)-126227808E5:Date.UTC(b,d,e)}function Mb(b,d){P(0,[b,b.length],0,d)}function Gb(b,d,e,f,g){var h;null==b?b=ja(this,f,g).year:((h=ia(b,f,g))<d&&(d=h),b=da(b,d,e,f,g),b=Ba(b.year,0,b.dayOfYear),b=(this.year(b.getUTCFullYear()),this.month(b.getUTCMonth()),this.date(b.getUTCDate()),this));return b}function Ga(b,d){d[Kb]=I(1E3*("0."+
b))}function Wb(b){return b}function Nb(b,d,e,f){var g=ma();d=r().set(f,d);return g[e](d,b)}function tb(b,d,e){if(l(b)&&(d=b,b=void 0),b=b||"",null!=d)return Nb(b,d,e,"month");var f=[];for(d=0;12>d;d++)f[d]=Nb(b,d,e,"month");return f}function qb(b,d,e,f){d=("boolean"==typeof b?l(d)&&(e=d,d=void 0):(d=b,b=!1,l(e=d)&&(e=d,d=void 0)),d||"");var g=ma();b=b?g._week.dow:0;if(null!=e)return Nb(d,(e+b)%7,f,"day");g=[];for(e=0;7>e;e++)g[e]=Nb(d,(e+b)%7,f,"day");return g}function ub(b,d,e,f){d=Ca(d,e);return b._milliseconds+=
f*d._milliseconds,b._days+=f*d._days,b._months+=f*d._months,b._bubble()}function vb(b){return 0>b?Math.floor(b):Math.ceil(b)}function eb(b){return function(){return this.as(b)}}function kb(b){return function(){return this.isValid()?this._data[b]:NaN}}function nb(b){return(0<b)-(0>b)||+b}function ob(){if(!this.isValid())return this.localeData().invalidDate();var b,d=ic(this._milliseconds)/1E3,e=ic(this._days),f=ic(this._months);var g=z((b=z(d/60))/60);d%=60;b%=60;var h=z(f/12);f%=12;d=d?d.toFixed(3).replace(/\.?0+$/,
""):"";var l=this.asSeconds();if(!l)return"P0D";var n=0>l?"-":"",m=nb(this._months)!==nb(l)?"-":"",p=nb(this._days)!==nb(l)?"-":"";l=nb(this._milliseconds)!==nb(l)?"-":"";return n+"P"+(h?m+h+"Y":"")+(f?m+f+"M":"")+(e?p+e+"D":"")+(g||b||d?"T":"")+(g?l+g+"H":"")+(b?l+b+"M":"")+(d?l+d+"S":"")}var sb;var wb=Array.prototype.some?Array.prototype.some:function(b){for(var d=Object(this),e=d.length>>>0,f=0;f<e;f++)if(f in d&&b.call(this,d[f],f,d))return!0;return!1};var pb=d.momentProperties=[],yb=!1,Rb={};
d.suppressDeprecationWarnings=!1;d.deprecationHandler=null;var rb=Object.keys?Object.keys:function(b){var d,e=[];for(d in b)n(b,d)&&e.push(d);return e};var Db={},lb={},lc=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ec={},Pb={},pc=/\d/,xb=/\d\d/,qc=/\d{3}/,jc=/\d{4}/,$b=/[+-]?\d{6}/,cb=/\d\d?/,rc=/\d\d\d\d?/,sc=/\d\d\d\d\d\d?/,
ac=/\d{1,3}/,kc=/\d{1,4}/,bc=/[+-]?\d{1,6}/,Ic=/\d+/,cc=/[+-]?\d+/,Jc=/Z|[+-]\d\d:?\d\d/gi,dc=/Z|[+-]\d\d(?::?\d\d)?/gi,Xb=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fc={},gc={},zb=0,Eb=1,Bb=2,ib=3,Ab=4,Fb=5,Kb=6,xc=7,yc=8;P("Y",0,0,function(){var b=this.year();return 9999>=b?""+b:"+"+b});P(0,["YY",2],0,function(){return this.year()%100});P(0,["YYYY",4],0,"year");P(0,["YYYYY",5],0,"year");
P(0,["YYYYYY",6,!0],0,"year");W("year","y");lb.year=1;V("Y",cc);V("YY",cb,xb);V("YYYY",kc,jc);V("YYYYY",bc,$b);V("YYYYYY",bc,$b);Z(["YYYYY","YYYYYY"],zb);Z("YYYY",function(b,e){e[zb]=2===b.length?d.parseTwoDigitYear(b):I(b)});Z("YY",function(b,e){e[zb]=d.parseTwoDigitYear(b)});Z("Y",function(b,d){d[zb]=parseInt(b,10)});d.parseTwoDigitYear=function(b){return I(b)+(68<I(b)?1900:2E3)};var tc=ca("FullYear",!0);var jb=Array.prototype.indexOf?Array.prototype.indexOf:function(b){var d;for(d=0;d<this.length;++d)if(this[d]===
b)return d;return-1};P("M",["MM",2],"Mo",function(){return this.month()+1});P("MMM",0,0,function(b){return this.localeData().monthsShort(this,b)});P("MMMM",0,0,function(b){return this.localeData().months(this,b)});W("month","M");lb.month=8;V("M",cb);V("MM",cb,xb);V("MMM",function(b,d){return d.monthsShortRegex(b)});V("MMMM",function(b,d){return d.monthsRegex(b)});Z(["M","MM"],function(b,d){d[Eb]=I(b)-1});Z(["MMM","MMMM"],function(b,d,e,f){f=e._locale.monthsParse(b,f,e._strict);null!=f?d[Eb]=f:t(e).invalidMonth=
b});var uc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");P("w",["ww",2],"wo","week");P("W",["WW",2],"Wo","isoWeek");W("week","w");W("isoWeek","W");lb.week=5;lb.isoWeek=5;V("w",cb);V("ww",cb,xb);V("W",cb);V("WW",cb,xb);oa(["w","ww","W","WW"],function(b,d,e,f){d[f.substr(0,1)]=I(b)});P("d",0,"do","day");P("dd",0,0,function(b){return this.localeData().weekdaysMin(this,b)});P("ddd",0,0,function(b){return this.localeData().weekdaysShort(this,b)});P("dddd",
0,0,function(b){return this.localeData().weekdays(this,b)});P("e",0,0,"weekday");P("E",0,0,"isoWeekday");W("day","d");W("weekday","e");W("isoWeekday","E");lb.day=11;lb.weekday=11;lb.isoWeekday=11;V("d",cb);V("e",cb);V("E",cb);V("dd",function(b,d){return d.weekdaysMinRegex(b)});V("ddd",function(b,d){return d.weekdaysShortRegex(b)});V("dddd",function(b,d){return d.weekdaysRegex(b)});oa(["dd","ddd","dddd"],function(b,d,e,f){f=e._locale.weekdaysParse(b,f,e._strict);null!=f?d.d=f:t(e).invalidWeekday=b});
oa(["d","e","E"],function(b,d,e,f){d[f]=I(b)});var oc="Sun Mon Tue Wed Thu Fri Sat".split(" ");P("H",["HH",2],0,"hour");P("h",["hh",2],0,ta);P("k",["kk",2],0,function(){return this.hours()||24});P("hmm",0,0,function(){return""+ta.apply(this)+Q(this.minutes(),2)});P("hmmss",0,0,function(){return""+ta.apply(this)+Q(this.minutes(),2)+Q(this.seconds(),2)});P("Hmm",0,0,function(){return""+this.hours()+Q(this.minutes(),2)});P("Hmmss",0,0,function(){return""+this.hours()+Q(this.minutes(),2)+Q(this.seconds(),
2)});ab("a",!0);ab("A",!1);W("hour","h");lb.hour=13;V("a",sa);V("A",sa);V("H",cb);V("h",cb);V("k",cb);V("HH",cb,xb);V("hh",cb,xb);V("kk",cb,xb);V("hmm",rc);V("hmmss",sc);V("Hmm",rc);V("Hmmss",sc);Z(["H","HH"],ib);Z(["k","kk"],function(b,d,e){b=I(b);d[ib]=24===b?0:b});Z(["a","A"],function(b,d,e){e._isPm=e._locale.isPM(b);e._meridiem=b});Z(["h","hh"],function(b,d,e){d[ib]=I(b);t(e).bigHour=!0});Z("hmm",function(b,d,e){var f=b.length-2;d[ib]=I(b.substr(0,f));d[Ab]=I(b.substr(f));t(e).bigHour=!0});Z("hmmss",
function(b,d,e){var f=b.length-4,g=b.length-2;d[ib]=I(b.substr(0,f));d[Ab]=I(b.substr(f,2));d[Fb]=I(b.substr(g));t(e).bigHour=!0});Z("Hmm",function(b,d,e){e=b.length-2;d[ib]=I(b.substr(0,e));d[Ab]=I(b.substr(e))});Z("Hmmss",function(b,d,e){e=b.length-4;var f=b.length-2;d[ib]=I(b.substr(0,e));d[Ab]=I(b.substr(e,2));d[Fb]=I(b.substr(f))});var Sb,Kc=ca("Hours",!0),mc={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",
sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),
monthsShort:nc,week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:oc,meridiemParse:/[ap]\.?m?\.?/i},hb={},Tb={},zc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ac=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
Bc=/Z|[+-]\d\d(?::?\d\d)?/,Zb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],hc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",
/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ec=/^\/?Date\((\-?\d+)/i,Cc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dc={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};d.createFromInputFallback=L("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
function(b){b._d=new Date(b._i+(b._useUTC?" UTC":""))});d.ISO_8601=function(){};d.RFC_2822=function(){};var Lc=L("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=Za.apply(null,arguments);return this.isValid()&&b.isValid()?b<this?this:b:u()}),Mc=L("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var b=Za.apply(null,arguments);return this.isValid()&&b.isValid()?this<b?
this:b:u()}),Vb="year quarter month week day hour minute second millisecond".split(" ");Pa("Z",":");Pa("ZZ","");V("Z",dc);V("ZZ",dc);Z(["Z","ZZ"],function(b,d,e){e._useUTC=!0;e._tzm=La(dc,b)});var Fc=/([\+\-]|\d\d)/gi;d.updateOffset=function(){};var Gc=/^(\-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Hc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ca.fn=Ia.prototype;Ca.invalid=
function(){return Ca(NaN)};var Nc=Sa(1,"add"),Oc=Sa(-1,"subtract");d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var vc=L("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return void 0===b?this.localeData():this.locale(b)});P(0,["gg",2],0,function(){return this.weekYear()%100});P(0,["GG",2],0,function(){return this.isoWeekYear()%100});Mb("gggg","weekYear");
Mb("ggggg","weekYear");Mb("GGGG","isoWeekYear");Mb("GGGGG","isoWeekYear");W("weekYear","gg");W("isoWeekYear","GG");lb.weekYear=1;lb.isoWeekYear=1;V("G",cc);V("g",cc);V("GG",cb,xb);V("gg",cb,xb);V("GGGG",kc,jc);V("gggg",kc,jc);V("GGGGG",bc,$b);V("ggggg",bc,$b);oa(["gggg","ggggg","GGGG","GGGGG"],function(b,d,e,f){d[f.substr(0,2)]=I(b)});oa(["gg","GG"],function(b,e,f,g){e[g]=d.parseTwoDigitYear(b)});P("Q",0,"Qo","quarter");W("quarter","Q");lb.quarter=7;V("Q",pc);Z("Q",function(b,d){d[Eb]=3*(I(b)-1)});
P("D",["DD",2],"Do","date");W("date","D");lb.date=9;V("D",cb);V("DD",cb,xb);V("Do",function(b,d){return b?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient});Z(["D","DD"],Bb);Z("Do",function(b,d){d[Bb]=I(b.match(cb)[0])});var wc=ca("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear");W("dayOfYear","DDD");lb.dayOfYear=4;V("DDD",ac);V("DDDD",qc);Z(["DDD","DDDD"],function(b,d,e){e._dayOfYear=I(b)});P("m",["mm",2],0,"minute");W("minute","m");lb.minute=14;V("m",cb);V("mm",cb,xb);
Z(["m","mm"],Ab);var Pc=ca("Minutes",!1);P("s",["ss",2],0,"second");W("second","s");lb.second=15;V("s",cb);V("ss",cb,xb);Z(["s","ss"],Fb);var Ib,Qc=ca("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)});P(0,["SS",2],0,function(){return~~(this.millisecond()/10)});P(0,["SSS",3],0,"millisecond");P(0,["SSSS",4],0,function(){return 10*this.millisecond()});P(0,["SSSSS",5],0,function(){return 100*this.millisecond()});P(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});P(0,["SSSSSSS",
7],0,function(){return 1E4*this.millisecond()});P(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});P(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});W("millisecond","ms");lb.millisecond=16;V("S",ac,pc);V("SS",ac,xb);V("SSS",ac,qc);for(Ib="SSSS";9>=Ib.length;Ib+="S")V(Ib,Ic);for(Ib="S";9>=Ib.length;Ib+="S")Z(Ib,Ga);var Rc=ca("Milliseconds",!1);P("z",0,0,"zoneAbbr");P("zz",0,0,"zoneName");var aa=J.prototype;aa.add=Nc;aa.calendar=function(b,e){b=b||Za();var f=Ma(b,this).startOf("day");
f=d.calendarFormat(this,f)||"sameElse";e=e&&(G(e[f])?e[f].call(this,b):e[f]);return this.format(e||this.localeData().calendar(f,this,Za(b)))};aa.clone=function(){return new J(this)};aa.diff=function(b,d,e){var f;if(!this.isValid()||!(f=Ma(b,this)).isValid())return NaN;switch(b=6E4*(f.utcOffset()-this.utcOffset()),T(d)){case "year":d=Na(this,f)/12;break;case "month":d=Na(this,f);break;case "quarter":d=Na(this,f)/3;break;case "second":d=(this-f)/1E3;break;case "minute":d=(this-f)/6E4;break;case "hour":d=
(this-f)/36E5;break;case "day":d=(this-f-b)/864E5;break;case "week":d=(this-f-b)/6048E5;break;default:d=this-f}return e?d:z(d)};aa.endOf=function(b){if(void 0===(b=T(b))||"millisecond"===b||!this.isValid())return this;var e=this._isUTC?Qb:Wa;switch(b){case "year":var f=e(this.year()+1,0,1)-1;break;case "quarter":f=e(this.year(),this.month()-this.month()%3+3,1)-1;break;case "month":f=e(this.year(),this.month()+1,1)-1;break;case "week":f=e(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;
case "isoWeek":f=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case "day":case "date":f=e(this.year(),this.month(),this.date()+1)-1;break;case "hour":f=this._d.valueOf();f+=36E5-Fa(f+(this._isUTC?0:6E4*this.utcOffset()),36E5)-1;break;case "minute":f=this._d.valueOf();f+=6E4-Fa(f,6E4)-1;break;case "second":f=this._d.valueOf(),f+=1E3-Fa(f,1E3)-1}return this._d.setTime(f),d.updateOffset(this,!0),this};aa.format=function(b){b||(b=this.isUtc()?d.defaultFormatUtc:d.defaultFormat);
b=S(this,b);return this.localeData().postformat(b)};aa.from=function(b,d){return this.isValid()&&(H(b)&&b.isValid()||Za(b).isValid())?Ca({to:this,from:b}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()};aa.fromNow=function(b){return this.from(Za(),b)};aa.to=function(b,d){return this.isValid()&&(H(b)&&b.isValid()||Za(b).isValid())?Ca({from:this,to:b}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()};aa.toNow=function(b){return this.to(Za(),b)};aa.get=function(b){return G(this[b=
T(b)])?this[b]():this};aa.invalidAt=function(){return t(this).overflow};aa.isAfter=function(b,d){b=H(b)?b:Za(b);return!(!this.isValid()||!b.isValid())&&("millisecond"===(d=T(d)||"millisecond")?this.valueOf()>b.valueOf():b.valueOf()<this.clone().startOf(d).valueOf())};aa.isBefore=function(b,d){b=H(b)?b:Za(b);return!(!this.isValid()||!b.isValid())&&("millisecond"===(d=T(d)||"millisecond")?this.valueOf()<b.valueOf():this.clone().endOf(d).valueOf()<b.valueOf())};aa.isBetween=function(b,d,e,f){b=H(b)?
b:Za(b);d=H(d)?d:Za(d);return!!(this.isValid()&&b.isValid()&&d.isValid())&&("("===(f=f||"()")[0]?this.isAfter(b,e):!this.isBefore(b,e))&&(")"===f[1]?this.isBefore(d,e):!this.isAfter(d,e))};aa.isSame=function(b,d){var e;b=H(b)?b:Za(b);return!(!this.isValid()||!b.isValid())&&("millisecond"===(d=T(d)||"millisecond")?this.valueOf()===b.valueOf():(e=b.valueOf(),this.clone().startOf(d).valueOf()<=e&&e<=this.clone().endOf(d).valueOf()))};aa.isSameOrAfter=function(b,d){return this.isSame(b,d)||this.isAfter(b,
d)};aa.isSameOrBefore=function(b,d){return this.isSame(b,d)||this.isBefore(b,d)};aa.isValid=function(){return v(this)};aa.lang=vc;aa.locale=Ua;aa.localeData=Va;aa.max=Mc;aa.min=Lc;aa.parsingFlags=function(){return q({},t(this))};aa.set=function(b,d){if("object"==typeof b){d=function(b){var d=[],e;for(e in b)d.push({unit:e,priority:lb[e]});return d.sort(function(b,d){return b.priority-d.priority}),d}(b=ea(b));for(var e=0;e<d.length;e++)this[d[e].unit](b[d[e].unit])}else if(G(this[b=T(b)]))return this[b](d);
return this};aa.startOf=function(b){if(void 0===(b=T(b))||"millisecond"===b||!this.isValid())return this;var e=this._isUTC?Qb:Wa;switch(b){case "year":var f=e(this.year(),0,1);break;case "quarter":f=e(this.year(),this.month()-this.month()%3,1);break;case "month":f=e(this.year(),this.month(),1);break;case "week":f=e(this.year(),this.month(),this.date()-this.weekday());break;case "isoWeek":f=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case "day":case "date":f=e(this.year(),this.month(),
this.date());break;case "hour":f=this._d.valueOf();f-=Fa(f+(this._isUTC?0:6E4*this.utcOffset()),36E5);break;case "minute":f=this._d.valueOf();f-=Fa(f,6E4);break;case "second":f=this._d.valueOf(),f-=Fa(f,1E3)}return this._d.setTime(f),d.updateOffset(this,!0),this};aa.subtract=Oc;aa.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};aa.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),
minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};aa.toDate=function(){return new Date(this.valueOf())};aa.toISOString=function(b){if(!this.isValid())return null;var d=(b=!0!==b)?this.clone().utc():this;return 0>d.year()||9999<d.year()?S(d,b?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):G(Date.prototype.toISOString)?b?this.toDate().toISOString():(new Date(this.valueOf()+6E4*this.utcOffset())).toISOString().replace("Z",S(d,"Z")):S(d,b?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":
"YYYY-MM-DD[T]HH:mm:ss.SSSZ")};aa.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var b="moment",d="";this.isLocal()||(b=0===this.utcOffset()?"moment.utc":"moment.parseZone",d="Z");b="["+b+'("]';var e=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(b+e+"-MM-DD[T]HH:mm:ss.SSS"+(d+'[")]'))};aa.toJSON=function(){return this.isValid()?this.toISOString():null};aa.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};
aa.unix=function(){return Math.floor(this.valueOf()/1E3)};aa.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};aa.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};aa.year=tc;aa.isLeapYear=function(){return Aa(this.year())};aa.weekYear=function(b){return Gb.call(this,b,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};aa.isoWeekYear=function(b){return Gb.call(this,b,this.isoWeek(),
this.isoWeekday(),1,4)};aa.quarter=aa.quarters=function(b){return null==b?Math.ceil((this.month()+1)/3):this.month(3*(b-1)+this.month()%3)};aa.month=za;aa.daysInMonth=function(){return Da(this.year(),this.month())};aa.week=aa.weeks=function(b){var d=this.localeData().week(this);return null==b?d:this.add(7*(b-d),"d")};aa.isoWeek=aa.isoWeeks=function(b){var d=ja(this,1,4).week;return null==b?d:this.add(7*(b-d),"d")};aa.weeksInYear=function(){var b=this.localeData()._week;return ia(this.year(),b.dow,
b.doy)};aa.isoWeeksInYear=function(){return ia(this.year(),1,4)};aa.date=wc;aa.day=aa.days=function(b){if(!this.isValid())return null!=b?this:NaN;var d,e,f=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=b?(d=b,e=this.localeData(),b="string"!=typeof d?d:isNaN(d)?"number"==typeof(d=e.weekdaysParse(d))?d:null:parseInt(d,10),this.add(b-f,"d")):f};aa.weekday=function(b){if(!this.isValid())return null!=b?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return null==b?d:this.add(b-
d,"d")};aa.isoWeekday=function(b){if(!this.isValid())return null!=b?this:NaN;if(null==b)return this.day()||7;var d;b=(d=this.localeData(),"string"==typeof b?d.weekdaysParse(b)%7||7:isNaN(b)?null:b);return this.day(this.day()%7?b:b-7)};aa.dayOfYear=function(b){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==b?d:this.add(b-d,"d")};aa.hour=aa.hours=Kc;aa.minute=aa.minutes=Pc;aa.second=aa.seconds=Qc;aa.millisecond=aa.milliseconds=Rc;aa.utcOffset=function(b,
e,f){var g,h=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null==b)return this._isUTC?h:gb(this);if("string"==typeof b){if(null===(b=La(dc,b)))return this}else 16>Math.abs(b)&&!f&&(b*=60);return!this._isUTC&&e&&(g=gb(this)),this._offset=b,this._isUTC=!0,null!=g&&this.add(g,"m"),h!==b&&(!e||this._changeInProgress?Ta(this,Ca(b-h,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this};aa.utc=function(b){return this.utcOffset(0,
b)};aa.local=function(b){return this._isUTC&&(this.utcOffset(0,b),this._isUTC=!1,b&&this.subtract(gb(this),"m")),this};aa.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var b=La(Jc,this._i);null!=b?this.utcOffset(b):this.utcOffset(0,!0)}return this};aa.hasAlignedHourOffset=function(b){return!!this.isValid()&&(b=b?Za(b).utcOffset():0,0==(this.utcOffset()-b)%60)};aa.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||
this.utcOffset()>this.clone().month(5).utcOffset()};aa.isLocal=function(){return!!this.isValid()&&!this._isUTC};aa.isUtcOffset=function(){return!!this.isValid()&&this._isUTC};aa.isUtc=Qa;aa.isUTC=Qa;aa.zoneAbbr=function(){return this._isUTC?"UTC":""};aa.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};aa.dates=L("dates accessor is deprecated. Use date instead.",wc);aa.months=L("months accessor is deprecated. Use month instead",za);aa.years=L("years accessor is deprecated. Use year instead",
tc);aa.zone=L("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(b,d){return null!=b?("string"!=typeof b&&(b=-b),this.utcOffset(b,d),this):-this.utcOffset()});aa.isDSTShifted=L("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!h(this._isDSTShifted))return this._isDSTShifted;var b={};if(w(b,this),(b=Ub(b))._a){var d=b._isUTC?r(b._a):Za(b._a);this._isDSTShifted=this.isValid()&&
0<O(b._a,d.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var bb=R.prototype;bb.calendar=function(b,d,e){b=this._calendar[b]||this._calendar.sameElse;return G(b)?b.call(d,e):b};bb.longDateFormat=function(b){var d=this._longDateFormat[b],e=this._longDateFormat[b.toUpperCase()];return d||!e?d:(this._longDateFormat[b]=e.replace(/MMMM|MM|DD|dddd/g,function(b){return b.slice(1)}),this._longDateFormat[b])};bb.invalidDate=function(){return this._invalidDate};bb.ordinal=function(b){return this._ordinal.replace("%d",
b)};bb.preparse=Wb;bb.postformat=Wb;bb.relativeTime=function(b,d,e,f){var g=this._relativeTime[e];return G(g)?g(b,d,e,f):g.replace(/%d/i,b)};bb.pastFuture=function(b,d){b=this._relativeTime[0<b?"future":"past"];return G(b)?b(d):b.replace(/%s/i,d)};bb.set=function(b){var d,e;for(e in b)G(d=b[e])?this[e]=d:this["_"+e]=d;this._config=b;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};bb.months=function(b,d){return b?
f(this._months)?this._months[b.month()]:this._months[(this._months.isFormat||uc).test(d)?"format":"standalone"][b.month()]:f(this._months)?this._months:this._months.standalone};bb.monthsShort=function(b,d){return b?f(this._monthsShort)?this._monthsShort[b.month()]:this._monthsShort[uc.test(d)?"format":"standalone"][b.month()]:f(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};bb.monthsParse=function(b,d,e){var f;if(this._monthsParseExact){var g=b.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=
[],this._longMonthsParse=[],this._shortMonthsParse=[],b=0;12>b;++b){var h=r([2E3,b]);this._shortMonthsParse[b]=this.monthsShort(h,"").toLocaleLowerCase();this._longMonthsParse[b]=this.months(h,"").toLocaleLowerCase()}return e?"MMM"===d?-1!==(f=jb.call(this._shortMonthsParse,g))?f:null:-1!==(f=jb.call(this._longMonthsParse,g))?f:null:"MMM"===d?-1!==(f=jb.call(this._shortMonthsParse,g))?f:-1!==(f=jb.call(this._longMonthsParse,g))?f:null:-1!==(f=jb.call(this._longMonthsParse,g))?f:-1!==(f=jb.call(this._shortMonthsParse,
g))?f:null}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(f=0;12>f;f++)if((h=r([2E3,f]),e&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=new RegExp("^"+this.months(h,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=new RegExp("^"+this.monthsShort(h,"").replace(".","")+"$","i")),e||this._monthsParse[f]||(g="^"+this.months(h,"")+"|^"+this.monthsShort(h,""),this._monthsParse[f]=new RegExp(g.replace(".",""),"i")),e&&"MMMM"===d&&this._longMonthsParse[f].test(b))||
e&&"MMM"===d&&this._shortMonthsParse[f].test(b)||!e&&this._monthsParse[f].test(b))return f};bb.monthsRegex=function(b){return this._monthsParseExact?(n(this,"_monthsRegex")||va.call(this),b?this._monthsStrictRegex:this._monthsRegex):(n(this,"_monthsRegex")||(this._monthsRegex=Xb),this._monthsStrictRegex&&b?this._monthsStrictRegex:this._monthsRegex)};bb.monthsShortRegex=function(b){return this._monthsParseExact?(n(this,"_monthsRegex")||va.call(this),b?this._monthsShortStrictRegex:this._monthsShortRegex):
(n(this,"_monthsShortRegex")||(this._monthsShortRegex=Xb),this._monthsShortStrictRegex&&b?this._monthsShortStrictRegex:this._monthsShortRegex)};bb.week=function(b){return ja(b,this._week.dow,this._week.doy).week};bb.firstDayOfYear=function(){return this._week.doy};bb.firstDayOfWeek=function(){return this._week.dow};bb.weekdays=function(b,d){d=f(this._weekdays)?this._weekdays:this._weekdays[b&&!0!==b&&this._weekdays.isFormat.test(d)?"format":"standalone"];return!0===b?na(d,this._week.dow):b?d[b.day()]:
d};bb.weekdaysMin=function(b){return!0===b?na(this._weekdaysMin,this._week.dow):b?this._weekdaysMin[b.day()]:this._weekdaysMin};bb.weekdaysShort=function(b){return!0===b?na(this._weekdaysShort,this._week.dow):b?this._weekdaysShort[b.day()]:this._weekdaysShort};bb.weekdaysParse=function(b,d,e){var f;if(this._weekdaysParseExact){var g=b.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],b=0;7>b;++b){var h=r([2E3,1]).day(b);this._minWeekdaysParse[b]=
this.weekdaysMin(h,"").toLocaleLowerCase();this._shortWeekdaysParse[b]=this.weekdaysShort(h,"").toLocaleLowerCase();this._weekdaysParse[b]=this.weekdays(h,"").toLocaleLowerCase()}return e?"dddd"===d?-1!==(f=jb.call(this._weekdaysParse,g))?f:null:"ddd"===d?-1!==(f=jb.call(this._shortWeekdaysParse,g))?f:null:-1!==(f=jb.call(this._minWeekdaysParse,g))?f:null:"dddd"===d?-1!==(f=jb.call(this._weekdaysParse,g))?f:-1!==(f=jb.call(this._shortWeekdaysParse,g))?f:-1!==(f=jb.call(this._minWeekdaysParse,g))?
f:null:"ddd"===d?-1!==(f=jb.call(this._shortWeekdaysParse,g))?f:-1!==(f=jb.call(this._weekdaysParse,g))?f:-1!==(f=jb.call(this._minWeekdaysParse,g))?f:null:-1!==(f=jb.call(this._minWeekdaysParse,g))?f:-1!==(f=jb.call(this._weekdaysParse,g))?f:-1!==(f=jb.call(this._shortWeekdaysParse,g))?f:null}this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(f=0;7>f;f++)if((h=r([2E3,1]).day(f),e&&!this._fullWeekdaysParse[f]&&(this._fullWeekdaysParse[f]=
new RegExp("^"+this.weekdays(h,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[f]=new RegExp("^"+this.weekdaysShort(h,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[f]=new RegExp("^"+this.weekdaysMin(h,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[f]||(g="^"+this.weekdays(h,"")+"|^"+this.weekdaysShort(h,"")+"|^"+this.weekdaysMin(h,""),this._weekdaysParse[f]=new RegExp(g.replace(".",""),"i")),e&&"dddd"===d&&this._fullWeekdaysParse[f].test(b))||e&&"ddd"===d&&this._shortWeekdaysParse[f].test(b)||
e&&"dd"===d&&this._minWeekdaysParse[f].test(b)||!e&&this._weekdaysParse[f].test(b))return f};bb.weekdaysRegex=function(b){return this._weekdaysParseExact?(n(this,"_weekdaysRegex")||fa.call(this),b?this._weekdaysStrictRegex:this._weekdaysRegex):(n(this,"_weekdaysRegex")||(this._weekdaysRegex=Xb),this._weekdaysStrictRegex&&b?this._weekdaysStrictRegex:this._weekdaysRegex)};bb.weekdaysShortRegex=function(b){return this._weekdaysParseExact?(n(this,"_weekdaysRegex")||fa.call(this),b?this._weekdaysShortStrictRegex:
this._weekdaysShortRegex):(n(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xb),this._weekdaysShortStrictRegex&&b?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)};bb.weekdaysMinRegex=function(b){return this._weekdaysParseExact?(n(this,"_weekdaysRegex")||fa.call(this),b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(n(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xb),this._weekdaysMinStrictRegex&&b?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)};bb.isPM=function(b){return"p"===
(b+"").toLowerCase().charAt(0)};bb.meridiem=function(b,d,e){return 11<b?e?"pm":"PM":e?"am":"AM"};ra("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(b){var d=b%10;return b+(1===I(b%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th")}});d.lang=L("moment.lang is deprecated. Use moment.locale instead.",ra);d.langData=L("moment.langData is deprecated. Use moment.localeData instead.",ma);var Hb=Math.abs,Sc=eb("ms"),Tc=eb("s"),Uc=eb("m"),Vc=eb("h"),Wc=eb("d"),Xc=eb("w"),Yc=eb("M"),Zc=
eb("Q"),$c=eb("y"),ad=kb("milliseconds"),bd=kb("seconds"),cd=kb("minutes"),dd=kb("hours"),ed=kb("days"),fd=kb("months"),gd=kb("years"),Jb=Math.round,Cb={ss:44,s:45,m:45,h:22,d:26,M:11},ic=Math.abs,Ya=Ia.prototype;return Ya.isValid=function(){return this._isValid},Ya.abs=function(){var b=this._data;return this._milliseconds=Hb(this._milliseconds),this._days=Hb(this._days),this._months=Hb(this._months),b.milliseconds=Hb(b.milliseconds),b.seconds=Hb(b.seconds),b.minutes=Hb(b.minutes),b.hours=Hb(b.hours),
b.months=Hb(b.months),b.years=Hb(b.years),this},Ya.add=function(b,d){return ub(this,b,d,1)},Ya.subtract=function(b,d){return ub(this,b,d,-1)},Ya.as=function(b){if(!this.isValid())return NaN;var d;var e=this._milliseconds;if("month"===(b=T(b))||"quarter"===b||"year"===b)switch(d=this._days+e/864E5,e=this._months+4800*d/146097,b){case "month":return e;case "quarter":return e/3;case "year":return e/12}else switch(d=this._days+Math.round(146097*this._months/4800),b){case "week":return d/7+e/6048E5;case "day":return d+
e/864E5;case "hour":return 24*d+e/36E5;case "minute":return 1440*d+e/6E4;case "second":return 86400*d+e/1E3;case "millisecond":return Math.floor(864E5*d)+e;default:throw Error("Unknown unit "+b);}},Ya.asMilliseconds=Sc,Ya.asSeconds=Tc,Ya.asMinutes=Uc,Ya.asHours=Vc,Ya.asDays=Wc,Ya.asWeeks=Xc,Ya.asMonths=Yc,Ya.asQuarters=Zc,Ya.asYears=$c,Ya.valueOf=function(){return this.isValid()?this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*I(this._months/12):NaN},Ya._bubble=function(){var b,
d,e,f,g,h=this._milliseconds,l=this._days,n=this._months,m=this._data;return 0<=h&&0<=l&&0<=n||0>=h&&0>=l&&0>=n||(h+=864E5*vb(146097*n/4800+l),n=l=0),m.milliseconds=h%1E3,b=z(h/1E3),m.seconds=b%60,d=z(b/60),m.minutes=d%60,e=z(d/60),m.hours=e%24,n+=g=z(4800*(l+=z(e/24))/146097),l-=vb(146097*g/4800),f=z(n/12),n%=12,m.days=l,m.months=n,m.years=f,this},Ya.clone=function(){return Ca(this)},Ya.get=function(b){return b=T(b),this.isValid()?this[b+"s"]():NaN},Ya.milliseconds=ad,Ya.seconds=bd,Ya.minutes=cd,
Ya.hours=dd,Ya.days=ed,Ya.weeks=function(){return z(this.days()/7)},Ya.months=fd,Ya.years=gd,Ya.humanize=function(b){if(!this.isValid())return this.localeData().invalidDate();var d,e,f,g,h,l,n,m,p,q=this.localeData(),G=(d=!b,e=Ca(this).abs(),f=Jb(e.as("s")),g=Jb(e.as("m")),h=Jb(e.as("h")),l=Jb(e.as("d")),n=Jb(e.as("M")),m=Jb(e.as("y")),(p=f<=Cb.ss&&["s",f]||f<Cb.s&&["ss",f]||1>=g&&["m"]||g<Cb.m&&["mm",g]||1>=h&&["h"]||h<Cb.h&&["hh",h]||1>=l&&["d"]||l<Cb.d&&["dd",l]||1>=n&&["M"]||n<Cb.M&&["MM",n]||
1>=m&&["y"]||["yy",m])[2]=d,p[3]=0<+this,p[4]=q,function(b,d,e,f,g){return g.relativeTime(d||1,!!e,b,f)}.apply(null,p));return b&&(G=q.pastFuture(+this,G)),q.postformat(G)},Ya.toISOString=ob,Ya.toString=ob,Ya.toJSON=ob,Ya.locale=Ua,Ya.localeData=Va,Ya.toIsoString=L("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ob),Ya.lang=vc,P("X",0,0,"unix"),P("x",0,0,"valueOf"),V("x",cc),V("X",/[+-]?\d+(\.\d{1,3})?/),Z("X",function(b,d,e){e._d=new Date(1E3*parseFloat(b,10))}),
Z("x",function(b,d,e){e._d=new Date(I(b))}),d.version="2.24.0",sb=Za,d.fn=aa,d.min=function(){return Oa("isBefore",[].slice.call(arguments,0))},d.max=function(){return Oa("isAfter",[].slice.call(arguments,0))},d.now=function(){return Date.now?Date.now():+new Date},d.utc=r,d.unix=function(b){return Za(1E3*b)},d.months=function(b,d){return tb(b,d,"months")},d.isDate=m,d.locale=ra,d.invalid=u,d.duration=Ca,d.isMoment=H,d.weekdays=function(b,d,e){return qb(b,d,e,"weekdays")},d.parseZone=function(){return Za.apply(null,
arguments).parseZone()},d.localeData=ma,d.isDuration=Ja,d.monthsShort=function(b,d){return tb(b,d,"monthsShort")},d.weekdaysMin=function(b,d,e){return qb(b,d,e,"weekdaysMin")},d.defineLocale=xa,d.updateLocale=function(b,d){if(null!=d){var e,f=mc;null!=(e=pa(b))&&(f=e._config);(e=new R(d=U(f,d))).parentLocale=hb[b];hb[b]=e;ra(b)}else null!=hb[b]&&(null!=hb[b].parentLocale?hb[b]=hb[b].parentLocale:null!=hb[b]&&delete hb[b]);return hb[b]},d.locales=function(){return rb(hb)},d.weekdaysShort=function(b,
d,e){return qb(b,d,e,"weekdaysShort")},d.normalizeUnits=T,d.relativeTimeRounding=function(b){return void 0===b?Jb:"function"==typeof b&&(Jb=b,!0)},d.relativeTimeThreshold=function(b,d){return void 0!==Cb[b]&&(void 0===d?Cb[b]:(Cb[b]=d,"s"===b&&(Cb.ss=d-1),!0))},d.calendarFormat=function(b,d){b=b.diff(d,"days",!0);return-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse"},d.prototype=aa,d.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",
DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},d})}),stylis=createCommonjsModule(function(b,d){b.exports=function g(b){function d(b,g,h,l,m){for(var G=0,F=0,z=0,t=0,I,u,U=0,O=0,N=0,v=0,S=0,P=0,Z=0,R=0,H=0,Aa=0,ba=0,Q=0,ua=h.length,oa=ua-1,ca="",ha="",xa="",wa="",ma;R<ua;){u=h.charCodeAt(R);R===oa&&0!==F+t+z+G&&(0!==F&&(u=47===F?10:47),t=z=G=0,ua++,oa++);if(0===F+t+z+G){if(R===oa&&(0<H&&(ca=
ca.replace(J,"")),0<ca.trim().length)){switch(u){case 32:case 9:case 59:case 13:case 10:break;default:ca+=h.charAt(R)}u=59}if(1===Aa)switch(u){case 123:case 125:case 59:case 34:case 39:case 40:case 41:case 44:Aa=0;case 9:case 13:case 10:case 32:break;default:for(Aa=0,Q=R,I=u,R--,u=59;Q<ua;)switch(h.charCodeAt(Q++)){case 10:case 13:case 59:++R;u=I;Q=ua;break;case 58:0<H&&(++R,u=I);case 123:Q=ua}}switch(u){case 123:ca=ca.trim();I=ca.charCodeAt(0);v=1;for(Q=++R;R<ua;){switch(u=h.charCodeAt(R)){case 123:v++;
break;case 125:v--;break;case 47:switch(u=h.charCodeAt(R+1)){case 42:case 47:a:{P=u;u=oa;S=h;for(Z=R+1;Z<u;++Z)switch(S.charCodeAt(Z)){case 47:if(42===P&&42===S.charCodeAt(Z-1)&&R+2!==Z){R=Z+1;break a}break;case 10:if(47===P){R=Z+1;break a}}R=Z}}break;case 91:u++;case 40:u++;case 34:case 39:for(;R++<oa&&h.charCodeAt(R)!==u;);}if(0===v)break;R++}P=h.substring(Q,R);0===I&&(I=(ca=ca.replace(w,"").trim()).charCodeAt(0));switch(I){case 64:0<H&&(ca=ca.replace(J,""));u=ca.charCodeAt(1);switch(u){case 100:case 109:case 115:case 45:H=
g;break;default:H=ia}P=d(g,H,P,u,m+1);Q=P.length;0<ja&&0===Q&&(Q=ca.length);0<fa&&(H=f(ia,ca,ba),ma=r(3,P,H,g,Da,Xa,Q,u,m,l),ca=H.join(""),void 0!==ma&&0===(Q=(P=ma.trim()).length)&&(u=0,P=""));if(0<Q)switch(u){case 115:ca=ca.replace(la,q);case 100:case 109:case 45:P=ca+"{"+P+"}";break;case 107:ca=ca.replace(W,"$1 $2"+(0<sa?qa:""));P=ca+"{"+P+"}";P=1===va||2===va&&n("@"+P,3)?"@-webkit-"+P+"@"+P:"@"+P;break;default:P=ca+P,112===l&&(P=(ha+=P,""))}else P="";break;default:P=d(g,f(g,ca,ba),P,l,m+1)}xa+=
P;P=ba=H=Z=Aa=S=0;ca="";u=h.charCodeAt(++R);break;case 125:case 59:ca=(0<H?ca.replace(J,""):ca).trim();if(1<(Q=ca.length))switch(0===Z&&(I=ca.charCodeAt(0),45===I||96<I&&123>I)&&(Q=(ca=ca.replace(" ",":")).length),0<fa&&void 0!==(ma=r(1,ca,g,b,Da,Xa,ha.length,l,m,l))&&0===(Q=(ca=ma.trim()).length)&&(ca="\x00\x00"),I=ca.charCodeAt(0),u=ca.charCodeAt(1),I){case 0:break;case 64:if(105===u||99===u){wa+=ca+h.charAt(R);break}default:58!==ca.charCodeAt(Q-1)&&(ha+=p(ca,I,u,ca.charCodeAt(2)))}ba=H=Z=Aa=S=
0;ca="";u=h.charCodeAt(++R)}}switch(u){case 13:case 10:if(0===F+t+z+G+da)switch(N){case 41:case 39:case 34:case 64:case 126:case 62:case 42:case 43:case 47:case 45:case 58:case 44:case 59:case 123:case 125:break;default:0<Z&&(Aa=1)}47===F?F=0:0===za+S&&107!==l&&0<ca.length&&(H=1,ca+="\x00");0<fa*ab&&r(0,ca,g,b,Da,Xa,ha.length,l,m,l);Xa=1;Da++;break;case 59:case 125:if(0===F+t+z+G){Xa++;break}default:Xa++;I=h.charAt(R);switch(u){case 9:case 32:if(0===t+G+F)switch(U){case 44:case 58:case 9:case 32:I=
"";break;default:32!==u&&(I=" ")}break;case 0:I="\\0";break;case 12:I="\\f";break;case 11:I="\\v";break;case 38:0===t+F+G&&0<za&&(H=ba=1,I="\f"+I);break;case 108:if(0===t+F+G+Ha&&0<Z)switch(R-Z){case 2:112===U&&58===h.charCodeAt(R-3)&&(Ha=U);case 8:111===O&&(Ha=O)}break;case 58:0===t+F+G&&(Z=R);break;case 44:0===F+z+t+G&&(H=1,I+="\r");break;case 34:case 39:0===F&&(t=t===u?0:0===t?u:t);break;case 91:0===t+F+z&&G++;break;case 93:0===t+F+z&&G--;break;case 41:0===t+F+G&&z--;break;case 40:if(0===t+F+G){if(0===
S)switch(2*U+3*O){case 533:break;default:v=0,S=1}z++}break;case 64:0===F+z+t+G+Z+P&&(P=1);break;case 42:case 47:if(!(0<t+G+z))switch(F){case 0:switch(2*u+3*h.charCodeAt(R+1)){case 235:F=47;break;case 220:Q=R,F=42}break;case 42:47===u&&42===U&&Q+2!==R&&(33===h.charCodeAt(Q+2)&&(ha+=h.substring(Q,R+1)),I="",F=0)}}if(0===F){if(0===za+t+G+P&&107!==l&&59!==u)switch(u){case 44:case 126:case 62:case 43:case 41:case 40:if(0===S){switch(U){case 9:case 32:case 10:case 13:I+="\x00";break;default:I="\x00"+I+
(44===u?"":"\x00")}H=1}else switch(u){case 40:Z+7===R&&108===U&&(Z=0);S=++v;break;case 41:0===(S=--v)&&(H=1,I+="\x00")}break;case 9:case 32:switch(U){case 0:case 123:case 125:case 59:case 44:case 12:case 9:case 32:case 10:case 13:break;default:0===S&&(H=1,I+="\x00")}}ca+=I;32!==u&&9!==u&&(N=u)}}O=U;U=u;R++}Q=ha.length;0<ja&&0===Q&&0===xa.length&&0===g[0].length===!1&&(109!==l||1===g.length&&(0<za?pa:ra)===g[0])&&(Q=g.join(",").length+2);if(0<Q){if(0===za&&107!==l){h=0;G=g.length;for(F=Array(G);h<
G;++h){U=g[h].split(L);O="";N=0;for(oa=U.length;N<oa;++N)if(!(0===(v=(t=U[N]).length)&&1<oa)){ba=O.charCodeAt(O.length-1);ua=t.charCodeAt(0);z="";if(0!==N)switch(ba){case 42:case 126:case 62:case 43:case 32:case 40:break;default:z=" "}switch(ua){case 38:t=z+pa;case 126:case 62:case 43:case 32:case 41:case 40:break;case 91:t=z+t+pa;break;case 58:switch(2*t.charCodeAt(1)+3*t.charCodeAt(2)){case 530:if(0<Ba){t=z+t.substring(8,v-1);break}default:if(1>N||1>U[N-1].length)t=z+pa+t}break;case 44:z="";default:t=
1<v&&0<t.indexOf(":")?z+t.replace(V,"$1"+pa+"$2"):z+t+pa}O+=t}F[h]=O.replace(J,"").trim()}g=F}H=g;if(0<fa&&(ma=r(2,ha,H,b,Da,Xa,Q,l,m,l),void 0!==ma&&0===(ha=ma).length))return wa+ha+xa;ha=H.join(",")+"{"+ha+"}";if(0!==va*Ha){2!==va||n(ha,2)||(Ha=0);switch(Ha){case 111:ha=ha.replace(ea,":-moz-$1")+ha;break;case 112:ha=ha.replace(T,"::-webkit-input-$1")+ha.replace(T,"::-moz-$1")+ha.replace(T,":-ms-input-$1")+ha}Ha=0}}return wa+ha+xa}function f(b,d,f){var g=d.trim().split(F);d=g;var h=g.length,l=b.length;
switch(l){case 0:case 1:var n=0;for(b=0===l?"":b[0]+" ";n<h;++n)d[n]=m(b,d[n],f,l).trim();break;default:var p=n=0;for(d=[];n<h;++n)for(var q=0;q<l;++q)d[p++]=m(b[q]+" ",g[n],f,l).trim()}return d}function m(b,d,f,g){var h=d.charCodeAt(0);33>h&&(h=(d=d.trim()).charCodeAt(0));switch(h){case 38:switch(za+g){case 0:case 1:if(0===b.trim().length)break;default:return d.replace(G,"$1"+b.trim())}break;case 58:switch(d.charCodeAt(1)){case 103:if(0<Ba&&0<za)return d.replace(U,"$1").replace(G,"$1"+ra);break;
default:return b.trim()+d.replace(G,"$1"+b.trim())}default:if(0<f*za&&0<d.indexOf("\f"))return d.replace(G,(58===b.charCodeAt(0)?"":"$1")+b.trim())}return b+d}function p(b,d,f,g){var h=b+";",l=2*d+3*f+4*g;if(944===l){f=h;b=f.length;h=f.indexOf(":",9)+1;var m=f.substring(0,h).trim();d=f.substring(h,b-1).trim();switch(f.charCodeAt(9)*sa){case 0:break;case 45:if(110!==f.charCodeAt(10))break;default:for(f=d.split((d="",O)),h=g=0,b=f.length;g<b;h=0,++g){l=f[g];for(var q=l.split(N);l=q[h];){var G=l.charCodeAt(0);
if(1===sa&&(64<G&&90>G||96<G&&123>G||95===G||45===G&&45!==l.charCodeAt(1)))switch(isNaN(parseFloat(l))+(-1!==l.indexOf("("))){case 1:switch(l){case "infinite":case "alternate":case "backwards":case "running":case "normal":case "forwards":case "both":case "none":case "linear":case "ease":case "ease-in":case "ease-out":case "ease-in-out":case "paused":case "reverse":case "alternate-reverse":case "inherit":case "initial":case "unset":case "step-start":case "step-end":break;default:l+=qa}}q[h++]=l}d+=
(0===g?"":",")+q.join(" ")}}d=m+d+";";b=1===va||2===va&&n(d,1)?"-webkit-"+d+d:d;return b}if(0===va||2===va&&!n(h,1))return h;switch(l){case 1015:return 97===h.charCodeAt(10)?"-webkit-"+h+h:h;case 951:return 116===h.charCodeAt(3)?"-webkit-"+h+h:h;case 963:return 110===h.charCodeAt(5)?"-webkit-"+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return"-webkit-"+h+h;case 978:return"-webkit-"+h+"-moz-"+h+h;case 1019:case 983:return"-webkit-"+h+"-moz-"+h+"-ms-"+h+h;case 883:if(45===h.charCodeAt(8))return"-webkit-"+
h+h;if(0<h.indexOf("image-set(",11))return h.replace(db,"$1-webkit-$2")+h;break;case 932:if(45===h.charCodeAt(4))switch(h.charCodeAt(5)){case 103:return"-webkit-box-"+h.replace("-grow","")+"-webkit-"+h+"-ms-"+h.replace("grow","positive")+h;case 115:return"-webkit-"+h+"-ms-"+h.replace("shrink","negative")+h;case 98:return"-webkit-"+h+"-ms-"+h.replace("basis","preferred-size")+h}return"-webkit-"+h+"-ms-"+h+h;case 964:return"-webkit-"+h+"-ms-flex-"+h+h;case 1023:if(99!==h.charCodeAt(8))break;m=h.substring(h.indexOf(":",
15)).replace("flex-","").replace("space-between","justify");return"-webkit-box-pack"+m+"-webkit-"+h+"-ms-flex-pack"+m+h;case 1005:return z.test(h)?h.replace(H,":-webkit-")+h.replace(H,":-moz-")+h:h;case 1E3:m=h.substring(13).trim();d=m.indexOf("-")+1;switch(m.charCodeAt(0)+m.charCodeAt(d)){case 226:m=h.replace(ba,"tb");break;case 232:m=h.replace(ba,"tb-rl");break;case 220:m=h.replace(ba,"lr");break;default:return h}return"-webkit-"+h+"-ms-"+m+h;case 1017:if(-1===h.indexOf("sticky",9))break;case 975:d=
(h=b).length-10;m=(33===h.charCodeAt(d)?h.substring(0,d):h).substring(b.indexOf(":",7)+1).trim();switch(l=m.charCodeAt(0)+(m.charCodeAt(7)|0)){case 203:if(111>m.charCodeAt(8))break;case 115:h=h.replace(m,"-webkit-"+m)+";"+h;break;case 207:case 102:h=h.replace(m,"-webkit-"+(102<l?"inline-":"")+"box")+";"+h.replace(m,"-webkit-"+m)+";"+h.replace(m,"-ms-"+m+"box")+";"+h}return h+";";case 938:if(45===h.charCodeAt(5))switch(h.charCodeAt(6)){case 105:return m=h.replace("-items",""),"-webkit-"+h+"-webkit-box-"+
m+"-ms-flex-"+m+h;case 115:return"-webkit-"+h+"-ms-flex-item-"+h.replace(oa,"")+h;default:return"-webkit-"+h+"-ms-flex-line-pack"+h.replace("align-content","").replace(oa,"")+h}break;case 973:case 989:if(45!==h.charCodeAt(3)||122===h.charCodeAt(4))break;case 931:case 953:if(!0===ca.test(b))return 115===(m=b.substring(b.indexOf(":")+1)).charCodeAt(0)?p(b.replace("stretch","fill-available"),d,f,g).replace(":fill-available",":stretch"):h.replace(m,"-webkit-"+m)+h.replace(m,"-moz-"+m.replace("fill-",
""))+h;break;case 962:if(h="-webkit-"+h+(102===h.charCodeAt(5)?"-ms-"+h:"")+h,211===f+g&&105===h.charCodeAt(13)&&0<h.indexOf("transform",10))return h.substring(0,h.indexOf(";",27)+1).replace(I,"$1-webkit-$2")+h}return h}function n(b,d){var f=b.indexOf(1===d?":":"{"),g=b.substring(0,3!==d?f:10);b=b.substring(f+1,b.length-1);return ta(2!==d?g:g.replace(Aa,"$1"),b,d)}function q(b,d){b=p(d,d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2));return b!==d+";"?b.replace(Z," or ($1)").substring(4):"("+d+")"}
function r(b,d,f,g,h,l,n,m,p,q){for(var G=0,F=d,r;G<fa;++G)switch(r=na[G].call(u,b,F,f,g,h,l,n,m,p,q)){case void 0:case !1:case !0:case null:break;default:F=r}if(F!==d)return F}function t(b){switch(b){case void 0:case null:fa=na.length=0;break;default:if("function"===typeof b)na[fa++]=b;else if("object"===typeof b)for(var d=0,f=b.length;d<f;++d)t(b[d]);else ab=!!b|0}return t}function v(b){for(var d in b){var f=b[d];switch(d){case "keyframe":sa=f|0;break;case "global":Ba=f|0;break;case "cascade":za=
f|0;break;case "compress":ya=f|0;break;case "semicolon":da=f|0;break;case "preserve":ja=f|0;break;case "prefix":ta=null,f?"function"!==typeof f?va=1:(va=2,ta=f):va=0}}return v}function u(b,f){if(void 0!==this&&this.constructor===u)return g(b);var h=b;b=h.charCodeAt(0);33>b&&(b=(h=h.trim()).charCodeAt(0));0<sa&&(qa=h.replace(R,91===b?"":"-"));b=1;1===za?ra=h:pa=h;h=[ra];if(0<fa){var l=r(-1,f,h,h,Da,Xa,0,0,0,0);void 0!==l&&"string"===typeof l&&(f=l)}f=d(ia,h,f,0,0);0<fa&&(l=r(-2,f,h,h,Da,Xa,f.length,
0,0,0),void 0!==l&&"string"!==typeof(f=l)&&(b=0));pa=ra=qa="";Ha=0;Xa=Da=1;return 0===ya*b?f:f.replace(J,"").replace(Q,"").replace(P,"$1").replace(S,"$1").replace(ua," ")}var w=/^\0+/g,J=/[\0\r\f]/g,H=/: */g,z=/zoo|gra/,I=/([,: ])(transform)/g,O=/,+\s*(?![^(]*[)])/g,N=/ +\s*(?![^(]*[)])/g,L=/ *[\0] */g,F=/,\r+?/g,G=/([\t\r\n ])*\f?&/g,U=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,R=/\W+/g,W=/@(k\w+)\s*(\S*)\s*/,T=/::(place)/g,ea=/:(read-only)/g,Q=/\s+(?=[{\];=:>])/g,P=/([[}=:>])\s+/g,S=
/(\{[^{]+?);(?=\})/g,ua=/\s{2,}/g,V=/([^\(])(:+) */g,ba=/[svh]\w+-[tblr]{2}/,la=/\(\s*(.*)\s*\)/g,Z=/([\s\S]*?);/g,oa=/-self|flex-/g,Aa=/[^]*?(:[rp][el]a[\w-]+)[^]*/,ca=/stretch|:\s*\w+\-(?:conte|avail)/,db=/([^-])(image-set\()/,Xa=1,Da=1,Ha=0,za=1,va=1,Ba=1,ya=0,da=0,ja=0,ia=[],na=[],fa=0,ta=null,ab=0,sa=1,qa="",pa="",ra="";u.use=t;u.set=v;void 0!==b&&v(b);return u}(null)}),require$$5=getAugmentedNamespace(browser),mermaid_core=createCommonjsModule(function(b,d){(function(d,f){b.exports=f()})("undefined"!==
typeof self?self:commonjsGlobal,function(){return function(b){function d(f){if(e[f])return e[f].exports;var g=e[f]={i:f,l:!1,exports:{}};b[f].call(g.exports,g,g.exports,d);g.l=!0;return g.exports}var e={};d.m=b;d.c=e;d.d=function(b,e,f){d.o(b,e)||Object.defineProperty(b,e,{enumerable:!0,get:f})};d.r=function(b){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});Object.defineProperty(b,"__esModule",{value:!0})};d.t=function(b,e){e&1&&(b=d(b));
if(e&8||e&4&&"object"===typeof b&&b&&b.__esModule)return b;var f=Object.create(null);d.r(f);Object.defineProperty(f,"default",{enumerable:!0,value:b});if(e&2&&"string"!=typeof b)for(var g in b)d.d(f,g,function(d){return b[d]}.bind(null,g));return f};d.n=function(b){var e=b&&b.__esModule?function(){return b["default"]}:function(){return b};d.d(e,"a",e);return e};d.o=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};d.p="";return d(d.s="./src/mermaid.js")}({"./node_modules/node-libs-browser/mock/empty.js":function(b,
d){},"./node_modules/path-browserify/index.js":function(b,d,g){(function(b){function e(b,d){for(var e=0,f=b.length-1;0<=f;f--){var g=b[f];"."===g?b.splice(f,1):".."===g?(b.splice(f,1),e++):e&&(b.splice(f,1),e--)}if(d)for(;e--;e)b.unshift("..");return b}function f(b,d){if(b.filter)return b.filter(d);for(var e=[],f=0;f<b.length;f++)d(b[f],f,b)&&e.push(b[f]);return e}d.resolve=function(){for(var d="",g=!1,h=arguments.length-1;-1<=h&&!g;h--){var l=0<=h?arguments[h]:b.cwd();if("string"!==typeof l)throw new TypeError("Arguments to path.resolve must be strings");
l&&(d=l+"/"+d,g="/"===l.charAt(0))}d=e(f(d.split("/"),function(b){return!!b}),!g).join("/");return(g?"/":"")+d||"."};d.normalize=function(b){var h=d.isAbsolute(b),l="/"===g(b,-1);(b=e(f(b.split("/"),function(b){return!!b}),!h).join("/"))||h||(b=".");b&&l&&(b+="/");return(h?"/":"")+b};d.isAbsolute=function(b){return"/"===b.charAt(0)};d.join=function(){var b=Array.prototype.slice.call(arguments,0);return d.normalize(f(b,function(b,d){if("string"!==typeof b)throw new TypeError("Arguments to path.join must be strings");
return b}).join("/"))};d.relative=function(b,e){function f(b){for(var d=0;d<b.length&&""===b[d];d++);for(var e=b.length-1;0<=e&&""===b[e];e--);return d>e?[]:b.slice(d,e-d+1)}b=d.resolve(b).substr(1);e=d.resolve(e).substr(1);b=f(b.split("/"));e=f(e.split("/"));for(var g=Math.min(b.length,e.length),h=g,l=0;l<g;l++)if(b[l]!==e[l]){h=l;break}g=[];for(l=h;l<b.length;l++)g.push("..");g=g.concat(e.slice(h));return g.join("/")};d.sep="/";d.delimiter=":";d.dirname=function(b){"string"!==typeof b&&(b+="");
if(0===b.length)return".";for(var d=b.charCodeAt(0),e=47===d,f=-1,g=!0,h=b.length-1;1<=h;--h)if(d=b.charCodeAt(h),47===d){if(!g){f=h;break}}else g=!1;return-1===f?e?"/":".":e&&1===f?"/":b.slice(0,f)};d.basename=function(b,d){"string"!==typeof b&&(b+="");var e=0,f=-1,g=!0,h;for(h=b.length-1;0<=h;--h)if(47===b.charCodeAt(h)){if(!g){e=h+1;break}}else-1===f&&(g=!1,f=h+1);b=-1===f?"":b.slice(e,f);d&&b.substr(-1*d.length)===d&&(b=b.substr(0,b.length-d.length));return b};d.extname=function(b){"string"!==
typeof b&&(b+="");for(var d=-1,e=0,f=-1,g=!0,h=0,l=b.length-1;0<=l;--l){var m=b.charCodeAt(l);if(47===m){if(!g){e=l+1;break}}else-1===f&&(g=!1,f=l+1),46===m?-1===d?d=l:1!==h&&(h=1):-1!==d&&(h=-1)}return-1===d||-1===f||0===h||1===h&&d===f-1&&d===e+1?"":b.slice(d,f)};var g="b"==="ab".substr(-1)?function(b,d,e){return b.substr(d,e)}:function(b,d,e){0>d&&(d=b.length+d);return b.substr(d,e)}}).call(this,g("./node_modules/process/browser.js"))},"./node_modules/process/browser.js":function(b,d){function e(){throw Error("setTimeout has not been defined");
}function f(){throw Error("clearTimeout has not been defined");}function l(b){if(t===setTimeout)return setTimeout(b,0);if((t===e||!t)&&setTimeout)return t=setTimeout,setTimeout(b,0);try{return t(b,0)}catch(I){try{return t.call(null,b,0)}catch(O){return t.call(this,b,0)}}}function m(b){if(v===clearTimeout)return clearTimeout(b);if((v===f||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(b);try{return v(b)}catch(I){try{return v.call(null,b)}catch(O){return v.call(this,b)}}}function p(){w&&J&&(w=
!1,J.length?u=J.concat(u):H=-1,u.length&&n())}function n(){if(!w){var b=l(p);w=!0;for(var d=u.length;d;){J=u;for(u=[];++H<d;)J&&J[H].run();H=-1;d=u.length}J=null;w=!1;m(b)}}function q(b,d){this.fun=b;this.array=d}function r(){}b=b.exports={};try{var t="function"===typeof setTimeout?setTimeout:e}catch(z){t=e}try{var v="function"===typeof clearTimeout?clearTimeout:f}catch(z){v=f}var u=[],w=!1,J,H=-1;b.nextTick=function(b){var d=Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)d[e-
1]=arguments[e];u.push(new q(b,d));1!==u.length||w||l(n)};q.prototype.run=function(){this.fun.apply(null,this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};b.on=r;b.addListener=r;b.once=r;b.off=r;b.removeListener=r;b.removeAllListeners=r;b.emit=r;b.prependListener=r;b.prependOnceListener=r;b.listeners=function(b){return[]};b.binding=function(b){throw Error("process.binding is not supported");};b.cwd=function(){return"/"};b.chdir=function(b){throw Error("process.chdir is not supported");
};b.umask=function(){return 0}},"./node_modules/webpack/buildin/module.js":function(b,d){b.exports=function(b){b.webpackPolyfill||(b.deprecate=function(){},b.paths=[],b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),b.webpackPolyfill=1);return b}},"./package.json":function(b){b.exports=JSON.parse('{"name":"mermaid","version":"8.9.1","description":"Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.","main":"dist/mermaid.core.js","keywords":["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],"scripts":{"build:development":"webpack --progress --colors","build:production":"yarn build:development -p --config webpack.config.prod.babel.js","build":"yarn build:development && yarn build:production","postbuild":"documentation build src/mermaidAPI.js src/config.js src/defaultConfig.js --shallow -f md --markdown-toc false > docs/Setup.md","build:watch":"yarn build --watch","minify":"minify ./dist/mermaid.js > ./dist/mermaid.min.js","release":"yarn build","lint":"eslint src","e2e:depr":"yarn lint && jest e2e --config e2e/jest.config.js","cypress":"percy exec -- cypress run","e2e":"start-server-and-test dev http://localhost:9000/ cypress","e2e-upd":"yarn lint && jest e2e -u --config e2e/jest.config.js","dev":"webpack-dev-server --config webpack.config.e2e.js","test":"yarn lint && jest src/.*","test:watch":"jest --watch src","prepublishOnly":"yarn build && yarn test","prepare":"yarn build"},"repository":{"type":"git","url":"https://github.com/knsv/mermaid"},"author":"Knut Sveidqvist","license":"MIT","standard":{"ignore":["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],"globals":["page"]},"dependencies":{"@braintree/sanitize-url":"^3.1.0","d3":"^5.7.0","dagre":"^0.8.4","dagre-d3":"^0.6.4","entity-decode":"^2.0.2","graphlib":"^2.1.7","he":"^1.2.0","khroma":"^1.1.0","minify":"^4.1.1","moment-mini":"^2.22.1","stylis":"^3.5.2"},"devDependencies":{"@babel/core":"^7.2.2","@babel/preset-env":"^7.8.4","@babel/register":"^7.0.0","@percy/cypress":"*","babel-core":"7.0.0-bridge.0","babel-eslint":"^10.1.0","babel-jest":"^24.9.0","babel-loader":"^8.0.4","coveralls":"^3.0.2","css-loader":"^2.0.1","css-to-string-loader":"^0.1.3","cypress":"4.0.1","documentation":"^12.0.1","eslint":"^6.3.0","eslint-config-prettier":"^6.3.0","eslint-plugin-prettier":"^3.1.0","husky":"^1.2.1","identity-obj-proxy":"^3.0.0","jest":"^24.9.0","jison":"^0.4.18","moment":"^2.23.0","node-sass":"^5.0.0","prettier":"^1.18.2","puppeteer":"^1.17.0","sass-loader":"^7.1.0","start-server-and-test":"^1.10.6","terser-webpack-plugin":"^2.2.2","webpack":"^4.41.2","webpack-bundle-analyzer":"^3.7.0","webpack-cli":"^3.1.2","webpack-dev-server":"^3.4.1","webpack-node-externals":"^1.7.2","yarn-upgrade-all":"^0.5.0"},"files":["dist"],"yarn-upgrade-all":{"ignore":["babel-core"]},"sideEffects":["**/*.css","**/*.scss"],"husky":{"hooks":{"pre-push":"yarn test"}}}')},
"./src/config.js":function(b,d,g){g.r(d);g.d(d,"defaultConfig",function(){return p});g.d(d,"updateCurrentConfig",function(){return v});g.d(d,"setSiteConfig",function(){return u});g.d(d,"saveConfigFromInitilize",function(){return w});g.d(d,"updateSiteConfig",function(){return J});g.d(d,"getSiteConfig",function(){return H});g.d(d,"setConfig",function(){return z});g.d(d,"getConfig",function(){return I});g.d(d,"sanitize",function(){return O});g.d(d,"addDirective",function(){return N});g.d(d,"reset",function(){return L});
var e=g("./src/utils.js"),f=g("./src/logger.js"),m=g("./src/themes/index.js");b=g("./src/defaultConfig.js");var p=Object.freeze(b["default"]),n=Object(e.assignWithDepth)({},p),q,r=[],t=Object(e.assignWithDepth)({},p),v=function(b,d){b=Object(e.assignWithDepth)({},b);for(var f={},g=0;g<d.length;g++){var h=d[g];O(h);f=Object(e.assignWithDepth)(f,h)}b=Object(e.assignWithDepth)(b,f);f.theme&&(d=Object(e.assignWithDepth)({},q),d=Object(e.assignWithDepth)(d.themeVariables||{},f.themeVariables),b.themeVariables=
m["default"][b.theme].getThemeVariables(d));return t=b},u=function(b){n=Object(e.assignWithDepth)({},p);n=Object(e.assignWithDepth)(n,b);b.theme&&(n.themeVariables=m["default"][b.theme].getThemeVariables(b.themeVariables));t=v(n,r);return n},w=function(b){q=Object(e.assignWithDepth)({},b)},J=function(b){n=Object(e.assignWithDepth)(n,b);v(n,r);return n},H=function(){return Object(e.assignWithDepth)({},n)},z=function(b){Object(e.assignWithDepth)(t,b);return I()},I=function(){return Object(e.assignWithDepth)({},
t)},O=function(b){Object.keys(n.secure).forEach(function(d){"undefined"!==typeof b[n.secure[d]]&&(f.log.debug("Denied attempt to modify a secure key ".concat(n.secure[d]),b[n.secure[d]]),delete b[n.secure[d]])})},N=function(b){b.fontFamily&&(b.themeVariables?b.themeVariables.fontFamily||(b.themeVariables={fontFamily:b.fontFamily}):b.themeVariables={fontFamily:b.fontFamily});r.push(b);v(n,r)},L=function(){r=[];v(n,r)}},"./src/dagre-wrapper/clusters.js":function(b,d,g){g.r(d);g.d(d,"insertCluster",
function(){return t});g.d(d,"getClusterTitleWidth",function(){return v});g.d(d,"clear",function(){return u});g.d(d,"positionCluster",function(){return w});var e=g("./src/dagre-wrapper/intersect/intersect-rect.js"),f=g("./src/logger.js"),m=g("./src/dagre-wrapper/createLabel.js"),p=g("d3"),n=g("./src/config.js"),q={rect:function(b,d){f.log.trace("Creating subgraph rect for ",d.id,d);b=b.insert("g").attr("class","cluster"+(d.class?" "+d.class:"")).attr("id",d.id);var g=b.insert("rect",":first-child"),
h=b.insert("g").attr("class","cluster-label"),l=h.node().appendChild(Object(m["default"])(d.labelText,d.labelStyle,void 0,!0)),q=l.getBBox();Object(n.getConfig)().flowchart.htmlLabels&&(q=l.children[0],l=Object(p.select)(l),q=q.getBoundingClientRect(),l.attr("width",q.width),l.attr("height",q.height));l=0*d.padding;var r=l/2;f.log.trace("Data ",d,JSON.stringify(d));g.attr("style",d.style).attr("rx",d.rx).attr("ry",d.ry).attr("x",d.x-d.width/2-r).attr("y",d.y-d.height/2-r).attr("width",d.width+l).attr("height",
d.height+l);h.attr("transform","translate("+(d.x-q.width/2)+", "+(d.y-d.height/2+d.padding/3)+")");g=g.node().getBBox();d.width=g.width;d.height=g.height;d.intersect=function(b){return Object(e["default"])(d,b)};return b},roundedWithTitle:function(b,d){b=b.insert("g").attr("class",d.classes).attr("id",d.id);var f=b.insert("rect",":first-child"),g=b.insert("g").attr("class","cluster-label"),h=b.append("rect"),l=g.node().appendChild(Object(m["default"])(d.labelText,d.labelStyle,void 0,!0)),q=l.getBBox();
if(Object(n.getConfig)().flowchart.htmlLabels){q=l.children[0];var F=Object(p.select)(l);q=q.getBoundingClientRect();F.attr("width",q.width);F.attr("height",q.height)}q=l.getBBox();l=0*d.padding;F=l/2;f.attr("class","outer").attr("x",d.x-d.width/2-F).attr("y",d.y-d.height/2-F).attr("width",d.width+l).attr("height",d.height+l);h.attr("class","inner").attr("x",d.x-d.width/2-F).attr("y",d.y-d.height/2-F+q.height-1).attr("width",d.width+l).attr("height",d.height+l-q.height-3);g.attr("transform","translate("+
(d.x-q.width/2)+", "+(d.y-d.height/2-d.padding/3+(Object(n.getConfig)().flowchart.htmlLabels?5:3))+")");f=f.node().getBBox();d.width=f.width;d.height=f.height;d.intersect=function(b){return Object(e["default"])(d,b)};return b},noteGroup:function(b,d){b=b.insert("g").attr("class","note-cluster").attr("id",d.id);var f=b.insert("rect",":first-child"),g=0*d.padding,h=g/2;f.attr("rx",d.rx).attr("ry",d.ry).attr("x",d.x-d.width/2-h).attr("y",d.y-d.height/2-h).attr("width",d.width+g).attr("height",d.height+
g).attr("fill","none");f=f.node().getBBox();d.width=f.width;d.height=f.height;d.intersect=function(b){return Object(e["default"])(d,b)};return b},divider:function(b,d){b=b.insert("g").attr("class",d.classes).attr("id",d.id);var f=b.insert("rect",":first-child"),g=0*d.padding,h=g/2;f.attr("class","divider").attr("x",d.x-d.width/2-h).attr("y",d.y-d.height/2).attr("width",d.width+g).attr("height",d.height+g);f=f.node().getBBox();d.width=f.width;d.height=f.height;d.intersect=function(b){return Object(e["default"])(d,
b)};return b}},r={},t=function(b,d){f.log.trace("Inserting cluster");r[d.id]=q[d.shape||"rect"](b,d)},v=function(b,d){d=Object(m["default"])(d.labelText,d.labelStyle,void 0,!0);b.node().appendChild(d);var e=d.getBBox().width;b.node().removeChild(d);return e},u=function(){r={}},w=function(b){f.log.info("Position cluster");r[b.id].attr("transform","translate("+b.x+", "+b.y+")")}},"./src/dagre-wrapper/createLabel.js":function(b,d,g){function e(b){var d=Object(f.select)(document.createElementNS("http://www.w3.org/2000/svg",
"foreignObject")),e=d.append("xhtml:div");e.html('<span class="'+(b.isNode?"nodeLabel":"edgeLabel")+'" '+(b.labelStyle?'style="'+b.labelStyle+'"':"")+">"+b.label+"</span>");(b=b.labelStyle)&&e.attr("style",b);e.style("display","inline-block");e.style("white-space","nowrap");e.attr("xmlns","http://www.w3.org/1999/xhtml");return d.node()}g.r(d);var f=g("d3"),m=g("./src/logger.js"),p=g("./src/config.js");d["default"]=function(b,d,f,g){b=b||"";if(Object(p.getConfig)().flowchart.htmlLabels)return b=b.replace(/\\n|\n/g,
"<br />"),m.log.info("vertexText"+b),f={isNode:g,label:b.replace(/fa[lrsb]?:fa-[\w-]+/g,function(b){return"<i class='".concat(b.replace(":"," "),"'></i>")}),labelStyle:d.replace("fill:","color:")},e(f);g=document.createElementNS("http://www.w3.org/2000/svg","text");g.setAttribute("style",d.replace("color:","fill:"));d=[];d="string"===typeof b?b.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(b)?b:[];for(b=0;b<d.length;b++){var h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace",
"xml:space","preserve");h.setAttribute("dy","1em");h.setAttribute("x","0");f?h.setAttribute("class","title-row"):h.setAttribute("class","row");h.textContent=d[b].trim();g.appendChild(h)}return g}},"./src/dagre-wrapper/edges.js":function(b,d,g){g.r(d);g.d(d,"clear",function(){return t});g.d(d,"insertEdgeLabel",function(){return v});g.d(d,"positionEdgeLabel",function(){return u});g.d(d,"intersection",function(){return J});g.d(d,"insertEdge",function(){return H});var e=g("./src/logger.js"),f=g("./src/dagre-wrapper/createLabel.js"),
m=g("d3"),p=g("./src/config.js"),n=g("./src/utils.js"),q={},r={},t=function(){q={};r={}},v=function(b,d){var e=Object(f["default"])(d.label,d.labelStyle),g=b.insert("g").attr("class","edgeLabel"),h=g.insert("g").attr("class","label");h.node().appendChild(e);var l=e.getBBox();Object(p.getConfig)().flowchart.htmlLabels&&(l=e.children[0],e=Object(m.select)(e),l=l.getBoundingClientRect(),e.attr("width",l.width),e.attr("height",l.height));h.attr("transform","translate("+-l.width/2+", "+-l.height/2+")");
q[d.id]=g;d.width=l.width;d.height=l.height;d.startLabelLeft&&(e=Object(f["default"])(d.startLabelLeft,d.labelStyle),g=b.insert("g").attr("class","edgeTerminals"),h=g.insert("g").attr("class","inner"),h.node().appendChild(e),e=e.getBBox(),h.attr("transform","translate("+-e.width/2+", "+-e.height/2+")"),r[d.id]||(r[d.id]={}),r[d.id].startLeft=g);d.startLabelRight&&(e=Object(f["default"])(d.startLabelRight,d.labelStyle),g=b.insert("g").attr("class","edgeTerminals"),h=g.insert("g").attr("class","inner"),
g.node().appendChild(e),h.node().appendChild(e),e=e.getBBox(),h.attr("transform","translate("+-e.width/2+", "+-e.height/2+")"),r[d.id]||(r[d.id]={}),r[d.id].startRight=g);d.endLabelLeft&&(g=Object(f["default"])(d.endLabelLeft,d.labelStyle),h=b.insert("g").attr("class","edgeTerminals"),e=h.insert("g").attr("class","inner"),e.node().appendChild(g),l=g.getBBox(),e.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),h.node().appendChild(g),r[d.id]||(r[d.id]={}),r[d.id].endLeft=h);d.endLabelRight&&
(g=Object(f["default"])(d.endLabelRight,d.labelStyle),b=b.insert("g").attr("class","edgeTerminals"),h=b.insert("g").attr("class","inner"),h.node().appendChild(g),e=g.getBBox(),h.attr("transform","translate("+-e.width/2+", "+-e.height/2+")"),b.node().appendChild(g),r[d.id]||(r[d.id]={}),r[d.id].endRight=b)},u=function(b,d){e.log.info("Moving label",b.id,b.label,q[b.id]);d=d.updatedPath?d.updatedPath:d.originalPath;if(b.label){var f=q[b.id],g=b.x,h=b.y;if(d){var l=n["default"].calcLabelPosition(d);
e.log.info("Moving label from (",g,",",h,") to (",l.x,",",l.y,")")}f.attr("transform","translate("+g+", "+h+")")}b.startLabelLeft&&(f=r[b.id].startLeft,g=b.x,h=b.y,d&&(h=n["default"].calcTerminalLabelPosition(0,"start_left",d),g=h.x,h=h.y),f.attr("transform","translate("+g+", "+h+")"));b.startLabelRight&&(f=r[b.id].startRight,g=b.x,h=b.y,d&&(h=n["default"].calcTerminalLabelPosition(0,"start_right",d),g=h.x,h=h.y),f.attr("transform","translate("+g+", "+h+")"));b.endLabelLeft&&(f=r[b.id].endLeft,g=
b.x,h=b.y,d&&(h=n["default"].calcTerminalLabelPosition(0,"end_left",d),g=h.x,h=h.y),f.attr("transform","translate("+g+", "+h+")"));b.endLabelRight&&(f=r[b.id].endRight,g=b.x,b=b.y,d&&(b=n["default"].calcTerminalLabelPosition(0,"end_right",d),g=b.x,b=b.y),f.attr("transform","translate("+g+", "+b+")"))},w=function(b,d){var e=Math.abs(d.y-b.y),f=b.height/2;return Math.abs(d.x-b.x)>=b.width/2||e>=f?!0:!1},J=function(b,d,f){e.log.warn("intersection calc o:",d," i:",f,b);var g=b.x,h=b.y,l=Math.abs(g-f.x),
m=b.width/2,n=b.height/2;if(d.x===g-m||d.x===g+m||d.y===h-n||d.y===h+n)return e.log.warn("calc equals on edge"),d;b=Math.abs(d.y-f.y);var p=Math.abs(d.x-f.x);if(Math.abs(h-d.y)*m>Math.abs(g-d.x)*n)return l=f.y<d.y?d.y-n-h:h-n-d.y,g=p*l/b,d={x:f.x<d.x?f.x+p-g:f.x-g,y:f.y<d.y?f.y+b-l:f.y-l},e.log.warn("topp/bott calc, Q ".concat(b,", q ").concat(l,", R ").concat(p,", r ").concat(g),d),d;g=f.x<d.x?d.x-m-g:g-m-d.x;h=h=b*g/p;e.log.warn("sides calc, Q ".concat(b,", q ").concat(h,", R ").concat(p,", r ").concat(g),
{x:f.x<d.x?f.x+p-g:f.x+l-m,y:f.y<d.y?f.y+h:f.y-h});return{x:f.x<d.x?f.x+p-g:f.x+l-m,y:f.y<d.y?f.y+h:f.y-h}},H=function(b,d,f,g,h,l){var n=f.points,q=!1,F=l.node(d.v);d=l.node(d.w);d.intersect&&F.intersect&&(n=n.slice(1,f.points.length-1),n.unshift(F.intersect(n[0])),e.log.info("Last point",n[n.length-1],d,d.intersect(n[n.length-1])),n.push(d.intersect(n[n.length-1])));if(f.toCluster){e.log.trace("edge",f);e.log.trace("to cluster",g[f.toCluster]);n=[];var r,t=!1;f.points.forEach(function(b){var d=
g[f.toCluster].node;if(w(d,b)||t)t||n.push(b);else{e.log.trace("inside",f.toCluster,b,r);var h=J(d,r,b);n.forEach(function(b){});n.find(function(b){return b.x===h.x&&b.y===h.y})?e.log.warn("no intersect",h,n):n.push(h);t=!0}r=b});q=!0}if(f.fromCluster){e.log.trace("edge",f);e.log.warn("from cluster",g[f.fromCluster]);q=[];l=!1;for(F=n.length-1;0<=F;F--){d=n[F];var z=g[f.fromCluster].node;if(w(z,d)||l)e.log.trace("Outside point",d),l||q.unshift(d);else{e.log.warn("inside",f.fromCluster,d,z);var u=
J(z,u,d);q.unshift(u);l=!0}u=d}n=q;q=!0}u=n.filter(function(b){return!Number.isNaN(b.y)});F=Object(m.line)().x(function(b){return b.x}).y(function(b){return b.y}).curve(m.curveBasis);switch(f.thickness){case "normal":d="edge-thickness-normal";break;case "thick":d="edge-thickness-thick";break;default:d=""}switch(f.pattern){case "solid":d+=" edge-pattern-solid";break;case "dotted":d+=" edge-pattern-dotted";break;case "dashed":d+=" edge-pattern-dashed"}b=b.append("path").attr("d",F(u)).attr("id",f.id).attr("class",
" "+d+(f.classes?" "+f.classes:"")).attr("style",f.style);u="";Object(p.getConfig)().state.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)"));e.log.info("arrowTypeStart",f.arrowTypeStart);e.log.info("arrowTypeEnd",f.arrowTypeEnd);switch(f.arrowTypeStart){case "arrow_cross":b.attr("marker-start","url("+u+"#"+h+"-crossStart)");break;case "arrow_point":b.attr("marker-start","url("+
u+"#"+h+"-pointStart)");break;case "arrow_barb":b.attr("marker-start","url("+u+"#"+h+"-barbStart)");break;case "arrow_circle":b.attr("marker-start","url("+u+"#"+h+"-circleStart)");break;case "aggregation":b.attr("marker-start","url("+u+"#"+h+"-aggregationStart)");break;case "extension":b.attr("marker-start","url("+u+"#"+h+"-extensionStart)");break;case "composition":b.attr("marker-start","url("+u+"#"+h+"-compositionStart)");break;case "dependency":b.attr("marker-start","url("+u+"#"+h+"-dependencyStart)")}switch(f.arrowTypeEnd){case "arrow_cross":b.attr("marker-end",
"url("+u+"#"+h+"-crossEnd)");break;case "arrow_point":b.attr("marker-end","url("+u+"#"+h+"-pointEnd)");break;case "arrow_barb":b.attr("marker-end","url("+u+"#"+h+"-barbEnd)");break;case "arrow_circle":b.attr("marker-end","url("+u+"#"+h+"-circleEnd)");break;case "aggregation":b.attr("marker-end","url("+u+"#"+h+"-aggregationEnd)");break;case "extension":b.attr("marker-end","url("+u+"#"+h+"-extensionEnd)");break;case "composition":b.attr("marker-end","url("+u+"#"+h+"-compositionEnd)");break;case "dependency":b.attr("marker-end",
"url("+u+"#"+h+"-dependencyEnd)")}h={};q&&(h.updatedPath=n);h.originalPath=f.points;return h}},"./src/dagre-wrapper/index.js":function(b,d,g){g.r(d);g.d(d,"render",function(){return w});b=g("dagre");var e=g.n(b);b=g("graphlib");var f=g.n(b),m=g("./src/dagre-wrapper/markers.js"),p=g("./src/dagre-wrapper/shapes/util.js"),n=g("./src/dagre-wrapper/mermaid-graphlib.js"),q=g("./src/dagre-wrapper/nodes.js"),r=g("./src/dagre-wrapper/clusters.js"),t=g("./src/dagre-wrapper/edges.js"),v=g("./src/logger.js"),
u=function N(b,d,g,h){v.log.info("Graph in recursive render: XXX",f.a.json.write(d),h);var l=d.graph().rankdir;v.log.warn("Dir in recursive render - dir:",l);b=b.insert("g").attr("class","root");d.nodes()?v.log.info("Recursive render XXX",d.nodes()):v.log.info("No nodes found for",d);0<d.edges().length&&v.log.info("Recursive edges",d.edge(d.edges()[0]));var m=b.insert("g").attr("class","clusters"),G=b.insert("g").attr("class","edgePaths"),u=b.insert("g").attr("class","edgeLabels"),z=b.insert("g").attr("class",
"nodes");d.nodes().forEach(function(b){var e=d.node(b);if("undefined"!==typeof h){var f=JSON.parse(JSON.stringify(h.clusterData));v.log.info("Setting data for cluster XXX (",b,") ",f,h);d.setNode(h.id,f);d.parent(b)||(v.log.warn("Setting parent",b,h.id),d.setParent(b,h.id,f))}v.log.info("(Insert) Node XXX"+b+": "+JSON.stringify(d.node(b)));e&&e.clusterNode?(v.log.info("Cluster identified",b,e,d.node(b)),b=N(z,e.graph,g,d.node(b)),Object(p.updateNodeBounds)(e,b),Object(q.setNodeElem)(b,e),v.log.warn("Recursive render complete",
b,e)):0<d.children(b).length?(v.log.info("Cluster - the non recursive path XXX",b,e.id,e,d),v.log.info(Object(n.findNonClusterChild)(e.id,d)),n.clusterDb[e.id]={id:Object(n.findNonClusterChild)(e.id,d),node:e}):(v.log.info("Node - the non recursive path",b,e.id,e),Object(q.insertNode)(z,d.node(b),l))});d.edges().forEach(function(b){var e=d.edge(b.v,b.w,b.name);v.log.info("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(b));v.log.info("Edge "+b.v+" -> "+b.w+": ",b," ",JSON.stringify(d.edge(b)));v.log.info("Fix",
n.clusterDb,"ids:",b.v,b.w,"Translateing: ",n.clusterDb[b.v],n.clusterDb[b.w]);Object(t.insertEdgeLabel)(u,e)});d.edges().forEach(function(b){v.log.info("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(b))});v.log.info("#############################################");v.log.info("###                Layout                 ###");v.log.info("#############################################");v.log.info(d);e.a.layout(d);v.log.info("Graph after layout:",f.a.json.write(d));Object(n.sortNodesByHierarchy)(d).forEach(function(b){var e=
d.node(b);v.log.info("Position "+b+": "+JSON.stringify(d.node(b)));v.log.info("Position "+b+": ("+e.x,","+e.y,") width: ",e.width," height: ",e.height);e&&e.clusterNode?Object(q.positionNode)(e):0<d.children(b).length?(Object(r.insertCluster)(m,e),n.clusterDb[e.id].node=e):Object(q.positionNode)(e)});d.edges().forEach(function(b){var e=d.edge(b);v.log.info("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(e),e);b=Object(t.insertEdge)(G,b,e,n.clusterDb,g,d);Object(t.positionEdgeLabel)(e,b)});return b},w=
function(b,d,e,g,h){Object(m["default"])(b,e,g,h);Object(q.clear)();Object(t.clear)();Object(r.clear)();Object(n.clear)();v.log.warn("Graph at first:",f.a.json.write(d));Object(n.adjustClustersAndEdges)(d);v.log.warn("Graph after:",f.a.json.write(d));u(b,d,g)}},"./src/dagre-wrapper/intersect/index.js":function(b,d,g){g.r(d);b=g("./src/dagre-wrapper/intersect/intersect-node.js");b=g.n(b);var e=g("./src/dagre-wrapper/intersect/intersect-circle.js"),f=g("./src/dagre-wrapper/intersect/intersect-ellipse.js"),
m=g("./src/dagre-wrapper/intersect/intersect-polygon.js");g=g("./src/dagre-wrapper/intersect/intersect-rect.js");d["default"]={node:b.a,circle:e["default"],ellipse:f["default"],polygon:m["default"],rect:g["default"]}},"./src/dagre-wrapper/intersect/intersect-circle.js":function(b,d,g){g.r(d);var e=g("./src/dagre-wrapper/intersect/intersect-ellipse.js");d["default"]=function(b,d,f){return Object(e["default"])(b,d,d,f)}},"./src/dagre-wrapper/intersect/intersect-ellipse.js":function(b,d,g){g.r(d);d["default"]=
function(b,d,e,f){var g=b.x;b=b.y;var h=g-f.x,l=b-f.y,m=Math.sqrt(d*d*l*l+e*e*h*h);h=Math.abs(d*e*h/m);f.x<g&&(h=-h);d=Math.abs(d*e*l/m);f.y<b&&(d=-d);return{x:g+h,y:b+d}}},"./src/dagre-wrapper/intersect/intersect-line.js":function(b,d,g){g.r(d);d["default"]=function(b,d,e,f){var g=d.y-b.y;var h=b.x-d.x;var l=d.x*b.y-b.x*d.y;var m=g*e.x+h*e.y+l;var p=g*f.x+h*f.y+l;if(!(0!==m&&0!==p&&0<m*p||(m=f.y-e.y,p=e.x-f.x,e=f.x*e.y-e.x*f.y,b=m*b.x+p*b.y+e,d=m*d.x+p*d.y+e,0!==b&&0!==d&&0<b*d||(d=g*p-m*h,0===d))))return b=
Math.abs(d/2),h=h*e-p*l,p=0>h?(h-b)/d:(h+b)/d,h=m*l-g*e,{x:p,y:0>h?(h-b)/d:(h+b)/d}}},"./src/dagre-wrapper/intersect/intersect-node.js":function(b,d){b.exports=function(b,d){return b.intersect(d)}},"./src/dagre-wrapper/intersect/intersect-polygon.js":function(b,d,g){g.r(d);var e=g("./src/dagre-wrapper/intersect/intersect-line.js");d["default"]=function(b,d,f){var g=b.x,h=b.y,l=[],m=Number.POSITIVE_INFINITY,p=Number.POSITIVE_INFINITY;"function"===typeof d.forEach?d.forEach(function(b){m=Math.min(m,
b.x);p=Math.min(p,b.y)}):(m=Math.min(m,d.x),p=Math.min(p,d.y));g=g-b.width/2-m;h=h-b.height/2-p;for(var u=0;u<d.length;u++){var w=d[u],J=d[u<d.length-1?u+1:0];(w=Object(e["default"])(b,f,{x:g+w.x,y:h+w.y},{x:g+J.x,y:h+J.y}))&&l.push(w)}if(!l.length)return b;1<l.length&&l.sort(function(b,d){var e=b.x-f.x;b=b.y-f.y;e=Math.sqrt(e*e+b*b);b=d.x-f.x;d=d.y-f.y;d=Math.sqrt(b*b+d*d);return e<d?-1:e===d?0:1});return l[0]}},"./src/dagre-wrapper/intersect/intersect-rect.js":function(b,d,g){g.r(d);d["default"]=
function(b,d){var e=b.x,f=b.y,g=d.x-e;d=d.y-f;var h=b.width/2,l=b.height/2;Math.abs(d)*h>Math.abs(g)*l?(0>d&&(l=-l),b=0===d?0:l*g/d,g=l):(0>g&&(h=-h),b=h,g=0===g?0:h*d/g);return{x:e+b,y:f+g}}},"./src/dagre-wrapper/markers.js":function(b,d,g){g.r(d);var e=g("./src/logger.js"),f={extension:function(b,d,f){e.log.trace("Making markers for ",f);b.append("defs").append("marker").attr("id",d+"-extensionStart").attr("class","marker extension "+d).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",
240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z");b.append("defs").append("marker").attr("id",d+"-extensionEnd").attr("class","marker extension "+d).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function(b,d){b.append("defs").append("marker").attr("id",d+"-compositionStart").attr("class","marker composition "+d).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",
240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");b.append("defs").append("marker").attr("id",d+"-compositionEnd").attr("class","marker composition "+d).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function(b,d){b.append("defs").append("marker").attr("id",d+"-aggregationStart").attr("class","marker aggregation "+d).attr("refX",0).attr("refY",7).attr("markerWidth",
190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");b.append("defs").append("marker").attr("id",d+"-aggregationEnd").attr("class","marker aggregation "+d).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function(b,d){b.append("defs").append("marker").attr("id",d+"-dependencyStart").attr("class","marker dependency "+d).attr("refX",0).attr("refY",
7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z");b.append("defs").append("marker").attr("id",d+"-dependencyEnd").attr("class","marker dependency "+d).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},point:function(b,d){b.append("marker").attr("id",d+"-pointEnd").attr("class","marker "+d).attr("viewBox","0 0 10 10").attr("refX",
9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0");b.append("marker").attr("id",d+"-pointStart").attr("class","marker "+d).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d",
"M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function(b,d){b.append("marker").attr("id",d+"-circleEnd").attr("class","marker "+d).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray",
"1,0");b.append("marker").attr("id",d+"-circleStart").attr("class","marker "+d).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function(b,d){b.append("marker").attr("id",d+"-crossEnd").attr("class","marker cross "+d).attr("viewBox",
"0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0");b.append("marker").attr("id",d+"-crossStart").attr("class","marker cross "+d).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",
11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function(b,d){b.append("defs").append("marker").attr("id",d+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}};d["default"]=function(b,d,e,g){d.forEach(function(d){f[d](b,e,g)})}},
"./src/dagre-wrapper/mermaid-graphlib.js":function(b,d,g){g.r(d);g.d(d,"clusterDb",function(){return m});g.d(d,"clear",function(){return n});g.d(d,"extractDecendants",function(){return t});g.d(d,"validate",function(){return v});g.d(d,"findNonClusterChild",function(){return u});g.d(d,"adjustClustersAndEdges",function(){return J});g.d(d,"extractor",function(){return H});g.d(d,"sortNodesByHierarchy",function(){return I});var e=g("./src/logger.js");b=g("graphlib");var f=g.n(b),m={},p={},n=function(){p=
{};m={}},q=function(b,d){e.log.debug("In isDecendant",d," ",b," = ",0<=p[d].indexOf(b));return 0<=p[d].indexOf(b)?!0:!1},r=function U(b,d,f,g){e.log.warn("Copying children of ",b,"root",g,"data",d.node(b),g);var h=d.children(b)||[];b!==g&&h.push(b);e.log.warn("Copying (nodes) clusterId",b,"nodes",h);h.forEach(function(h){if(0<d.children(h).length)U(h,d,f,g);else{var l=d.node(h);e.log.info("cp ",h," to ",g," with parent ",b);f.setNode(h,l);g!==d.parent(h)&&(e.log.warn("Setting parent",h,d.parent(h)),
f.setParent(h,d.parent(h)));b!==g&&h!==b?(e.log.debug("Setting parent",h,b),f.setParent(h,b)):(e.log.info("In copy ",b,"root",g,"data",d.node(b),g),e.log.debug("Not Setting parent for node=",h,"cluster!==rootId",b!==g,"node!==clusterId",h!==b));l=d.edges(h);e.log.debug("Copying Edges",l);l.forEach(function(h){e.log.info("Edge",h);var l=d.edge(h.v,h.w,h.name);e.log.info("Edge data",l,g);try{e.log.info("Decendants of ",g," is ",p[g]);e.log.info("Edge is ",h);if(h.v===g||h.w===g)var m=!1;else p[g]?(e.log.info("Here "),
m=0<=p[g].indexOf(h.v)||q(h.v,g)||q(h.w,g)||0<=p[g].indexOf(h.w)?!0:!1):(e.log.debug("Tilt, ",g,",not in decendants"),m=!1);m?(e.log.info("Copying as ",h.v,h.w,l,h.name),f.setEdge(h.v,h.w,l,h.name),e.log.info("newGraph edges ",f.edges(),f.edge(f.edges()[0]))):e.log.info("Skipping copy of edge ",h.v,"--\x3e",h.w," rootId: ",g," clusterId:",b)}catch(S){e.log.error(S)}})}e.log.debug("Removing node",h);d.removeNode(h)})},t=function G(b,d){b=d.children(b);for(var e=[].concat(b),f=0;f<b.length;f++)e=e.concat(G(b[f],
d));return e},v=function(b){var d=b.edges();e.log.trace("Edges: ",d);for(var f=0;f<d.length;f++){if(0<b.children(d[f].v).length)return e.log.trace("The node ",d[f].v," is part of and edge even though it has children"),!1;if(0<b.children(d[f].w).length)return e.log.trace("The node ",d[f].w," is part of and edge even though it has children"),!1}return!0},u=function U(b,d){e.log.trace("Searching",b);var f=d.children(b);e.log.trace("Searching children of id ",b,f);if(1>f.length)return e.log.trace("This is a valid node",
b),b;for(var g=0;g<f.length;g++){var h=U(f[g],d);if(h)return e.log.trace("Found replacement for",b," => ",h),h}},w=function(b){return m[b]&&m[b].externalConnections?m[b]?m[b].id:b:b},J=function(b,d){!b||10<d?e.log.debug("Opting out, no graph "):(e.log.debug("Opting in, graph "),b.nodes().forEach(function(d){0<b.children(d).length&&(e.log.warn("Cluster identified",d," Replacement id in edges: ",u(d,b)),p[d]=t(d,b),m[d]={id:u(d,b),clusterData:b.node(d)})}),b.nodes().forEach(function(d){var f=b.children(d),
g=b.edges();0<f.length?(e.log.debug("Cluster identified",d,p),g.forEach(function(b){if(b.v!==d&&b.w!==d){var f=q(b.v,d),g=q(b.w,d);f^g&&(e.log.warn("Edge: ",b," leaves cluster ",d),e.log.warn("Decendants of XXX ",d,": ",p[d]),m[d].externalConnections=!0)}})):e.log.debug("Not a cluster ",d,p)}),b.edges().forEach(function(d){var f=b.edge(d);e.log.warn("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(d));e.log.warn("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(b.edge(d)));e.log.warn("Fix XXX",m,"ids:",d.v,d.w,
"Translateing: ",m[d.v]," --- ",m[d.w]);if(m[d.v]||m[d.w]){e.log.warn("Fixing and trixing - removing XXX",d.v,d.w,d.name);var g=w(d.v);var h=w(d.w);b.removeEdge(d.v,d.w,d.name);g!==d.v&&(f.fromCluster=d.v);h!==d.w&&(f.toCluster=d.w);e.log.warn("Fix Replacing with XXX",g,h,d.name);b.setEdge(g,h,f,d.name)}}),e.log.warn("Adjusted Graph",f.a.json.write(b)),H(b,0),e.log.trace(m))},H=function R(b,d){e.log.warn("extractor - ",d,f.a.json.write(b),b.children("D"));if(10<d)e.log.error("Bailing out");else{for(var g=
b.nodes(),h=!1,l=0;l<g.length;l++){var n=b.children(g[l]);h=h||0<n.length}if(h){e.log.debug("Nodes = ",g,d);for(h=0;h<g.length;h++)l=g[h],e.log.debug("Extracting node",l,m,m[l]&&!m[l].externalConnections,!b.parent(l),b.node(l),b.children("D")," Depth ",d),m[l]?!m[l].externalConnections&&b.children(l)&&0<b.children(l).length?(e.log.warn("Cluster without external connections, without a parent and with children",l,d),n=b.graph(),n=(new f.a.Graph({multigraph:!0,compound:!0})).setGraph({rankdir:"TB"===
n.rankdir?"LR":"TB",nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),e.log.warn("Old graph before copy",f.a.json.write(b)),r(l,b,n,l),b.setNode(l,{clusterNode:!0,id:l,clusterData:m[l].clusterData,labelText:m[l].labelText,graph:n}),e.log.warn("New graph after copy node: (",l,")",f.a.json.write(n)),e.log.debug("Old graph after copy",f.a.json.write(b))):(e.log.warn("Cluster ** ",l," **not meeting the criteria !externalConnections:",!m[l].externalConnections," no parent: ",
!b.parent(l)," children ",b.children(l)&&0<b.children(l).length,b.children("D"),d),e.log.debug(m)):e.log.debug("Not a cluster",l,d);g=b.nodes();e.log.warn("New list of nodes",g);for(h=0;h<g.length;h++)l=g[h],n=b.node(l),e.log.warn(" Now next level",l,n),n.clusterNode&&R(n.graph,d+1)}else e.log.debug("Done, no node has children",b.nodes())}},z=function W(b,d){if(0===d.length)return[];var e=Object.assign(d);d.forEach(function(d){d=b.children(d);d=W(b,d);e=e.concat(d)});return e},I=function(b){return z(b,
b.children())}},"./src/dagre-wrapper/nodes.js":function(b,d,g){g.r(d);g.d(d,"insertNode",function(){return u});g.d(d,"setNodeElem",function(){return w});g.d(d,"clear",function(){return J});g.d(d,"positionNode",function(){return H});var e=g("d3"),f=g("./src/logger.js"),m=g("./src/dagre-wrapper/shapes/util.js"),p=g("./src/config.js"),n=g("./src/dagre-wrapper/intersect/index.js"),q=g("./src/dagre-wrapper/createLabel.js");b=g("./src/dagre-wrapper/shapes/note.js");var r=g("./src/diagrams/class/svgDraw.js");
g=function(b,d,e){b=b.insert("g").attr("class","node default").attr("id",d.domId||d.id);var f=70,g=10;"LR"===e&&(f=10,g=70);e=b.append("rect").style("stroke","black").style("fill","black").attr("x",-1*f/2).attr("y",-1*g/2).attr("width",f).attr("height",g).attr("class","fork-join");Object(m.updateNodeBounds)(d,e);d.height+=d.padding/2;d.width+=d.padding/2;d.intersect=function(b){return n["default"].rect(d,b)};return b};var t={question:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;
e=e.bbox;e=e.width+d.padding+(e.height+d.padding);var g=[{x:e/2,y:0},{x:e,y:-e/2},{x:e/2,y:-e},{x:0,y:-e/2}];f.log.info("Question main (Circle)");e=Object(m.insertPolygonShape)(b,e,e,g);e.attr("style",d.style);Object(m.updateNodeBounds)(d,e);d.intersect=function(b){f.log.warn("Intersect called");return n["default"].polygon(d,g,b)};return b},rect:function(b,d){var e=Object(m.labelHelper)(b,d,"node "+d.classes,!0);b=e.shapeSvg;var g=e.bbox;e=e.halfPadding;f.log.trace("Classes = ",d.classes);var h=b.insert("rect",
":first-child");h.attr("class","basic label-container").attr("style",d.style).attr("rx",d.rx).attr("ry",d.ry).attr("x",-g.width/2-e).attr("y",-g.height/2-e).attr("width",g.width+d.padding).attr("height",g.height+d.padding);Object(m.updateNodeBounds)(d,h);d.intersect=function(b){return n["default"].rect(d,b)};return b},rectWithTitle:function(b,d){var g=d.classes?"node "+d.classes:"node default";b=b.insert("g").attr("class",g).attr("id",d.domId||d.id);g=b.insert("rect",":first-child");var h=b.insert("line"),
l=b.insert("g").attr("class","label"),F=d.labelText.flat();f.log.info("Label text",F[0]);var G=l.node().appendChild(Object(q["default"])(F[0],d.labelStyle,!0,!0));if(Object(p.getConfig)().flowchart.htmlLabels){var r=G.children[0];var t=Object(e.select)(G);r=r.getBoundingClientRect();t.attr("width",r.width);t.attr("height",r.height)}f.log.info("Text 2",F);t=F.slice(1,F.length);F=G.getBBox();t=l.node().appendChild(Object(q["default"])(t.join("<br/>"),d.labelStyle,!0,!0));if(Object(p.getConfig)().flowchart.htmlLabels){r=
t.children[0];var u=Object(e.select)(t);r=r.getBoundingClientRect();u.attr("width",r.width);u.attr("height",r.height)}u=d.padding/2;Object(e.select)(t).attr("transform","translate( "+(r.width>F.width?0:(F.width-r.width)/2)+", "+(F.height+u+5)+")");Object(e.select)(G).attr("transform","translate( "+(r.width<F.width?0:-(F.width-r.width)/2)+", 0)");r=l.node().getBBox();l.attr("transform","translate("+-r.width/2+", "+(-r.height/2-u+3)+")");g.attr("class","outer title-state").attr("x",-r.width/2-u).attr("y",
-r.height/2-u).attr("width",r.width+d.padding).attr("height",r.height+d.padding);h.attr("class","divider").attr("x1",-r.width/2-u).attr("x2",r.width/2+u).attr("y1",-r.height/2-u+F.height+u).attr("y2",-r.height/2-u+F.height+u);Object(m.updateNodeBounds)(d,g);d.intersect=function(b){return n["default"].rect(d,b)};return b},circle:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var g=e.bbox,h=e.halfPadding;e=b.insert("circle",":first-child");e.attr("style",d.style).attr("rx",d.rx).attr("ry",
d.ry).attr("r",g.width/2+h).attr("width",g.width+d.padding).attr("height",g.height+d.padding);f.log.info("Circle main");Object(m.updateNodeBounds)(d,e);d.intersect=function(b){f.log.info("Circle intersect",d,g.width/2+h,b);return n["default"].circle(d,g.width/2+h,b)};return b},stadium:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.height+d.padding;f=f.width+e/4+d.padding;e=b.insert("rect",":first-child").attr("style",d.style).attr("rx",e/2).attr("ry",e/2).attr("x",
-f/2).attr("y",-e/2).attr("width",f).attr("height",e);Object(m.updateNodeBounds)(d,e);d.intersect=function(b){return n["default"].rect(d,b)};return b},hexagon:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.height+d.padding;var g=e/4;f=f.width+2*g+d.padding;var h=[{x:g,y:0},{x:f-g,y:0},{x:f,y:-e/2},{x:f-g,y:-e},{x:g,y:-e},{x:0,y:-e/2}];e=Object(m.insertPolygonShape)(b,f,e,h);e.attr("style",d.style);Object(m.updateNodeBounds)(d,e);d.intersect=function(b){return n["default"].polygon(d,
h,b)};return b},rect_left_inv_arrow:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.width+d.padding;f=f.height+d.padding;var g=[{x:-f/2,y:0},{x:e,y:0},{x:e,y:-f},{x:-f/2,y:-f},{x:0,y:-f/2}];Object(m.insertPolygonShape)(b,e,f,g).attr("style",d.style);d.width=e+f;d.height=f;d.intersect=function(b){return n["default"].polygon(d,g,b)};return b},lean_right:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.width+d.padding;f=f.height+
d.padding;var g=[{x:-2*f/6,y:0},{x:e-f/6,y:0},{x:e+2*f/6,y:-f},{x:f/6,y:-f}];e=Object(m.insertPolygonShape)(b,e,f,g);e.attr("style",d.style);Object(m.updateNodeBounds)(d,e);d.intersect=function(b){return n["default"].polygon(d,g,b)};return b},lean_left:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.width+d.padding;f=f.height+d.padding;var g=[{x:2*f/6,y:0},{x:e+f/6,y:0},{x:e-2*f/6,y:-f},{x:-f/6,y:-f}];e=Object(m.insertPolygonShape)(b,e,f,g);e.attr("style",d.style);
Object(m.updateNodeBounds)(d,e);d.intersect=function(b){return n["default"].polygon(d,g,b)};return b},trapezoid:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.width+d.padding;f=f.height+d.padding;var g=[{x:-2*f/6,y:0},{x:e+2*f/6,y:0},{x:e-f/6,y:-f},{x:f/6,y:-f}];e=Object(m.insertPolygonShape)(b,e,f,g);e.attr("style",d.style);Object(m.updateNodeBounds)(d,e);d.intersect=function(b){return n["default"].polygon(d,g,b)};return b},inv_trapezoid:function(b,d){var e=
Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.width+d.padding;f=f.height+d.padding;var g=[{x:f/6,y:0},{x:e-f/6,y:0},{x:e+2*f/6,y:-f},{x:-2*f/6,y:-f}];e=Object(m.insertPolygonShape)(b,e,f,g);e.attr("style",d.style);Object(m.updateNodeBounds)(d,e);d.intersect=function(b){return n["default"].polygon(d,g,b)};return b},rect_right_inv_arrow:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.width+d.padding;f=f.height+d.padding;var g=[{x:0,y:0},{x:e+
f/2,y:0},{x:e,y:-f/2},{x:e+f/2,y:-f},{x:0,y:-f}];e=Object(m.insertPolygonShape)(b,e,f,g);e.attr("style",d.style);Object(m.updateNodeBounds)(d,e);d.intersect=function(b){return n["default"].polygon(d,g,b)};return b},cylinder:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.width+d.padding;var g=e/2,h=g/(2.5+e/50);f=f.height+h+d.padding;var l="M 0,"+h+" a "+g+","+h+" 0,0,0 "+e+" 0 a "+g+","+h+" 0,0,0 "+-e+" 0 l 0,"+f+" a "+g+","+h+" 0,0,0 "+e+" 0 l 0,"+-f;e=b.attr("label-offset-y",
h).insert("path",":first-child").attr("style",d.style).attr("d",l).attr("transform","translate("+-e/2+","+-(f/2+h)+")");Object(m.updateNodeBounds)(d,e);d.intersect=function(b){var e=n["default"].rect(d,b),f=e.x-d.x;0!=g&&(Math.abs(f)<d.width/2||Math.abs(f)==d.width/2&&Math.abs(e.y-d.y)>d.height/2-h)&&(f=h*h*(1-f*f/(g*g)),0!=f&&(f=Math.sqrt(f)),f=h-f,0<b.y-d.y&&(f=-f),e.y+=f);return e};return b},start:function(b,d){b=b.insert("g").attr("class","node default").attr("id",d.domId||d.id);var e=b.insert("circle",
":first-child");e.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);Object(m.updateNodeBounds)(d,e);d.intersect=function(b){return n["default"].circle(d,7,b)};return b},end:function(b,d){b=b.insert("g").attr("class","node default").attr("id",d.domId||d.id);var e=b.insert("circle",":first-child"),f=b.insert("circle",":first-child");f.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);e.attr("class","state-end").attr("r",5).attr("width",10).attr("height",
10);Object(m.updateNodeBounds)(d,f);d.intersect=function(b){return n["default"].circle(d,7,b)};return b},note:b["default"],subroutine:function(b,d){var e=Object(m.labelHelper)(b,d,void 0,!0);b=e.shapeSvg;var f=e.bbox;e=f.width+d.padding;f=f.height+d.padding;var g=[{x:0,y:0},{x:e,y:0},{x:e,y:-f},{x:0,y:-f},{x:0,y:0},{x:-8,y:0},{x:e+8,y:0},{x:e+8,y:-f},{x:-8,y:-f},{x:-8,y:0}];e=Object(m.insertPolygonShape)(b,e,f,g);e.attr("style",d.style);Object(m.updateNodeBounds)(d,e);d.intersect=function(b){return n["default"].polygon(d,
g,b)};return b},fork:g,join:g,class_box:function(b,d){var f=d.padding/2;var g=d.classes?"node "+d.classes:"node default";b=b.insert("g").attr("class",g).attr("id",d.domId||d.id);g=b.insert("rect",":first-child");var h=b.insert("line"),l=b.insert("line"),G=0,t=4,u=b.insert("g").attr("class","label"),v=0,z=d.classData.annotations&&d.classData.annotations[0],I=d.classData.annotations[0]?"\u00ab"+d.classData.annotations[0]+"\u00bb":"";I=u.node().appendChild(Object(q["default"])(I,d.labelStyle,!0,!0));
var w=I.getBBox();if(Object(p.getConfig)().flowchart.htmlLabels){w=I.children[0];var P=Object(e.select)(I);w=w.getBoundingClientRect();P.attr("width",w.width);P.attr("height",w.height)}d.classData.annotations[0]&&(t+=w.height+4,G+=w.width);P=d.classData.id;void 0!==d.classData.type&&""!==d.classData.type&&(P+="<"+d.classData.type+">");P=u.node().appendChild(Object(q["default"])(P,d.labelStyle,!0,!0));Object(e.select)(P).attr("class","classTitle");var S=P.getBBox();if(Object(p.getConfig)().flowchart.htmlLabels){var J=
P.children[0],H=Object(e.select)(P);S=J.getBoundingClientRect();H.attr("width",S.width);H.attr("height",S.height)}t+=S.height+4;S.width>G&&(G=S.width);var ba=[];d.classData.members.forEach(function(b){b=Object(r.parseMember)(b).displayText;b=u.node().appendChild(Object(q["default"])(b,d.labelStyle,!0,!0));var f=b.getBBox();if(Object(p.getConfig)().flowchart.htmlLabels){f=b.children[0];var g=Object(e.select)(b);f=f.getBoundingClientRect();g.attr("width",f.width);g.attr("height",f.height)}f.width>G&&
(G=f.width);t+=f.height+4;ba.push(b)});t+=8;var la=[];d.classData.methods.forEach(function(b){b=Object(r.parseMember)(b).displayText;b=u.node().appendChild(Object(q["default"])(b,d.labelStyle,!0,!0));var f=b.getBBox();if(Object(p.getConfig)().flowchart.htmlLabels){f=b.children[0];var g=Object(e.select)(b);f=f.getBoundingClientRect();g.attr("width",f.width);g.attr("height",f.height)}f.width>G&&(G=f.width);t+=f.height+4;la.push(b)});t+=8;z&&(z=(G-w.width)/2,Object(e.select)(I).attr("transform","translate( "+
(-1*G/2+z)+", "+-1*t/2+")"),v=w.height+4);z=(G-S.width)/2;Object(e.select)(P).attr("transform","translate( "+(-1*G/2+z)+", "+(-1*t/2+v)+")");v+=S.height+4;h.attr("class","divider").attr("x1",-G/2-f).attr("x2",G/2+f).attr("y1",-t/2-f+8+v).attr("y2",-t/2-f+8+v);v+=8;ba.forEach(function(b){Object(e.select)(b).attr("transform","translate( "+-G/2+", "+(-1*t/2+v+4)+")");v+=S.height+4});v+=8;l.attr("class","divider").attr("x1",-G/2-f).attr("x2",G/2+f).attr("y1",-t/2-f+8+v).attr("y2",-t/2-f+8+v);v+=8;la.forEach(function(b){Object(e.select)(b).attr("transform",
"translate( "+-G/2+", "+(-1*t/2+v)+")");v+=S.height+4});g.attr("class","outer title-state").attr("x",-G/2-f).attr("y",-(t/2)-f).attr("width",G+d.padding).attr("height",t+d.padding);Object(m.updateNodeBounds)(d,g);d.intersect=function(b){return n["default"].rect(d,b)};return b}},v={},u=function(b,d,e){d.link?(b=b.insert("svg:a").attr("xlink:href",d.link).attr("target",d.linkTarget||"_blank"),e=t[d.shape](b,d,e)):b=e=t[d.shape](b,d,e);d.tooltip&&e.attr("title",d.tooltip);d.class&&e.attr("class","node default "+
d.class);v[d.id]=b;d.haveCallback&&v[d.id].attr("class",v[d.id].attr("class")+" clickable")},w=function(b,d){v[d.id]=b},J=function(){v={}},H=function(b){var d=v[b.id];f.log.trace("Transforming node",b,"translate("+(b.x-b.width/2-5)+", "+(b.y-b.height/2-5)+")");b.clusterNode?d.attr("transform","translate("+(b.x-b.width/2-8)+", "+(b.y-b.height/2-8)+")"):d.attr("transform","translate("+b.x+", "+b.y+")")}},"./src/dagre-wrapper/shapes/note.js":function(b,d,g){g.r(d);var e=g("./src/dagre-wrapper/shapes/util.js"),
f=g("./src/logger.js"),m=g("./src/dagre-wrapper/intersect/index.js");d["default"]=function(b,d){var g=Object(e.labelHelper)(b,d,"node "+d.classes,!0);b=g.shapeSvg;var h=g.bbox;g=g.halfPadding;f.log.info("Classes = ",d.classes);var l=b.insert("rect",":first-child");l.attr("rx",d.rx).attr("ry",d.ry).attr("x",-h.width/2-g).attr("y",-h.height/2-g).attr("width",h.width+d.padding).attr("height",h.height+d.padding);Object(e.updateNodeBounds)(d,l);d.intersect=function(b){return m["default"].rect(d,b)};return b}},
"./src/dagre-wrapper/shapes/util.js":function(b,d,g){function e(b,d,e,f){return b.insert("polygon",":first-child").attr("points",f.map(function(b){return b.x+","+b.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-d/2+","+e/2+")")}g.r(d);g.d(d,"labelHelper",function(){return n});g.d(d,"updateNodeBounds",function(){return q});g.d(d,"insertPolygonShape",function(){return e});var f=g("./src/dagre-wrapper/createLabel.js"),m=g("./src/config.js"),p=g("d3"),n=function(b,d,e,g){e=
e?e:"node default";b=b.insert("g").attr("class",e).attr("id",d.domId||d.id);e=b.insert("g").attr("class","label").attr("style",d.labelStyle);var h=e.node().appendChild(Object(f["default"])(d.labelText,d.labelStyle,!1,g));g=h.getBBox();Object(m.getConfig)().flowchart.htmlLabels&&(g=h.children[0],h=Object(p.select)(h),g=g.getBoundingClientRect(),h.attr("width",g.width),h.attr("height",g.height));d=d.padding/2;e.attr("transform","translate("+-g.width/2+", "+-g.height/2+")");return{shapeSvg:b,bbox:g,
halfPadding:d,label:e}},q=function(b,d){d=d.node().getBBox();b.width=d.width;b.height=d.height}},"./src/defaultConfig.js":function(b,d,g){g.r(d);b={theme:"default",themeVariables:g("./src/themes/index.js")["default"]["default"].getThemeVariables(),themeCSS:void 0,maxTextSize:5E4,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,
flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"linear",padding:15,useMaxWidth:!0},sequence:{activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open-Sans", "sans-serif"',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',
noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,
fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,fontFamily:'"Open-Sans", "sans-serif"',numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1},
class:{arrowMarkerAbsolute:!1,useMaxWidth:!0},git:{arrowMarkerAbsolute:!1,useWidth:void 0,useMaxWidth:!0},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},
pie:{useWidth:void 0,useMaxWidth:!0}};b.class.arrowMarkerAbsolute=b.arrowMarkerAbsolute;b.git.arrowMarkerAbsolute=b.arrowMarkerAbsolute;d["default"]=b},"./src/diagrams/class/classDb.js":function(b,d,g){function e(b){if(Array.isArray(b)){var d=0;for(var e=Array(b.length);d<b.length;d++)e[d]=b[d];d=e}else d=void 0;d||(d=Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=d))throw new TypeError("Invalid attempt to spread non-iterable instance");
return b}g.r(d);g.d(d,"parseDirective",function(){return J});g.d(d,"addClass",function(){return z});g.d(d,"lookUpDomId",function(){return I});g.d(d,"clear",function(){return O});g.d(d,"getClass",function(){return N});g.d(d,"getClasses",function(){return L});g.d(d,"getRelations",function(){return F});g.d(d,"addRelation",function(){return G});g.d(d,"addAnnotation",function(){return U});g.d(d,"addMember",function(){return R});g.d(d,"addMembers",function(){return W});g.d(d,"cleanupLabel",function(){return T});
g.d(d,"setCssClass",function(){return ea});g.d(d,"setLink",function(){return Q});g.d(d,"setClickEvent",function(){return P});g.d(d,"bindFunctions",function(){return ua});g.d(d,"lineType",function(){return V});g.d(d,"relationType",function(){return ba});var f=g("d3"),m=g("./src/logger.js"),p=g("./src/config.js"),n=g("./src/diagrams/common/common.js"),q=g("./src/utils.js"),r=g("./src/mermaidAPI.js"),t=[],v={},u=0,w=[],J=function(b,d,e){r["default"].parseDirective(this,b,d,e)},H=function(b){var d="",
e=b;0<b.indexOf("~")&&(b=b.split("~"),e=b[0],d=b[1]);return{className:e,type:d}},z=function(b){b=H(b);"undefined"===typeof v[b.className]&&(v[b.className]={id:b.className,type:b.type,cssClasses:[],methods:[],members:[],annotations:[],domId:"classid-"+b.className+"-"+u},u++)},I=function(b){for(var d=Object.keys(v),e=0;e<d.length;e++)if(v[d[e]].id===b)return v[d[e]].domId},O=function(){t=[];v={};w=[];w.push(la)},N=function(b){return v[b]},L=function(){return v},F=function(){return t},G=function(b){m.log.debug("Adding relation: "+
JSON.stringify(b));z(b.id1);z(b.id2);b.id1=H(b.id1).className;b.id2=H(b.id2).className;t.push(b)},U=function(b,d){b=H(b).className;v[b].annotations.push(d)},R=function(b,d){b=H(b).className;b=v[b];"string"===typeof d&&(d=d.trim(),d.startsWith("<<")&&d.endsWith(">>")?b.annotations.push(d.substring(2,d.length-2)):0<d.indexOf(")")?b.methods.push(d):d&&b.members.push(d))},W=function(b,d){Array.isArray(d)&&(d.reverse(),d.forEach(function(d){return R(b,d)}))},T=function(b){return":"===b.substring(0,1)?
b.substr(1).trim():b.trim()},ea=function(b,d){b.split(",").forEach(function(b){var e=b;b[0].match(/\d/)&&(e="classid-"+e);"undefined"!==typeof v[e]&&v[e].cssClasses.push(d)})},Q=function(b,d,e){var f=p.getConfig();b.split(",").forEach(function(b){var g=b;b[0].match(/\d/)&&(g="classid-"+g);"undefined"!==typeof v[g]&&(v[g].link=q["default"].formatUrl(d,f),v[g].linkTarget="string"===typeof e?e:"_blank")});ea(b,"clickable")},P=function(b,d,e){b.split(",").forEach(function(b){S(b,d,e);v[b].haveCallback=
!0});ea(b,"clickable")},S=function(b,d,f){var g=p.getConfig(),h=I(b);if("loose"===g.securityLevel&&"undefined"!==typeof d&&"undefined"!==typeof v[b]){var l=[];if("string"===typeof f)for(l=f.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/),b=0;b<l.length;b++)f=l[b].trim(),'"'===f.charAt(0)&&'"'===f.charAt(f.length-1)&&(f=f.substr(1,f.length-2)),l[b]=f;0===l.length&&l.push(h);w.push(function(){var b=document.querySelector('[id="'.concat(h,'"]'));null!==b&&b.addEventListener("click",function(){q["default"].runFunc.apply(q["default"],
[d].concat(e(l)))},!1)})}},ua=function(b){w.forEach(function(d){d(b)})},V={LINE:0,DOTTED_LINE:1},ba={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},la=function(b){var d=Object(f.select)(".mermaidTooltip");null===(d._groups||d)[0][0]&&(d=Object(f.select)("body").append("div").attr("class","mermaidTooltip").style("opacity",0));Object(f.select)(b).select("svg").selectAll("g.node").on("mouseover",function(){var b=Object(f.select)(this);if(null!==b.attr("title")){var e=this.getBoundingClientRect();
d.transition().duration(200).style("opacity",".9");d.html(b.attr("title")).style("left",window.scrollX+e.left+(e.right-e.left)/2+"px").style("top",window.scrollY+e.top-14+document.body.scrollTop+"px");b.classed("hover",!0)}}).on("mouseout",function(){d.transition().duration(500).style("opacity",0);Object(f.select)(this).classed("hover",!1)})};w.push(la);d["default"]={parseDirective:J,getConfig:function(){return p.getConfig().class},addClass:z,bindFunctions:ua,clear:O,getClass:N,getClasses:L,addAnnotation:U,
getRelations:F,addRelation:G,addMember:R,addMembers:W,cleanupLabel:T,lineType:V,relationType:ba,setClickEvent:P,setCssClass:ea,setLink:Q,setTooltip:function(b,d){var e=p.getConfig();b.split(",").forEach(function(b){"undefined"!==typeof d&&(v[b].tooltip=n["default"].sanitizeText(d,e))})},lookUpDomId:I}},"./src/diagrams/class/classRenderer-v2.js":function(b,d,g){function e(b){switch(b){case 0:b="aggregation";break;case 1:b="extension";break;case 2:b="composition";break;case 3:b="dependency";break;default:b=
"none"}return b}g.r(d);g.d(d,"addClasses",function(){return I});g.d(d,"addRelations",function(){return O});g.d(d,"setConf",function(){return L});g.d(d,"drawOld",function(){return F});g.d(d,"draw",function(){return G});var f=g("d3");b=g("dagre");var m=g.n(b);b=g("graphlib");var p=g.n(b),n=g("./src/logger.js"),q=g("./src/diagrams/class/classDb.js"),r=g("./src/diagrams/class/parser/classDiagram.jison"),t=g("./src/diagrams/class/svgDraw.js"),v=g("./src/config.js"),u=g("./src/dagre-wrapper/index.js"),
w=g("./src/utils.js"),J=g("./src/diagrams/common/common.js");r.parser.yy=q["default"];var H={},z={dividerMargin:10,padding:5,textHeight:10},I=function(b,d){var e=Object.keys(b);n.log.info("keys:",e);n.log.info(b);e.forEach(function(e){e=b[e];var f="";0<e.cssClasses.length&&(f=f+" "+e.cssClasses.join(" "));var g={labelStyle:""},h=void 0!==e.text?e.text:e.id;switch(e.type){case "class":var l="class_box";break;default:l="class_box"}d.setNode(e.id,{labelStyle:g.labelStyle,shape:l,labelText:h,classData:e,
rx:0,ry:0,class:f,style:g.style,id:e.id,domId:e.domId,haveCallback:e.haveCallback,link:e.link,width:"group"===e.type?500:void 0,type:e.type,padding:Object(v.getConfig)().flowchart.padding});n.log.info("setNode",{labelStyle:g.labelStyle,shape:l,labelText:h,rx:0,ry:0,class:f,style:g.style,id:e.id,width:"group"===e.type?500:void 0,type:e.type,padding:Object(v.getConfig)().flowchart.padding})})},O=function(b,d){var g=0;b.forEach(function(h){g++;var l={classes:"relation"};l.pattern=1==h.relation.lineType?
"dashed":"solid";l.id="id"+g;l.arrowhead="arrow_open"===h.type?"none":"normal";n.log.info(l,h);l.startLabelRight="none"===h.relationTitle1?"":h.relationTitle1;l.endLabelLeft="none"===h.relationTitle2?"":h.relationTitle2;l.arrowTypeStart=e(h.relation.type1);l.arrowTypeEnd=e(h.relation.type2);var m="";if("undefined"!==typeof h.style){m=Object(w.getStylesFromArray)(h.style);var p=m.style;m=m.labelStyle}else p="fill:none";l.style=p;l.labelStyle=m;l.curve="undefined"!==typeof h.interpolate?Object(w.interpolateToCurve)(h.interpolate,
f.curveLinear):"undefined"!==typeof b.defaultInterpolate?Object(w.interpolateToCurve)(b.defaultInterpolate,f.curveLinear):Object(w.interpolateToCurve)(z.curve,f.curveLinear);h.text=h.title;"undefined"===typeof h.text?"undefined"!==typeof h.style&&(l.arrowheadStyle="fill: #333"):(l.arrowheadStyle="fill: #333",l.labelpos="c",Object(v.getConfig)(),l.labelType="text",l.label=h.text.replace(J["default"].lineBreakRegex,"\n"),"undefined"===typeof h.style&&(l.style=l.style||"stroke: #333; stroke-width: 1.5px;fill:none"),
l.labelStyle=l.labelStyle.replace("color:","fill:"));d.setEdge(h.id1,h.id2,l,g)})},N=function(b){for(var d=Object.keys(H),e=0;e<d.length;e++)if(H[d[e]].label===b)return d[e]},L=function(b){Object.keys(b).forEach(function(d){z[d]=b[d]})},F=function(b,d){H={};r.parser.yy.clear();r.parser.parse(b);n.log.info("Rendering diagram "+b);var e=Object(f.select)("[id='".concat(d,"']")),g=new p.a.Graph({multigraph:!0});g.setGraph({isMultiGraph:!0});g.setDefaultEdgeLabel(function(){return{}});b=q["default"].getClasses();
n.log.info("classes:");n.log.info(b);d=Object.keys(b);for(var h=0;h<d.length;h++){var l=t["default"].drawClass(e,b[d[h]],z);H[l.id]=l;g.setNode(l.id,l);n.log.info("Org height: "+l.height)}b=q["default"].getRelations();n.log.info("relations:",b);b.forEach(function(b){n.log.info("tjoho"+N(b.id1)+N(b.id2)+JSON.stringify(b));g.setEdge(N(b.id1),N(b.id2),{relation:b},b.title||"DEFAULT")});m.a.layout(g);g.nodes().forEach(function(b){"undefined"!==typeof b&&"undefined"!==typeof g.node(b)&&(n.log.debug("Node "+
b+": "+JSON.stringify(g.node(b))),Object(f.select)("#"+Object(q.lookUpDomId)(b)).attr("transform","translate("+(g.node(b).x-g.node(b).width/2)+","+(g.node(b).y-g.node(b).height/2)+" )"))});g.edges().forEach(function(b){"undefined"!==typeof b&&"undefined"!==typeof g.edge(b)&&(n.log.debug("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(g.edge(b))),t["default"].drawEdge(e,g.edge(b),g.edge(b).relation,z))});b=e.node().getBBox();d=b.width+40;h=b.height+40;Object(w.configureSvgSize)(e,h,d,z.useMaxWidth);b="".concat(b.x-
20," ").concat(b.y-20," ").concat(d," ").concat(h);n.log.debug("viewBox ".concat(b));e.attr("viewBox",b)},G=function(b,d){n.log.info("Drawing class");q["default"].clear();r.parser.parse(b);b=Object(v.getConfig)().flowchart;n.log.info("config:",b);var e=b.nodeSpacing||50,g=b.rankSpacing||50;e=(new p.a.Graph({multigraph:!0,compound:!0})).setGraph({rankdir:"TD",nodesep:e,ranksep:g,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});g=q["default"].getClasses();var h=q["default"].getRelations();
n.log.info(h);I(g,e);O(h,e);g=Object(f.select)('[id="'.concat(d,'"]'));g.attr("xmlns:xlink","http://www.w3.org/1999/xlink");h=Object(f.select)("#"+d+" g");Object(u.render)(h,e,["aggregation","extension","composition","dependency"],"classDiagram",d);h=g.node().getBBox();var l=h.width+16,m=h.height+16;n.log.debug("new ViewBox 0 0 ".concat(l," ").concat(m),"translate(".concat(8-e._label.marginx,", ").concat(8-e._label.marginy,")"));Object(w.configureSvgSize)(g,m,l,b.useMaxWidth);g.attr("viewBox","0 0 ".concat(l,
" ").concat(m));g.select("g").attr("transform","translate(".concat(8-e._label.marginx,", ").concat(8-h.y,")"));if(!b.htmlLabels)for(d=document.querySelectorAll('[id="'+d+'"] .edgeLabel .label'),b=0;b<d.length;b++)e=d[b],g=e.getBBox(),h=document.createElementNS("http://www.w3.org/2000/svg","rect"),h.setAttribute("rx",0),h.setAttribute("ry",0),h.setAttribute("width",g.width),h.setAttribute("height",g.height),h.setAttribute("style","fill:#e8e8e8;"),e.insertBefore(h,e.firstChild)};d["default"]={setConf:L,
draw:G}},"./src/diagrams/class/classRenderer.js":function(b,d,g){g.r(d);g.d(d,"setConf",function(){return H});g.d(d,"draw",function(){return z});var e=g("d3");b=g("dagre");var f=g.n(b);b=g("graphlib");var m=g.n(b),p=g("./src/logger.js"),n=g("./src/diagrams/class/classDb.js"),q=g("./src/diagrams/class/parser/classDiagram.jison"),r=g("./src/diagrams/class/svgDraw.js"),t=g("./src/utils.js");q.parser.yy=n["default"];var v={},u={dividerMargin:10,padding:5,textHeight:10},w=function(b){for(var d=Object.keys(v),
e=0;e<d.length;e++)if(v[d[e]].label===b)return d[e]},J=function(b){b.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z");b.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z");
b.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");b.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");b.append("defs").append("marker").attr("id",
"aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");b.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z");b.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",
0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z");b.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},H=function(b){Object.keys(b).forEach(function(d){u[d]=b[d]})},z=function(b,d){v={};q.parser.yy.clear();q.parser.parse(b);p.log.info("Rendering diagram "+
b);var g=Object(e.select)("[id='".concat(d,"']"));g.attr("xmlns:xlink","http://www.w3.org/1999/xlink");J(g);var h=new m.a.Graph({multigraph:!0});h.setGraph({isMultiGraph:!0});h.setDefaultEdgeLabel(function(){return{}});b=n["default"].getClasses();d=Object.keys(b);for(var l=0;l<d.length;l++){var G=r["default"].drawClass(g,b[d[l]],u);v[G.id]=G;h.setNode(G.id,G);p.log.info("Org height: "+G.height)}n["default"].getRelations().forEach(function(b){p.log.info("tjoho"+w(b.id1)+w(b.id2)+JSON.stringify(b));
h.setEdge(w(b.id1),w(b.id2),{relation:b},b.title||"DEFAULT")});f.a.layout(h);h.nodes().forEach(function(b){"undefined"!==typeof b&&"undefined"!==typeof h.node(b)&&(p.log.debug("Node "+b+": "+JSON.stringify(h.node(b))),Object(e.select)("#"+Object(n.lookUpDomId)(b)).attr("transform","translate("+(h.node(b).x-h.node(b).width/2)+","+(h.node(b).y-h.node(b).height/2)+" )"))});h.edges().forEach(function(b){"undefined"!==typeof b&&"undefined"!==typeof h.edge(b)&&(p.log.debug("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(h.edge(b))),
r["default"].drawEdge(g,h.edge(b),h.edge(b).relation,u))});b=g.node().getBBox();d=b.width+40;l=b.height+40;Object(t.configureSvgSize)(g,l,d,u.useMaxWidth);b="".concat(b.x-20," ").concat(b.y-20," ").concat(d," ").concat(l);p.log.debug("viewBox ".concat(b));g.attr("viewBox",b)};d["default"]={setConf:H,draw:z}},"./src/diagrams/class/parser/classDiagram.jison":function(b,d,g){(function(b,e){var f=function(){function b(){this.yy={}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},
e=[1,7],f=[1,6],g=[1,14],h=[1,25],l=[1,28],m=[1,26],J=[1,27],H=[1,29],z=[1,30],I=[1,31],O=[1,32],N=[1,34],L=[1,35],F=[1,36],G=[10,19],U=[1,48],R=[1,49],W=[1,50],T=[1,51],ea=[1,52],Q=[1,53],P=[10,19,25,32,33,41,44,45,46,47,48,49,54,56],S=[10,19,23,25,32,33,37,41,44,45,46,47,48,49,54,56,71,72,73],ua=[10,13,17,19],V=[41,71,72,73],ba=[41,48,49,71,72,73],la=[41,44,45,46,47,71,72,73],Z=[10,19,25],oa=[1,85];d={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,graphConfig:6,openDirective:7,
typeDirective:8,closeDirective:9,NEWLINE:10,":":11,argDirective:12,open_directive:13,type_directive:14,arg_directive:15,close_directive:16,CLASS_DIAGRAM:17,statements:18,EOF:19,statement:20,className:21,alphaNumToken:22,GENERICTYPE:23,relationStatement:24,LABEL:25,classStatement:26,methodStatement:27,annotationStatement:28,clickStatement:29,cssClassStatement:30,CLASS:31,STYLE_SEPARATOR:32,STRUCT_START:33,members:34,STRUCT_STOP:35,ANNOTATION_START:36,ANNOTATION_END:37,MEMBER:38,SEPARATOR:39,relation:40,
STR:41,relationType:42,lineType:43,AGGREGATION:44,EXTENSION:45,COMPOSITION:46,DEPENDENCY:47,LINE:48,DOTTED_LINE:49,CALLBACK:50,LINK:51,LINK_TARGET:52,CLICK:53,CALLBACK_NAME:54,CALLBACK_ARGS:55,HREF:56,CSSCLASS:57,commentToken:58,textToken:59,graphCodeTokens:60,textNoTagsToken:61,TAGSTART:62,TAGEND:63,"==":64,"--":65,PCT:66,DEFAULT:67,SPACE:68,MINUS:69,keywords:70,UNICODE_TEXT:71,NUM:72,ALPHA:73,$accept:0,$end:1},terminals_:{2:"error",10:"NEWLINE",11:":",13:"open_directive",14:"type_directive",15:"arg_directive",
16:"close_directive",17:"CLASS_DIAGRAM",19:"EOF",23:"GENERICTYPE",25:"LABEL",31:"CLASS",32:"STYLE_SEPARATOR",33:"STRUCT_START",35:"STRUCT_STOP",36:"ANNOTATION_START",37:"ANNOTATION_END",38:"MEMBER",39:"SEPARATOR",41:"STR",44:"AGGREGATION",45:"EXTENSION",46:"COMPOSITION",47:"DEPENDENCY",48:"LINE",49:"DOTTED_LINE",50:"CALLBACK",51:"LINK",52:"LINK_TARGET",53:"CLICK",54:"CALLBACK_NAME",55:"CALLBACK_ARGS",56:"HREF",57:"CSSCLASS",60:"graphCodeTokens",62:"TAGSTART",63:"TAGEND",64:"==",65:"--",66:"PCT",67:"DEFAULT",
68:"SPACE",69:"MINUS",70:"keywords",71:"UNICODE_TEXT",72:"NUM",73:"ALPHA"},productions_:[0,[3,1],[3,2],[4,1],[5,4],[5,6],[7,1],[8,1],[12,1],[9,1],[6,4],[18,1],[18,2],[18,3],[21,1],[21,2],[21,3],[21,2],[20,1],[20,2],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[26,2],[26,4],[26,5],[26,7],[28,4],[34,1],[34,2],[27,1],[27,2],[27,1],[27,1],[24,3],[24,4],[24,4],[24,5],[40,3],[40,2],[40,2],[40,1],[42,1],[42,1],[42,1],[42,1],[43,1],[43,1],[29,3],[29,4],[29,3],[29,4],[29,4],[29,5],[29,3],[29,4],[29,4],[29,5],
[29,3],[29,4],[29,4],[29,5],[30,3],[58,1],[58,1],[59,1],[59,1],[59,1],[59,1],[59,1],[59,1],[59,1],[61,1],[61,1],[61,1],[61,1],[22,1],[22,1],[22,1]],performAction:function(b,d,e,f,g,h,l){b=h.length-1;switch(g){case 6:f.parseDirective("%%{","open_directive");break;case 7:f.parseDirective(h[b],"type_directive");break;case 8:h[b]=h[b].trim().replace(/'/g,'"');f.parseDirective(h[b],"arg_directive");break;case 9:f.parseDirective("}%%","close_directive","class");break;case 14:this.$=h[b];break;case 15:this.$=
h[b-1]+h[b];break;case 16:this.$=h[b-2]+"~"+h[b-1]+h[b];break;case 17:this.$=h[b-1]+"~"+h[b];break;case 18:f.addRelation(h[b]);break;case 19:h[b-1].title=f.cleanupLabel(h[b]);f.addRelation(h[b-1]);break;case 26:f.addClass(h[b]);break;case 27:f.addClass(h[b-2]);f.setCssClass(h[b-2],h[b]);break;case 28:f.addClass(h[b-3]);f.addMembers(h[b-3],h[b-1]);break;case 29:f.addClass(h[b-5]);f.setCssClass(h[b-5],h[b-3]);f.addMembers(h[b-5],h[b-1]);break;case 30:f.addAnnotation(h[b],h[b-2]);break;case 31:this.$=
[h[b]];break;case 32:h[b].push(h[b-1]);this.$=h[b];break;case 34:f.addMember(h[b-1],f.cleanupLabel(h[b]));break;case 37:this.$={id1:h[b-2],id2:h[b],relation:h[b-1],relationTitle1:"none",relationTitle2:"none"};break;case 38:this.$={id1:h[b-3],id2:h[b],relation:h[b-1],relationTitle1:h[b-2],relationTitle2:"none"};break;case 39:this.$={id1:h[b-3],id2:h[b],relation:h[b-2],relationTitle1:"none",relationTitle2:h[b-1]};break;case 40:this.$={id1:h[b-4],id2:h[b],relation:h[b-2],relationTitle1:h[b-3],relationTitle2:h[b-
1]};break;case 41:this.$={type1:h[b-2],type2:h[b],lineType:h[b-1]};break;case 42:this.$={type1:"none",type2:h[b],lineType:h[b-1]};break;case 43:this.$={type1:h[b-1],type2:"none",lineType:h[b]};break;case 44:this.$={type1:"none",type2:"none",lineType:h[b]};break;case 45:this.$=f.relationType.AGGREGATION;break;case 46:this.$=f.relationType.EXTENSION;break;case 47:this.$=f.relationType.COMPOSITION;break;case 48:this.$=f.relationType.DEPENDENCY;break;case 49:this.$=f.lineType.LINE;break;case 50:this.$=
f.lineType.DOTTED_LINE;break;case 51:case 57:this.$=h[b-2];f.setClickEvent(h[b-1],h[b]);break;case 52:case 58:this.$=h[b-3];f.setClickEvent(h[b-2],h[b-1]);f.setTooltip(h[b-2],h[b]);break;case 53:case 61:this.$=h[b-2];f.setLink(h[b-1],h[b]);break;case 54:this.$=h[b-3];f.setLink(h[b-2],h[b-1],h[b]);break;case 55:case 63:this.$=h[b-3];f.setLink(h[b-2],h[b-1]);f.setTooltip(h[b-2],h[b]);break;case 56:case 64:this.$=h[b-4];f.setLink(h[b-3],h[b-2],h[b]);f.setTooltip(h[b-3],h[b-1]);break;case 59:this.$=h[b-
3];f.setClickEvent(h[b-2],h[b-1],h[b]);break;case 60:this.$=h[b-4];f.setClickEvent(h[b-3],h[b-2],h[b-1]);f.setTooltip(h[b-3],h[b]);break;case 62:this.$=h[b-3];f.setLink(h[b-2],h[b-1],h[b]);break;case 65:f.setCssClass(h[b-1],h[b])}},table:[{3:1,4:2,5:3,6:4,7:5,13:e,17:f},{1:[3]},{1:[2,1]},{3:8,4:2,5:3,6:4,7:5,13:e,17:f},{1:[2,3]},{8:9,14:[1,10]},{10:[1,11]},{14:[2,6]},{1:[2,2]},{9:12,11:[1,13],16:g},d([11,16],[2,7]),{5:23,7:5,13:e,18:15,20:16,21:24,22:33,24:17,26:18,27:19,28:20,29:21,30:22,31:h,36:l,
38:m,39:J,50:H,51:z,53:I,57:O,71:N,72:L,73:F},{10:[1,37]},{12:38,15:[1,39]},{10:[2,9]},{19:[1,40]},{10:[1,41],19:[2,11]},d(G,[2,18],{25:[1,42]}),d(G,[2,20]),d(G,[2,21]),d(G,[2,22]),d(G,[2,23]),d(G,[2,24]),d(G,[2,25]),d(G,[2,33],{40:43,42:46,43:47,25:[1,45],41:[1,44],44:U,45:R,46:W,47:T,48:ea,49:Q}),{21:54,22:33,71:N,72:L,73:F},d(G,[2,35]),d(G,[2,36]),{22:55,71:N,72:L,73:F},{21:56,22:33,71:N,72:L,73:F},{21:57,22:33,71:N,72:L,73:F},{21:58,22:33,71:N,72:L,73:F},{41:[1,59]},d(P,[2,14],{22:33,21:60,23:[1,
61],71:N,72:L,73:F}),d(S,[2,79]),d(S,[2,80]),d(S,[2,81]),d(ua,[2,4]),{9:62,16:g},{16:[2,8]},{1:[2,10]},{5:23,7:5,13:e,18:63,19:[2,12],20:16,21:24,22:33,24:17,26:18,27:19,28:20,29:21,30:22,31:h,36:l,38:m,39:J,50:H,51:z,53:I,57:O,71:N,72:L,73:F},d(G,[2,19]),{21:64,22:33,41:[1,65],71:N,72:L,73:F},{40:66,42:46,43:47,44:U,45:R,46:W,47:T,48:ea,49:Q},d(G,[2,34]),{43:67,48:ea,49:Q},d(V,[2,44],{42:68,44:U,45:R,46:W,47:T}),d(ba,[2,45]),d(ba,[2,46]),d(ba,[2,47]),d(ba,[2,48]),d(la,[2,49]),d(la,[2,50]),d(G,[2,
26],{32:[1,69],33:[1,70]}),{37:[1,71]},{41:[1,72]},{41:[1,73]},{54:[1,74],56:[1,75]},{22:76,71:N,72:L,73:F},d(P,[2,15]),d(P,[2,17],{22:33,21:77,71:N,72:L,73:F}),{10:[1,78]},{19:[2,13]},d(Z,[2,37]),{21:79,22:33,71:N,72:L,73:F},{21:80,22:33,41:[1,81],71:N,72:L,73:F},d(V,[2,43],{42:82,44:U,45:R,46:W,47:T}),d(V,[2,42]),{22:83,71:N,72:L,73:F},{34:84,38:oa},{21:86,22:33,71:N,72:L,73:F},d(G,[2,51],{41:[1,87]}),d(G,[2,53],{41:[1,89],52:[1,88]}),d(G,[2,57],{41:[1,90],55:[1,91]}),d(G,[2,61],{41:[1,93],52:[1,
92]}),d(G,[2,65]),d(P,[2,16]),d(ua,[2,5]),d(Z,[2,39]),d(Z,[2,38]),{21:94,22:33,71:N,72:L,73:F},d(V,[2,41]),d(G,[2,27],{33:[1,95]}),{35:[1,96]},{34:97,35:[2,31],38:oa},d(G,[2,30]),d(G,[2,52]),d(G,[2,54]),d(G,[2,55],{52:[1,98]}),d(G,[2,58]),d(G,[2,59],{41:[1,99]}),d(G,[2,62]),d(G,[2,63],{52:[1,100]}),d(Z,[2,40]),{34:101,38:oa},d(G,[2,28]),{35:[2,32]},d(G,[2,56]),d(G,[2,60]),d(G,[2,64]),{35:[1,102]},d(G,[2,29])],defaultActions:{2:[2,1],4:[2,3],7:[2,6],8:[2,2],14:[2,9],39:[2,8],40:[2,10],63:[2,13],97:[2,
32]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=d,b;},parse:function(b){var d=[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,1),q=Object.create(this.lexer),G={};for(r in this.yy)Object.prototype.hasOwnProperty.call(this.yy,r)&&(G[r]=this.yy[r]);q.setInput(b,G);G.lexer=q;G.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var r=q.yylloc;g.push(r);var t=q.options&&q.options.ranges;this.parseError="function"===typeof G.parseError?
G.parseError:Object.getPrototypeOf(this).parseError;for(var F,u,v,L={},z,S;;){u=d[d.length-1];if(this.defaultActions[u])v=this.defaultActions[u];else{if(null===F||"undefined"==typeof F)F=e.pop()||q.lex()||1,"number"!==typeof F&&(F instanceof Array&&(e=F,F=e.pop()),F=this.symbols_[F]||F);v=h[u]&&h[u][F]}if("undefined"===typeof v||!v.length||!v[0]){S=[];for(z in h[u])this.terminals_[z]&&2<z&&S.push("'"+this.terminals_[z]+"'");var U=q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+
"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[F]||F)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==F?"end of input":"'"+(this.terminals_[F]||F)+"'");this.parseError(U,{text:q.match,token:this.terminals_[F]||F,line:q.yylineno,loc:r,expected:S})}if(v[0]instanceof Array&&1<v.length)throw Error("Parse Error: multiple actions possible at state: "+u+", token: "+F);switch(v[0]){case 1:d.push(F);f.push(q.yytext);g.push(q.yylloc);d.push(v[1]);F=null;n=q.yyleng;l=q.yytext;m=q.yylineno;r=q.yylloc;
break;case 2:S=this.productions_[v[1]][1];L.$=f[f.length-S];L._$={first_line:g[g.length-(S||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(S||1)].first_column,last_column:g[g.length-1].last_column};t&&(L._$.range=[g[g.length-(S||1)].range[0],g[g.length-1].range[1]]);u=this.performAction.apply(L,[l,n,m,G,v[1],f,g].concat(p));if("undefined"!==typeof u)return u;S&&(d=d.slice(0,-2*S),f=f.slice(0,-1*S),g=g.slice(0,-1*S));d.push(this.productions_[v[1]][0]);f.push(L.$);g.push(L._$);
v=h[d[d.length-2]][d[d.length-1]];d.push(v);break;case 3:return!0}}}};e=function(){return{EOF:1,parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,d);else throw Error(b);},setInput:function(b,d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,
0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;b=this.match.split(/(?:\r\n?|\n)/g);
this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-e[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-d]);this.yyleng=this.yytext.length;
return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-
this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+d+"^"},test_match:function(b,d){var e;if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,
first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=e.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,
last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);
if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!f||b[0].length>f[0].length)){var f=b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==f)return f;if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?(f=this.test_match(f,
d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-
1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(b,d,e,f){switch(e){case 0:return this.begin("open_directive"),13;case 1:return this.begin("type_directive"),14;case 2:return this.popState(),this.begin("arg_directive"),
11;case 3:return this.popState(),this.popState(),16;case 4:return 15;case 7:return 10;case 9:return 17;case 10:return 17;case 11:return this.begin("struct"),33;case 12:return"EOF_IN_STRUCT";case 13:return"OPEN_IN_STRUCT";case 14:return this.popState(),35;case 16:return"MEMBER";case 17:return 31;case 18:return 57;case 19:return 50;case 20:return 51;case 21:return 53;case 22:return 36;case 23:return 37;case 24:this.begin("generic");break;case 25:this.popState();break;case 26:return"GENERICTYPE";case 27:this.begin("string");
break;case 28:this.popState();break;case 29:return"STR";case 30:this.begin("href");break;case 31:this.popState();break;case 32:return 56;case 33:this.begin("callback_name");break;case 34:this.popState();break;case 35:this.popState();this.begin("callback_args");break;case 36:return 54;case 37:this.popState();break;case 38:return 55;case 39:return 52;case 40:return 52;case 41:return 52;case 42:return 52;case 43:return 45;case 44:return 45;case 45:return 47;case 46:return 47;case 47:return 46;case 48:return 44;
case 49:return 48;case 50:return 49;case 51:return 25;case 52:return 32;case 53:return 69;case 54:return"DOT";case 55:return"PLUS";case 56:return 66;case 57:return"EQUALS";case 58:return"EQUALS";case 59:return 73;case 60:return"PUNCTUATION";case 61:return 72;case 62:return 71;case 63:return 68;case 64:return 19}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,
/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,
/^(?:\s*o\b)/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,
/^(?:\s)/,/^(?:$)/],conditions:{arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callback_args:{rules:[37,38],inclusive:!1},callback_name:{rules:[34,35,36],inclusive:!1},href:{rules:[31,32],inclusive:!1},struct:{rules:[12,13,14,15,16],inclusive:!1},generic:{rules:[25,26],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,17,18,19,20,21,22,23,24,27,30,33,39,40,41,42,43,44,45,46,47,48,49,50,51,
52,53,54,55,56,57,58,59,60,61,62,63,64],inclusive:!0}}}}();d.lexer=e;b.prototype=d;d.Parser=b;return new b}();d.parser=f;d.Parser=f.Parser;d.parse=function(){return f.parse.apply(f,arguments)};d.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),
g("./node_modules/webpack/buildin/module.js")(b))},"./src/diagrams/class/styles.js":function(b,d,g){g.r(d);d["default"]=function(b){return"g.classGroup text {\n  fill: ".concat(b.nodeBorder,";\n  fill: ").concat(b.classText,";\n  stroke: none;\n  font-family: ").concat(b.fontFamily,";\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(b.mainBkg,
";\n    stroke: ").concat(b.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ").concat(b.nodeBorder,";\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ").concat(b.mainBkg,";\n  stroke: ").concat(b.nodeBorder,";\n}\n\ng.classGroup line {\n  stroke: ").concat(b.nodeBorder,";\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(b.mainBkg,";\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ").concat(b.nodeBorder,
";\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ").concat(b.lineColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n#compositionStart, .composition {\n  fill: ").concat(b.lineColor," !important;\n  stroke: ").concat(b.lineColor," !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ").concat(b.lineColor," !important;\n  stroke: ").concat(b.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(b.lineColor,
" !important;\n  stroke: ").concat(b.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(b.lineColor," !important;\n  stroke: ").concat(b.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ").concat(b.lineColor," !important;\n  stroke: ").concat(b.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ").concat(b.lineColor," !important;\n  stroke: ").concat(b.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ").concat(b.mainBkg,
" !important;\n  stroke: ").concat(b.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ").concat(b.mainBkg," !important;\n  stroke: ").concat(b.lineColor," !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n")}},"./src/diagrams/class/svgDraw.js":function(b,d,g){g.r(d);g.d(d,"drawEdge",function(){return q});g.d(d,"drawClass",function(){return r});g.d(d,"parseMember",function(){return t});var e=g("d3"),f=g("./src/diagrams/class/classDb.js"),
m=g("./src/utils.js"),p=g("./src/logger.js"),n=0,q=function(b,d,g,h){var l=function(b){switch(b){case f.relationType.AGGREGATION:return"aggregation";case f.relationType.EXTENSION:return"extension";case f.relationType.COMPOSITION:return"composition";case f.relationType.DEPENDENCY:return"dependency"}};d.points=d.points.filter(function(b){return!Number.isNaN(b.y)});var q=d.points,r=Object(e.line)().x(function(b){return b.x}).y(function(b){return b.y}).curve(e.curveBasis);q=b.append("path").attr("d",
r(q)).attr("id","edge"+n).attr("class","relation");r="";h.arrowMarkerAbsolute&&(r=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,r=r.replace(/\(/g,"\\("),r=r.replace(/\)/g,"\\)"));1==g.relation.lineType&&q.attr("class","relation dashed-line");"none"!==g.relation.type1&&q.attr("marker-start","url("+r+"#"+l(g.relation.type1)+"Start)");"none"!==g.relation.type2&&q.attr("marker-end","url("+r+"#"+l(g.relation.type2)+"End)");r=d.points.length;q=m["default"].calcLabelPosition(d.points);
l=q.x;q=q.y;if(0!==r%2&&1<r){var F=m["default"].calcCardinalityPosition("none"!==g.relation.type1,d.points,d.points[0]);var G=m["default"].calcCardinalityPosition("none"!==g.relation.type2,d.points,d.points[r-1]);p.log.debug("cardinality_1_point "+JSON.stringify(F));p.log.debug("cardinality_2_point "+JSON.stringify(G));var t=F.x;F=F.y;var u=G.x;G=G.y}"undefined"!==typeof g.title&&(d=b.append("g").attr("class","classLabel"),l=d.append("text").attr("class","label").attr("x",l).attr("y",q).attr("fill",
"red").attr("text-anchor","middle").text(g.title),window.label=l,l=l.node().getBBox(),d.insert("rect",":first-child").attr("class","box").attr("x",l.x-h.padding/2).attr("y",l.y-h.padding/2).attr("width",l.width+h.padding).attr("height",l.height+h.padding));p.log.info("Rendering relation "+JSON.stringify(g));"undefined"!==typeof g.relationTitle1&&"none"!==g.relationTitle1&&b.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",t).attr("y",F).attr("fill","black").attr("font-size",
"6").text(g.relationTitle1);"undefined"!==typeof g.relationTitle2&&"none"!==g.relationTitle2&&b.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",u).attr("y",G).attr("fill","black").attr("font-size","6").text(g.relationTitle2);n++},r=function(b,d,e){p.log.info("Rendering class "+d);var g=d.id,h={id:g,label:d.id,width:0,height:0};b=b.append("g").attr("id",Object(f.lookUpDomId)(g)).attr("class","classGroup");var l=d.link?b.append("svg:a").attr("xlink:href",d.link).attr("target",
d.linkTarget).append("text").attr("y",e.textHeight+e.padding).attr("x",0):b.append("text").attr("y",e.textHeight+e.padding).attr("x",0);var m=!0;d.annotations.forEach(function(b){b=l.append("tspan").text("\u00ab"+b+"\u00bb");m||b.attr("dy",e.textHeight);m=!1});g=d.id;void 0!==d.type&&""!==d.type&&(g+="<"+d.type+">");g=l.append("tspan").text(g).attr("class","title");m||g.attr("dy",e.textHeight);var n=l.node().getBBox().height;g=b.append("line").attr("x1",0).attr("y1",e.padding+n+e.dividerMargin/2).attr("y2",
e.padding+n+e.dividerMargin/2);var q=b.append("text").attr("x",e.padding).attr("y",n+e.dividerMargin+e.textHeight).attr("fill","white").attr("class","classText");m=!0;d.members.forEach(function(b){v(q,b,m,e);m=!1});var r=q.node().getBBox(),t=b.append("line").attr("x1",0).attr("y1",e.padding+n+e.dividerMargin+r.height).attr("y2",e.padding+n+e.dividerMargin+r.height),u=b.append("text").attr("x",e.padding).attr("y",n+2*e.dividerMargin+r.height+e.textHeight).attr("fill","white").attr("class","classText");
m=!0;d.methods.forEach(function(b){v(u,b,m,e);m=!1});n=b.node().getBBox();r=" ";0<d.cssClasses.length&&(r+=d.cssClasses.join(" "));var z=b.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",n.width+2*e.padding).attr("height",n.height+e.padding+.5*e.dividerMargin).attr("class",r).node().getBBox().width;l.node().childNodes.forEach(function(b){b.setAttribute("x",(z-b.getBBox().width)/2)});d.tooltip&&l.insert("title").text(d.tooltip);g.attr("x2",z);t.attr("x2",z);h.width=z;h.height=n.height+
e.padding+.5*e.dividerMargin;return h},t=function(b){var d=b.match(/(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+)/),e=b.match(/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/);if(d&&!e){b="";try{var f=d[1]?d[1].trim():"",g=d[2]?d[2].trim():"",h=d[3]?u(d[3].trim()):"",l=d[4]?d[4].trim():"";b=f+g+h+" "+l}catch(T){b=d}return{displayText:b,cssStyle:""}}if(e){d=b="";try{var m=e[1]?e[1].trim():"",n=e[2]?e[2].trim():"",p=e[3]?u(e[3].trim()):"",q=e[4]?e[4].trim():"",r=e[5]?" : "+u(e[5]).trim():
"";d=m+n+"("+p+")"+r;b=w(q)}catch(T){d=e}return{displayText:d,cssStyle:b}}m="";q=b.indexOf("(");e=b.indexOf(")");1<q&&e>q&&e<=b.length?(n="",m=b.substring(0,1),m.match(/\w/)?p=b.substring(0,q).trim():(m.match(/\+|-|~|#/)&&(n=m),p=b.substring(1,q).trim()),q=b.substring(q+1,e),m=b.substring(e+1,1),m=w(m),n=n+p+"("+u(q.trim())+")",0>e&&(b=b.substring(e+2).trim(),""!==b&&u(b))):n=u(b);return{displayText:n,cssStyle:m}},v=function(b,d,e,f){d=t(d);b=b.append("tspan").attr("x",f.padding).text(d.displayText);
""!==d.cssStyle&&b.attr("style",d.cssStyle);e||b.attr("dy",f.textHeight)},u=function z(b){var d=b;return-1!=b.indexOf("~")?(d=d.replace("~","<"),d=d.replace("~",">"),z(d)):d},w=function(b){switch(b){case "*":return"font-style:italic;";case "$":return"text-decoration:underline;";default:return""}};d["default"]={drawClass:r,drawEdge:q,parseMember:t}},"./src/diagrams/common/common.js":function(b,d,g){g.r(d);g.d(d,"getRows",function(){return e});g.d(d,"removeScript",function(){return f});g.d(d,"sanitizeText",
function(){return m});g.d(d,"lineBreakRegex",function(){return p});g.d(d,"hasBreaks",function(){return n});g.d(d,"splitBreaks",function(){return q});var e=function(b){if(!b)return 1;b=b.replace(p,"#br#");b=b.replace(/\\n/g,"#br#");return b.split("#br#")},f=function(b){for(var d="",e=0;0<=e;)if(e=b.indexOf("<script"),0<=e)d+=b.substr(0,e),b=b.substr(e+1),e=b.indexOf("\x3c/script>"),0<=e&&(e+=9,b=b.substr(e));else{d+=b;break}return d},m=function(b,d){var e=!0;!d.flowchart||!1!==d.flowchart.htmlLabels&&
"false"!==d.flowchart.htmlLabels||(e=!1);e&&(d=d.securityLevel,"antiscript"===d?b=f(b):"loose"!==d&&(b=b.replace(p,"#br#"),b=b.replace(/</g,"&lt;").replace(/>/g,"&gt;"),b=b.replace(/=/g,"&equals;"),b=b.replace(/#br#/g,"<br/>")));return b},p=/<br\s*\/?>/gi,n=function(b){return/<br\s*[/]?>/gi.test(b)},q=function(b){return b.split(/<br\s*[/]?>/gi)};d["default"]={getRows:e,sanitizeText:m,hasBreaks:n,splitBreaks:q,lineBreakRegex:p,removeScript:f}},"./src/diagrams/er/erDb.js":function(b,d,g){g.r(d);g.d(d,
"parseDirective",function(){return r});var e=g("./src/logger.js"),f=g("./src/mermaidAPI.js"),m=g("./src/config.js"),p={},n=[],q="",r=function(b,d,e){f["default"].parseDirective(this,b,d,e)},t=function(b){"undefined"===typeof p[b]&&(p[b]={attributes:[]},e.log.info("Added new entity :",b));return p[b]};d["default"]={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},
parseDirective:r,getConfig:function(){return m.getConfig().er},addEntity:t,addAttributes:function(b,d){b=t(b);var f;for(f=d.length-1;0<=f;f--)b.attributes.push(d[f]),e.log.debug("Added attribute ",d[f].attributeName)},getEntities:function(){return p},addRelationship:function(b,d,f,g){b={entityA:b,roleA:d,entityB:f,relSpec:g};n.push(b);e.log.debug("Added new relationship :",b)},getRelationships:function(){return n},clear:function(){p={};n=[];q=""},setTitle:function(b){q=b},getTitle:function(){return q}}},
"./src/diagrams/er/erMarkers.js":function(b,d,g){g.r(d);var e={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"};d["default"]={ERMarkers:e,insertMarkers:function(b,d){b.append("defs").append("marker").attr("id",e.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",
18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",d.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18");b.append("defs").append("marker").attr("id",e.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",d.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18");var f=b.append("defs").append("marker").attr("id",e.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",
30).attr("markerHeight",18).attr("orient","auto");f.append("circle").attr("stroke",d.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6);f.append("path").attr("stroke",d.stroke).attr("fill","none").attr("d","M9,0 L9,18");f=b.append("defs").append("marker").attr("id",e.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");f.append("circle").attr("stroke",d.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",
6);f.append("path").attr("stroke",d.stroke).attr("fill","none").attr("d","M21,0 L21,18");b.append("defs").append("marker").attr("id",e.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",d.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27");b.append("defs").append("marker").attr("id",e.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",
36).attr("orient","auto").append("path").attr("stroke",d.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18");f=b.append("defs").append("marker").attr("id",e.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");f.append("circle").attr("stroke",d.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6);f.append("path").attr("stroke",d.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");
f=b.append("defs").append("marker").attr("id",e.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");f.append("circle").attr("stroke",d.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6);f.append("path").attr("stroke",d.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}}},"./src/diagrams/er/erRenderer.js":function(b,d,g){g.r(d);g.d(d,"setConf",function(){return w});g.d(d,"draw",function(){return L});
b=g("graphlib");var e=g.n(b),f=g("d3"),m=g("./src/diagrams/er/erDb.js");b=g("./src/diagrams/er/parser/erDiagram.jison");var p=g.n(b);b=g("dagre");var n=g.n(b),q=g("./src/config.js"),r=g("./src/logger.js"),t=g("./src/diagrams/er/erMarkers.js"),v=g("./src/utils.js"),u={},w=function(b){for(var d=Object.keys(b),e=0;e<d.length;e++)u[d[e]]=b[d[e]]},J=function(b,d,e){var f=u.entityPadding/3,g=u.entityPadding/3,h=.85*u.fontSize,l=d.node().getBBox(),m=[],n=0,p=0,G=l.height+2*f,r=1;e.forEach(function(e){var g=
"".concat(d.node().id,"-attr-").concat(r),l=b.append("text").attr("class","er entityLabel").attr("id","".concat(g,"-type")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+Object(q.getConfig)().fontFamily+"; font-size: "+h+"px").text(e.attributeType);e=b.append("text").attr("class","er entityLabel").attr("id","".concat(g,"-name")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+
Object(q.getConfig)().fontFamily+"; font-size: "+h+"px").text(e.attributeName);m.push({tn:l,nn:e});l=l.node().getBBox();e=e.node().getBBox();n=Math.max(n,l.width);p=Math.max(p,e.width);G+=Math.max(l.height,e.height)+2*f;r+=1});var t={width:Math.max(u.minEntityWidth,Math.max(l.width+2*u.entityPadding,n+p+4*g)),height:0<e.length?G:Math.max(u.minEntityHeight,l.height+2*u.entityPadding)},F=Math.max(0,t.width-(n+p)-4*g);if(0<e.length){d.attr("transform","translate("+t.width/2+","+(f+l.height/2)+")");var v=
l.height+2*f,L="attributeBoxOdd";m.forEach(function(d){var e=v+f+Math.max(d.tn.node().getBBox().height,d.nn.node().getBBox().height)/2;d.tn.attr("transform","translate("+g+","+e+")");var h=b.insert("rect","#"+d.tn.node().id).attr("class","er ".concat(L)).attr("fill",u.fill).attr("fill-opacity","100%").attr("stroke",u.stroke).attr("x",0).attr("y",v).attr("width",n+2*g+F/2).attr("height",d.tn.node().getBBox().height+2*f);d.nn.attr("transform","translate("+(parseFloat(h.attr("width"))+g)+","+e+")");
b.insert("rect","#"+d.nn.node().id).attr("class","er ".concat(L)).attr("fill",u.fill).attr("fill-opacity","100%").attr("stroke",u.stroke).attr("x","".concat(h.attr("x")+h.attr("width"))).attr("y",v).attr("width",p+2*g+F/2).attr("height",d.nn.node().getBBox().height+2*f);v+=Math.max(d.tn.node().getBBox().height,d.nn.node().getBBox().height)+2*f;L="attributeBoxOdd"==L?"attributeBoxEven":"attributeBoxOdd"})}else t.height=Math.max(u.minEntityHeight,G),d.attr("transform","translate("+t.width/2+","+t.height/
2+")");return t},H=function(b,d,e){var f;Object.keys(d).forEach(function(g){var h=b.append("g").attr("id",g);f=void 0===f?g:f;var l="entity-"+g,m=h.append("text").attr("class","er entityLabel").attr("id",l).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+Object(q.getConfig)().fontFamily+"; font-size: "+u.fontSize+"px").text(g),n=J(h,m,d[g].attributes);m=n.width;n=n.height;h=h.insert("rect","#"+l).attr("class","er entityBox").attr("fill",
u.fill).attr("fill-opacity","100%").attr("stroke",u.stroke).attr("x",0).attr("y",0).attr("width",m).attr("height",n).node().getBBox();e.setNode(g,{width:h.width,height:h.height,shape:"rect",id:g})});return f},z=function(b,d){d.nodes().forEach(function(e){"undefined"!==typeof e&&"undefined"!==typeof d.node(e)&&b.select("#"+e).attr("transform","translate("+(d.node(e).x-d.node(e).width/2)+","+(d.node(e).y-d.node(e).height/2)+" )")})},I=function(b,d){b.forEach(function(b){d.setEdge(b.entityA,b.entityB,
{relationship:b},(b.entityA+b.roleA+b.entityB).replace(/\s/g,""))});return b},O=0,N=function(b,d,e,g){O++;e=e.edge(d.entityA,d.entityB,(d.entityA+d.roleA+d.entityB).replace(/\s/g,""));var h=Object(f.line)().x(function(b){return b.x}).y(function(b){return b.y}).curve(f.curveBasis);g=b.insert("path","#"+g).attr("class","er relationshipLine").attr("d",h(e.points)).attr("stroke",u.stroke).attr("fill","none");d.relSpec.relType===m["default"].Identification.NON_IDENTIFYING&&g.attr("stroke-dasharray","8,8");
e="";u.arrowMarkerAbsolute&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replace(/\(/g,"\\("),e=e.replace(/\)/g,"\\)"));switch(d.relSpec.cardA){case m["default"].Cardinality.ZERO_OR_ONE:g.attr("marker-end","url("+e+"#"+t["default"].ERMarkers.ZERO_OR_ONE_END+")");break;case m["default"].Cardinality.ZERO_OR_MORE:g.attr("marker-end","url("+e+"#"+t["default"].ERMarkers.ZERO_OR_MORE_END+")");break;case m["default"].Cardinality.ONE_OR_MORE:g.attr("marker-end",
"url("+e+"#"+t["default"].ERMarkers.ONE_OR_MORE_END+")");break;case m["default"].Cardinality.ONLY_ONE:g.attr("marker-end","url("+e+"#"+t["default"].ERMarkers.ONLY_ONE_END+")")}switch(d.relSpec.cardB){case m["default"].Cardinality.ZERO_OR_ONE:g.attr("marker-start","url("+e+"#"+t["default"].ERMarkers.ZERO_OR_ONE_START+")");break;case m["default"].Cardinality.ZERO_OR_MORE:g.attr("marker-start","url("+e+"#"+t["default"].ERMarkers.ZERO_OR_MORE_START+")");break;case m["default"].Cardinality.ONE_OR_MORE:g.attr("marker-start",
"url("+e+"#"+t["default"].ERMarkers.ONE_OR_MORE_START+")");break;case m["default"].Cardinality.ONLY_ONE:g.attr("marker-start","url("+e+"#"+t["default"].ERMarkers.ONLY_ONE_START+")")}e=g.node().getTotalLength();g=g.node().getPointAtLength(.5*e);e="rel"+O;d=b.append("text").attr("class","er relationshipLabel").attr("id",e).attr("x",g.x).attr("y",g.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+Object(q.getConfig)().fontFamily+"; font-size: "+u.fontSize+
"px").text(d.roleA).node().getBBox();b.insert("rect","#"+e).attr("class","er relationshipLabelBox").attr("x",g.x-d.width/2).attr("y",g.y-d.height/2).attr("width",d.width).attr("height",d.height).attr("fill","white").attr("fill-opacity","85%")},L=function(b,d){r.log.info("Drawing ER diagram");m["default"].clear();var g=p.a.parser;g.yy=m["default"];try{g.parse(b)}catch(Q){r.log.debug("Parsing failed")}var h=Object(f.select)("[id='".concat(d,"']"));t["default"].insertMarkers(h,u);var l=(new e.a.Graph({multigraph:!0,
directed:!0,compound:!1})).setGraph({rankdir:u.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});var q=H(h,m["default"].getEntities(),l);b=I(m["default"].getRelationships(),l);n.a.layout(l);z(h,l);b.forEach(function(b){N(h,b,l,q)});b=u.diagramPadding;d=h.node().getBBox();g=d.width+2*b;var G=d.height+2*b;Object(v.configureSvgSize)(h,G,g,u.useMaxWidth);h.attr("viewBox","".concat(d.x-b," ").concat(d.y-b," ").concat(g," ").concat(G))};
d["default"]={setConf:w,draw:L}},"./src/diagrams/er/parser/erDiagram.jison":function(b,d,g){(function(b,e){var f=function(){function b(){this.yy={}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},e=[1,2],f=[1,5],g=[6,9,11,23,37],h=[1,17],l=[1,20],m=[1,25],J=[1,26],H=[1,27],z=[1,28],I=[1,37],O=[23,34,35],N=[4,6,9,11,23,37],L=[30,31,32,33],F=[22,27];d={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,
openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,ALPHANUM:23,attribute:24,attributeType:25,attributeName:26,ATTRIBUTE_WORD:27,cardinality:28,relType:29,ZERO_OR_ONE:30,ZERO_OR_MORE:31,ONE_OR_MORE:32,ONLY_ONE:33,NON_IDENTIFYING:34,IDENTIFYING:35,WORD:36,open_directive:37,type_directive:38,arg_directive:39,close_directive:40,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",
15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"ALPHANUM",27:"ATTRIBUTE_WORD",30:"ZERO_OR_ONE",31:"ZERO_OR_MORE",32:"ONE_OR_MORE",33:"ONLY_ONE",34:"NON_IDENTIFYING",35:"IDENTIFYING",36:"WORD",37:"open_directive",38:"type_directive",39:"arg_directive",40:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[17,1],[21,1],[21,2],[24,2],[25,1],[26,1],[18,3],[28,1],[28,1],[28,1],[28,1],[29,1],[29,1],[19,1],[19,1],[12,1],[13,1],[16,
1],[14,1]],performAction:function(b,d,e,f,g,h,l){b=h.length-1;switch(g){case 3:this.$=[];break;case 4:h[b-1].push(h[b]);this.$=h[b-1];break;case 5:case 6:this.$=h[b];break;case 7:case 8:this.$=[];break;case 12:f.addEntity(h[b-4]);f.addEntity(h[b-2]);f.addRelationship(h[b-4],h[b],h[b-2],h[b-3]);break;case 13:f.addEntity(h[b-3]);f.addAttributes(h[b-3],h[b-1]);break;case 14:f.addEntity(h[b-2]);break;case 15:f.addEntity(h[b]);break;case 16:this.$=h[b];break;case 17:this.$=[h[b]];break;case 18:h[b].push(h[b-
1]);this.$=h[b];break;case 19:this.$={attributeType:h[b-1],attributeName:h[b]};break;case 20:case 21:this.$=h[b];break;case 22:this.$={cardA:h[b],relType:h[b-1],cardB:h[b-2]};break;case 23:this.$=f.Cardinality.ZERO_OR_ONE;break;case 24:this.$=f.Cardinality.ZERO_OR_MORE;break;case 25:this.$=f.Cardinality.ONE_OR_MORE;break;case 26:this.$=f.Cardinality.ONLY_ONE;break;case 27:this.$=f.Identification.NON_IDENTIFYING;break;case 28:this.$=f.Identification.IDENTIFYING;break;case 29:this.$=h[b].replace(/"/g,
"");break;case 30:this.$=h[b];break;case 31:f.parseDirective("%%{","open_directive");break;case 32:f.parseDirective(h[b],"type_directive");break;case 33:h[b]=h[b].trim().replace(/'/g,'"');f.parseDirective(h[b],"arg_directive");break;case 34:f.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:e,7:3,12:4,37:f},{1:[3]},d(g,[2,3],{5:6}),{3:7,4:e,7:3,12:4,37:f},{13:8,38:[1,9]},{38:[2,31]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:h,37:f},{1:[2,2]},{14:18,15:[1,19],40:l},d([15,
40],[2,32]),d(g,[2,8],{1:[2,1]}),d(g,[2,4]),{7:15,10:21,12:4,17:16,23:h,37:f},d(g,[2,6]),d(g,[2,7]),d(g,[2,11]),d(g,[2,15],{18:22,28:24,20:[1,23],30:m,31:J,32:H,33:z}),d([6,9,11,15,20,23,30,31,32,33,37],[2,16]),{11:[1,29]},{16:30,39:[1,31]},{11:[2,34]},d(g,[2,5]),{17:32,23:h},{21:33,22:[1,34],24:35,25:36,27:I},{29:38,34:[1,39],35:[1,40]},d(O,[2,23]),d(O,[2,24]),d(O,[2,25]),d(O,[2,26]),d(N,[2,9]),{14:41,40:l},{40:[2,33]},{15:[1,42]},{22:[1,43]},d(g,[2,14]),{21:44,22:[2,17],24:35,25:36,27:I},{26:45,
27:[1,46]},{27:[2,20]},{28:47,30:m,31:J,32:H,33:z},d(L,[2,27]),d(L,[2,28]),{11:[1,48]},{19:49,23:[1,51],36:[1,50]},d(g,[2,13]),{22:[2,18]},d(F,[2,19]),d(F,[2,21]),{23:[2,22]},d(N,[2,10]),d(g,[2,12]),d(g,[2,29]),d(g,[2,30])],defaultActions:{5:[2,31],7:[2,2],20:[2,34],31:[2,33],37:[2,20],44:[2,18],47:[2,22]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=d,b;},parse:function(b){var d=[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,1),q=
Object.create(this.lexer),r={};for(u in this.yy)Object.prototype.hasOwnProperty.call(this.yy,u)&&(r[u]=this.yy[u]);q.setInput(b,r);r.lexer=q;r.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var u=q.yylloc;g.push(u);var t=q.options&&q.options.ranges;this.parseError="function"===typeof r.parseError?r.parseError:Object.getPrototypeOf(this).parseError;for(var G,F,v,L={},z,w;;){F=d[d.length-1];if(this.defaultActions[F])v=this.defaultActions[F];else{if(null===G||"undefined"==typeof G)G=e.pop()||
q.lex()||1,"number"!==typeof G&&(G instanceof Array&&(e=G,G=e.pop()),G=this.symbols_[G]||G);v=h[F]&&h[F][G]}if("undefined"===typeof v||!v.length||!v[0]){w=[];for(z in h[F])this.terminals_[z]&&2<z&&w.push("'"+this.terminals_[z]+"'");var N=q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[G]||G)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==G?"end of input":"'"+(this.terminals_[G]||G)+"'");this.parseError(N,{text:q.match,
token:this.terminals_[G]||G,line:q.yylineno,loc:u,expected:w})}if(v[0]instanceof Array&&1<v.length)throw Error("Parse Error: multiple actions possible at state: "+F+", token: "+G);switch(v[0]){case 1:d.push(G);f.push(q.yytext);g.push(q.yylloc);d.push(v[1]);G=null;n=q.yyleng;l=q.yytext;m=q.yylineno;u=q.yylloc;break;case 2:w=this.productions_[v[1]][1];L.$=f[f.length-w];L._$={first_line:g[g.length-(w||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(w||1)].first_column,last_column:g[g.length-
1].last_column};t&&(L._$.range=[g[g.length-(w||1)].range[0],g[g.length-1].range[1]]);F=this.performAction.apply(L,[l,n,m,r,v[1],f,g].concat(p));if("undefined"!==typeof F)return F;w&&(d=d.slice(0,-2*w),f=f.slice(0,-1*w),g=g.slice(0,-1*w));d.push(this.productions_[v[1]][0]);f.push(L.$);g.push(L._$);v=h[d[d.length-2]][d[d.length-1]];d.push(v);break;case 3:return!0}}}};e=function(){return{EOF:1,parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,d);else throw Error(b);},setInput:function(b,
d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):
this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,
last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-e[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");
return b+this.upcomingInput()+"\n"+d+"^"},test_match:function(b,d){var e;if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};
this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=e.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);
this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&
(!f||b[0].length>f[0].length)){var f=b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==f)return f;if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?(f=this.test_match(f,d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},
popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},
options:{"case-insensitive":!0},performAction:function(b,d,e,f){switch(e){case 0:return this.begin("open_directive"),37;case 1:return this.begin("type_directive"),38;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),40;case 4:return 39;case 7:return 11;case 9:return 9;case 10:return 36;case 11:return 4;case 12:return this.begin("block"),20;case 14:return 27;case 16:return this.popState(),22;case 17:return d.yytext[0];case 18:return 30;case 19:return 31;
case 20:return 32;case 21:return 33;case 22:return 30;case 23:return 31;case 24:return 32;case 25:return 34;case 26:return 35;case 27:return 34;case 28:return 34;case 29:return 23;case 30:return d.yytext[0];case 31:return 6}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,
/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},block:{rules:[13,14,15,16,17],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!0}}}}();
d.lexer=e;b.prototype=d;d.Parser=b;return new b}();d.parser=f;d.Parser=f.Parser;d.parse=function(){return f.parse.apply(f,arguments)};d.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),g("./node_modules/webpack/buildin/module.js")(b))},
"./src/diagrams/er/styles.js":function(b,d,g){g.r(d);d["default"]=function(b){return"\n  .entityBox {\n    fill: ".concat(b.mainBkg,";\n    stroke: ").concat(b.nodeBorder,";\n  }\n\n  .attributeBoxOdd {\n    fill: #ffffff;\n    stroke: ").concat(b.nodeBorder,";\n  }\n\n  .attributeBoxEven {\n    fill: #f2f2f2;\n    stroke: ").concat(b.nodeBorder,";\n  }\n\n  .relationshipLabelBox {\n    fill: ").concat(b.tertiaryColor,";\n    opacity: 0.7;\n    background-color: ").concat(b.tertiaryColor,";\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ").concat(b.lineColor,
";\n    }\n")}},"./src/diagrams/flowchart/flowChartShapes.js":function(b,d,g){function e(b,d,e){d=.9*(d.width+d.height);var f=[{x:d/2,y:0},{x:d,y:-d/2},{x:d/2,y:-d},{x:0,y:-d/2}];b=z(b,d,d,f);e.intersect=function(b){return I.a.intersect.polygon(e,f,b)};return b}function f(b,d,e){var f=d.height,g=f/4;d=d.width+2*g;var h=[{x:g,y:0},{x:d-g,y:0},{x:d,y:-f/2},{x:d-g,y:-f},{x:g,y:-f},{x:0,y:-f/2}];b=z(b,d,f,h);e.intersect=function(b){return I.a.intersect.polygon(e,h,b)};return b}function m(b,d,e){var f=
d.width;d=d.height;var g=[{x:-d/2,y:0},{x:f,y:0},{x:f,y:-d},{x:-d/2,y:-d},{x:0,y:-d/2}];b=z(b,f,d,g);e.intersect=function(b){return I.a.intersect.polygon(e,g,b)};return b}function p(b,d,e){var f=d.width;d=d.height;var g=[{x:-2*d/6,y:0},{x:f-d/6,y:0},{x:f+2*d/6,y:-d},{x:d/6,y:-d}];b=z(b,f,d,g);e.intersect=function(b){return I.a.intersect.polygon(e,g,b)};return b}function n(b,d,e){var f=d.width;d=d.height;var g=[{x:2*d/6,y:0},{x:f+d/6,y:0},{x:f-2*d/6,y:-d},{x:-d/6,y:-d}];b=z(b,f,d,g);e.intersect=function(b){return I.a.intersect.polygon(e,
g,b)};return b}function q(b,d,e){var f=d.width;d=d.height;var g=[{x:-2*d/6,y:0},{x:f+2*d/6,y:0},{x:f-d/6,y:-d},{x:d/6,y:-d}];b=z(b,f,d,g);e.intersect=function(b){return I.a.intersect.polygon(e,g,b)};return b}function r(b,d,e){var f=d.width;d=d.height;var g=[{x:d/6,y:0},{x:f-d/6,y:0},{x:f+2*d/6,y:-d},{x:-2*d/6,y:-d}];b=z(b,f,d,g);e.intersect=function(b){return I.a.intersect.polygon(e,g,b)};return b}function t(b,d,e){var f=d.width;d=d.height;var g=[{x:0,y:0},{x:f+d/2,y:0},{x:f,y:-d/2},{x:f+d/2,y:-d},
{x:0,y:-d}];b=z(b,f,d,g);e.intersect=function(b){return I.a.intersect.polygon(e,g,b)};return b}function v(b,d,e){var f=d.height;d=d.width+f/4;b=b.insert("rect",":first-child").attr("rx",f/2).attr("ry",f/2).attr("x",-d/2).attr("y",-f/2).attr("width",d).attr("height",f);e.intersect=function(b){return I.a.intersect.rect(e,b)};return b}function u(b,d,e){var f=d.width;d=d.height;var g=[{x:0,y:0},{x:f,y:0},{x:f,y:-d},{x:0,y:-d},{x:0,y:0},{x:-8,y:0},{x:f+8,y:0},{x:f+8,y:-d},{x:-8,y:-d},{x:-8,y:0}];b=z(b,
f,d,g);e.intersect=function(b){return I.a.intersect.polygon(e,g,b)};return b}function w(b,d,e){var f=d.width,g=f/2,h=g/(2.5+f/50);d=d.height+h;var l="M 0,"+h+" a "+g+","+h+" 0,0,0 "+f+" 0 a "+g+","+h+" 0,0,0 "+-f+" 0 l 0,"+d+" a "+g+","+h+" 0,0,0 "+f+" 0 l 0,"+-d;b=b.attr("label-offset-y",h).insert("path",":first-child").attr("d",l).attr("transform","translate("+-f/2+","+-(d/2+h)+")");e.intersect=function(b){var d=I.a.intersect.rect(e,b),f=d.x-e.x;0!=g&&(Math.abs(f)<e.width/2||Math.abs(f)==e.width/
2&&Math.abs(d.y-e.y)>e.height/2-h)&&(f=h*h*(1-f*f/(g*g)),0!=f&&(f=Math.sqrt(f)),f=h-f,0<b.y-e.y&&(f=-f),d.y+=f);return d};return b}function J(b){b.shapes().question=e;b.shapes().hexagon=f;b.shapes().stadium=v;b.shapes().subroutine=u;b.shapes().cylinder=w;b.shapes().rect_left_inv_arrow=m;b.shapes().lean_right=p;b.shapes().lean_left=n;b.shapes().trapezoid=q;b.shapes().inv_trapezoid=r;b.shapes().rect_right_inv_arrow=t}function H(b){b({question:e});b({hexagon:f});b({stadium:v});b({subroutine:u});b({cylinder:w});
b({rect_left_inv_arrow:m});b({lean_right:p});b({lean_left:n});b({trapezoid:q});b({inv_trapezoid:r});b({rect_right_inv_arrow:t})}function z(b,d,e,f){return b.insert("polygon",":first-child").attr("points",f.map(function(b){return b.x+","+b.y}).join(" ")).attr("transform","translate("+-d/2+","+e/2+")")}g.r(d);g.d(d,"addToRender",function(){return J});g.d(d,"addToRenderV2",function(){return H});b=g("dagre-d3");var I=g.n(b);d["default"]={addToRender:J,addToRenderV2:H}},"./src/diagrams/flowchart/flowDb.js":function(b,
d,g){function e(b){"@babel/helpers - typeof";e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return e(b)}function f(b){if(Array.isArray(b)){var d=0;for(var e=Array(b.length);d<b.length;d++)e[d]=b[d];d=e}else d=void 0;d||(d=Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=d))throw new TypeError("Invalid attempt to spread non-iterable instance");
return b}g.r(d);g.d(d,"parseDirective",function(){return R});g.d(d,"lookUpDomId",function(){return W});g.d(d,"addVertex",function(){return T});g.d(d,"addSingleLink",function(){return ea});g.d(d,"addLink",function(){return Q});g.d(d,"updateLinkInterpolate",function(){return P});g.d(d,"updateLink",function(){return S});g.d(d,"addClass",function(){return ua});g.d(d,"setDirection",function(){return V});g.d(d,"setClass",function(){return ba});g.d(d,"setLink",function(){return Z});g.d(d,"getTooltip",function(){return oa});
g.d(d,"setClickEvent",function(){return Aa});g.d(d,"bindFunctions",function(){return ca});g.d(d,"getDirection",function(){return db});g.d(d,"getVertices",function(){return Xa});g.d(d,"getEdges",function(){return Da});g.d(d,"getClasses",function(){return Ha});g.d(d,"clear",function(){return va});g.d(d,"setGen",function(){return Ba});g.d(d,"defaultStyle",function(){return ya});g.d(d,"addSubGraph",function(){return da});g.d(d,"getDepthFirstPos",function(){return fa});g.d(d,"indexNodes",function(){return ta});
g.d(d,"getSubGraphs",function(){return ab});g.d(d,"firstGraph",function(){return sa});var m=g("d3"),p=g("./src/utils.js"),n=g("./src/config.js"),q=g("./src/diagrams/common/common.js"),r=g("./src/mermaidAPI.js"),t=g("./src/logger.js"),v=0,u=n.getConfig(),w={},J=[],H=[],z=[],I={},O={},N=0,L=!0,F,G,U=[],R=function(b,d,e){r["default"].parseDirective(this,b,d,e)},W=function(b){for(var d=Object.keys(w),e=0;e<d.length;e++)if(w[d[e]].id===b)return w[d[e]].domId;return b},T=function(b,d,e,f,g){"undefined"!==
typeof b&&0!==b.trim().length&&("undefined"===typeof w[b]&&(w[b]={id:b,domId:"flowchart-"+b+"-"+v,styles:[],classes:[]}),v++,"undefined"!==typeof d?(u=n.getConfig(),d=q["default"].sanitizeText(d.trim(),u),'"'===d[0]&&'"'===d[d.length-1]&&(d=d.substring(1,d.length-1)),w[b].text=d):"undefined"===typeof w[b].text&&(w[b].text=b),"undefined"!==typeof e&&(w[b].type=e),"undefined"!==typeof f&&null!==f&&f.forEach(function(d){w[b].styles.push(d)}),"undefined"!==typeof g&&null!==g&&g.forEach(function(d){w[b].classes.push(d)}))},
ea=function(b,d,e,f){b={start:b,end:d,type:void 0,text:""};f=e.text;"undefined"!==typeof f&&(b.text=q["default"].sanitizeText(f.trim(),u),'"'===b.text[0]&&'"'===b.text[b.text.length-1]&&(b.text=b.text.substring(1,b.text.length-1)));"undefined"!==typeof e&&(b.type=e.type,b.stroke=e.stroke,b.length=e.length);J.push(b)},Q=function(b,d,e,f){var g,h;for(g=0;g<b.length;g++)for(h=0;h<d.length;h++)ea(b[g],d[h],e,f)},P=function(b,d){b.forEach(function(b){"default"===b?J.defaultInterpolate=d:J[b].interpolate=
d})},S=function(b,d){b.forEach(function(b){"default"===b?J.defaultStyle=d:(-1===p["default"].isSubstringInArray("fill",d)&&d.push("fill:none"),J[b].style=d)})},ua=function(b,d){"undefined"===typeof H[b]&&(H[b]={id:b,styles:[],textStyles:[]});"undefined"!==typeof d&&null!==d&&d.forEach(function(d){if(d.match("color")){var e=d.replace("fill","bgFill").replace("color","fill");H[b].textStyles.push(e)}H[b].styles.push(d)})},V=function(b){F=b;F.match(/.*</)&&(F="RL");F.match(/.*\^/)&&(F="BT");F.match(/.*>/)&&
(F="LR");F.match(/.*v/)&&(F="TB")},ba=function(b,d){b.split(",").forEach(function(b){"undefined"!==typeof w[b]&&w[b].classes.push(d);"undefined"!==typeof I[b]&&I[b].classes.push(d)})},la=function(b,d,e){var g=W(b);if("loose"===n.getConfig().securityLevel&&"undefined"!==typeof d){var h=[];if("string"===typeof e)for(h=e.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/),e=0;e<h.length;e++){var l=h[e].trim();'"'===l.charAt(0)&&'"'===l.charAt(l.length-1)&&(l=l.substr(1,l.length-2));h[e]=l}0===h.length&&h.push(b);
"undefined"!==typeof w[b]&&(w[b].haveCallback=!0,U.push(function(){var b=document.querySelector('[id="'.concat(g,'"]'));null!==b&&b.addEventListener("click",function(){p["default"].runFunc.apply(p["default"],[d].concat(f(h)))},!1)}))}},Z=function(b,d,e){b.split(",").forEach(function(b){"undefined"!==typeof w[b]&&(w[b].link=p["default"].formatUrl(d,u),w[b].linkTarget=e)});ba(b,"clickable")},oa=function(b){return O[b]},Aa=function(b,d,e){b.split(",").forEach(function(b){la(b,d,e)});ba(b,"clickable")},
ca=function(b){U.forEach(function(d){d(b)})},db=function(){return F.trim()},Xa=function(){return w},Da=function(){return J},Ha=function(){return H},za=function(b){var d=Object(m.select)(".mermaidTooltip");null===(d._groups||d)[0][0]&&(d=Object(m.select)("body").append("div").attr("class","mermaidTooltip").style("opacity",0));Object(m.select)(b).select("svg").selectAll("g.node").on("mouseover",function(){var b=Object(m.select)(this);if(null!==b.attr("title")){var e=this.getBoundingClientRect();d.transition().duration(200).style("opacity",
".9");d.html(b.attr("title")).style("left",window.scrollX+e.left+(e.right-e.left)/2+"px").style("top",window.scrollY+e.top-14+document.body.scrollTop+"px");b.classed("hover",!0)}}).on("mouseout",function(){d.transition().duration(500).style("opacity",0);Object(m.select)(this).classed("hover",!1)})};U.push(za);var va=function(b){w={};H={};J=[];U=[];U.push(za);z=[];I={};N=0;O=[];L=!0;G=b||"gen-1"},Ba=function(b){G=b||"gen-1"},ya=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},
da=function(b,d,f){var g=b.trim(),h=f;b===f&&f.match(/\s/)&&(g=void 0);b=[];b=function(b){var d={boolean:{},number:{},string:{}},f=[];return b.filter(function(b){var g=e(b);return""===b.trim()?!1:g in d?d[g].hasOwnProperty(b)?!1:d[g][b]=!0:0<=f.indexOf(b)?!1:f.push(b)})}(b.concat.apply(b,d));if("gen-1"===G)for(t.log.warn("LOOKING UP"),d=0;d<b.length;d++)b[d]=W(b[d]);g=g||"subGraph"+N;h=q["default"].sanitizeText(h||"",u);N+=1;h={id:g,nodes:b,title:h.trim(),classes:[]};t.log.info("Adding",h.id,h.nodes);
h.nodes=pa(h,z).nodes;z.push(h);I[g]=h;return g},ja=-1,ia=[],na=function ha(b,d){var e=z[d].nodes;ja+=1;if(!(2E3<ja)){ia[ja]=d;if(z[d].id===b)return{result:!0,count:0};d=0;for(var f=1;d<e.length;){var g;a:{for(g=0;g<z.length;g++)if(z[g].id===e[d])break a;g=-1}if(0<=g){g=ha(b,g);if(g.result)return{result:!0,count:f+g.count};f+=g.count}d+=1}return{result:!1,count:f}}},fa=function(b){return ia[b]},ta=function(){ja=-1;0<z.length&&na("none",z.length-1)},ab=function(){return z},sa=function(){return L?(L=
!1,!0):!1},qa=function(b,d){var e=!1;b.forEach(function(b){0<=b.nodes.indexOf(d)&&(e=!0)});return e},pa=function(b,d){var e=[];b.nodes.forEach(function(f,g){qa(d,f)||e.push(b.nodes[g])});return{nodes:e}};d["default"]={parseDirective:R,defaultConfig:function(){return n.defaultConfig.flowchart},addVertex:T,lookUpDomId:W,addLink:Q,updateLinkInterpolate:P,updateLink:S,addClass:ua,setDirection:V,setClass:ba,setTooltip:function(b,d){b.split(",").forEach(function(b){"undefined"!==typeof d&&(O["gen-1"===
G?W(b):b]=q["default"].sanitizeText(d,u))})},getTooltip:oa,setClickEvent:Aa,setLink:Z,bindFunctions:ca,getDirection:db,getVertices:Xa,getEdges:Da,getClasses:Ha,clear:va,setGen:Ba,defaultStyle:ya,addSubGraph:da,getDepthFirstPos:fa,indexNodes:ta,getSubGraphs:ab,destructLink:function(b,d){var e=b.trim(),f=e.slice(0,-1);b="arrow_open";switch(e.slice(-1)){case "x":b="arrow_cross";"x"===e[0]&&(b="double_"+b,f=f.slice(1));break;case ">":b="arrow_point";"<"===e[0]&&(b="double_"+b,f=f.slice(1));break;case "o":b=
"arrow_circle","o"===e[0]&&(b="double_"+b,f=f.slice(1))}e="normal";var g=f.length-1;"="===f[0]&&(e="thick");for(var h=f.length,l=0,m=0;m<h;++m)"."===f[m]&&++l;if(f=l)e="dotted",g=f;b={type:b,stroke:e,length:g};if(d){d=d.trim();f="arrow_open";switch(d[0]){case "<":f="arrow_point";d=d.slice(1);break;case "x":f="arrow_cross";d=d.slice(1);break;case "o":f="arrow_circle",d=d.slice(1)}e="normal";-1!==d.indexOf("=")&&(e="thick");-1!==d.indexOf(".")&&(e="dotted");d={type:f,stroke:e};if(d.stroke!==b.stroke)return{type:"INVALID",
stroke:"INVALID"};if("arrow_open"===d.type)d.type=b.type;else{if(d.type!==b.type)return{type:"INVALID",stroke:"INVALID"};d.type="double_"+d.type}"double_arrow"===d.type&&(d.type="double_arrow_point");d.length=b.length;return d}return b},lex:{firstGraph:sa},exists:qa,makeUniq:pa}},"./src/diagrams/flowchart/flowRenderer-v2.js":function(b,d,g){g.r(d);g.d(d,"setConf",function(){return J});g.d(d,"addVertices",function(){return H});g.d(d,"addEdges",function(){return z});g.d(d,"getClasses",function(){return I});
g.d(d,"draw",function(){return O});b=g("graphlib");var e=g.n(b),f=g("d3"),m=g("./src/diagrams/flowchart/flowDb.js");b=g("./src/diagrams/flowchart/parser/flow.jison");var p=g.n(b),n=g("./src/config.js"),q=g("./src/dagre-wrapper/index.js");b=g("dagre-d3/lib/label/add-html-label.js");var r=g.n(b),t=g("./src/logger.js"),v=g("./src/diagrams/common/common.js"),u=g("./src/utils.js"),w={},J=function(b){for(var d=Object.keys(b),e=0;e<d.length;e++)w[d[e]]=b[d[e]]},H=function(b,d,e){var g=Object(f.select)('[id="'.concat(e,
'"]'));Object.keys(b).forEach(function(e){e=b[e];var f="default";0<e.classes.length&&(f=e.classes.join(" "));var h=Object(u.getStylesFromArray)(e.styles),l=void 0!==e.text?e.text:e.id;if(Object(n.getConfig)().flowchart.htmlLabels){var p={label:l.replace(/fa[lrsb]?:fa-[\w-]+/g,function(b){return"<i class='".concat(b.replace(":"," "),"'></i>")})};p=r()(g,p).node();p.parentNode.removeChild(p)}else{p=document.createElementNS("http://www.w3.org/2000/svg","text");p.setAttribute("style",h.labelStyle.replace("color:",
"fill:"));for(var q=l.split(v["default"].lineBreakRegex),F=0;F<q.length;F++){var G=document.createElementNS("http://www.w3.org/2000/svg","tspan");G.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");G.setAttribute("dy","1em");G.setAttribute("x","1");G.textContent=q[F];p.appendChild(G)}}p=0;q="";switch(e.type){case "round":p=5;q="rect";break;case "square":q="rect";break;case "diamond":q="question";break;case "hexagon":q="hexagon";break;case "odd":q="rect_left_inv_arrow";
break;case "lean_right":q="lean_right";break;case "lean_left":q="lean_left";break;case "trapezoid":q="trapezoid";break;case "inv_trapezoid":q="inv_trapezoid";break;case "odd_right":q="rect_left_inv_arrow";break;case "circle":q="circle";break;case "ellipse":q="ellipse";break;case "stadium":q="stadium";break;case "subroutine":q="subroutine";break;case "cylinder":q="cylinder";break;case "group":q="rect";break;default:q="rect"}d.setNode(e.id,{labelStyle:h.labelStyle,shape:q,labelText:l,rx:p,ry:p,class:f,
style:h.style,id:e.id,link:e.link,linkTarget:e.linkTarget,tooltip:m["default"].getTooltip(e.id)||"",domId:m["default"].lookUpDomId(e.id),haveCallback:e.haveCallback,width:"group"===e.type?500:void 0,type:e.type,padding:Object(n.getConfig)().flowchart.padding});t.log.info("setNode",{labelStyle:h.labelStyle,shape:q,labelText:l,rx:p,ry:p,class:f,style:h.style,id:e.id,domId:m["default"].lookUpDomId(e.id),width:"group"===e.type?500:void 0,type:e.type,padding:Object(n.getConfig)().flowchart.padding})})},
z=function(b,d){var e=0;if("undefined"!==typeof b.defaultStyle){var g=Object(u.getStylesFromArray)(b.defaultStyle);var h=g.style;var l=g.labelStyle}b.forEach(function(g){e++;var m="L-"+g.start+"-"+g.end,n="LS-"+g.start,p="LE-"+g.end,q={style:"",labelStyle:""};q.minlen=g.length||1;q.arrowhead="arrow_open"===g.type?"none":"normal";q.arrowTypeStart="arrow_open";q.arrowTypeEnd="arrow_open";switch(g.type){case "double_arrow_cross":q.arrowTypeStart="arrow_cross";case "arrow_cross":q.arrowTypeEnd="arrow_cross";
break;case "double_arrow_point":q.arrowTypeStart="arrow_point";case "arrow_point":q.arrowTypeEnd="arrow_point";break;case "double_arrow_circle":q.arrowTypeStart="arrow_circle";case "arrow_circle":q.arrowTypeEnd="arrow_circle"}var r="",t="";switch(g.stroke){case "normal":r="fill:none;";"undefined"!==typeof h&&(r=h);"undefined"!==typeof l&&(t=l);q.thickness="normal";q.pattern="solid";break;case "dotted":q.thickness="normal";q.pattern="dotted";q.style="fill:none;stroke-width:2px;stroke-dasharray:3;";
break;case "thick":q.thickness="thick",q.pattern="solid",q.style="stroke-width: 3.5px;fill:none;"}"undefined"!==typeof g.style&&(t=Object(u.getStylesFromArray)(g.style),r=t.style,t=t.labelStyle);q.style+=r;q.labelStyle+=t;q.curve="undefined"!==typeof g.interpolate?Object(u.interpolateToCurve)(g.interpolate,f.curveLinear):"undefined"!==typeof b.defaultInterpolate?Object(u.interpolateToCurve)(b.defaultInterpolate,f.curveLinear):Object(u.interpolateToCurve)(w.curve,f.curveLinear);"undefined"===typeof g.text?
"undefined"!==typeof g.style&&(q.arrowheadStyle="fill: #333"):(q.arrowheadStyle="fill: #333",q.labelpos="c");q.labelType="text";q.label=g.text.replace(v["default"].lineBreakRegex,"\n");"undefined"===typeof g.style&&(q.style=q.style||"stroke: #333; stroke-width: 1.5px;fill:none;");q.labelStyle=q.labelStyle.replace("color:","fill:");q.id=m;q.classes="flowchart-link "+n+" "+p;d.setEdge(g.start,g.end,q,e)})},I=function(b){t.log.info("Extracting classes");m["default"].clear();var d=p.a.parser;d.yy=m["default"];
try{d.parse(b)}catch(F){return}return m["default"].getClasses()},O=function(b,d){t.log.info("Drawing flowchart");m["default"].clear();m["default"].setGen("gen-2");var g=p.a.parser;g.yy=m["default"];g.parse(b);g=m["default"].getDirection();"undefined"===typeof g&&(g="TD");b=Object(n.getConfig)().flowchart;var h=b.nodeSpacing||50,l=b.rankSpacing||50;g=(new e.a.Graph({multigraph:!0,compound:!0})).setGraph({rankdir:g,nodesep:h,ranksep:l,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});
var r=m["default"].getSubGraphs();t.log.info("Subgraphs - ",r);for(h=r.length-1;0<=h;h--)l=r[h],t.log.info("Subgraph - ",l),m["default"].addVertex(l.id,l.title,"group",void 0,l.classes);var v=m["default"].getVertices(),L=m["default"].getEdges();t.log.info(L);h=0;for(h=r.length-1;0<=h;h--){l=r[h];Object(f.selectAll)("cluster").append("text");for(var w=0;w<l.nodes.length;w++)t.log.info("Setting up subgraphs",l.nodes[w],l.id),g.setParent(l.nodes[w],l.id)}H(v,g,d);z(L,g);l=Object(f.select)('[id="'.concat(d,
'"]'));l.attr("xmlns:xlink","http://www.w3.org/1999/xlink");r=Object(f.select)("#"+d+" g");Object(q.render)(r,g,["point","circle","cross"],"flowchart",d);r=b.diagramPadding;L=l.node().getBBox();w=L.width+2*r;var I=L.height+2*r;t.log.debug("new ViewBox 0 0 ".concat(w," ").concat(I),"translate(".concat(r-g._label.marginx,", ").concat(r-g._label.marginy,")"));Object(u.configureSvgSize)(l,I,w,b.useMaxWidth);l.attr("viewBox","0 0 ".concat(w," ").concat(I));l.select("g").attr("transform","translate(".concat(r-
g._label.marginx,", ").concat(r-L.y,")"));m["default"].indexNodes("subGraph"+h);if(!b.htmlLabels)for(b=document.querySelectorAll('[id="'+d+'"] .edgeLabel .label'),g=0;g<b.length;g++)h=b[g],l=h.getBBox(),r=document.createElementNS("http://www.w3.org/2000/svg","rect"),r.setAttribute("rx",0),r.setAttribute("ry",0),r.setAttribute("width",l.width),r.setAttribute("height",l.height),h.insertBefore(r,h.firstChild);Object.keys(v).forEach(function(b){var e=v[b];if(e.link&&(b=Object(f.select)("#"+d+' [id="'+
b+'"]'))){var g=document.createElementNS("http://www.w3.org/2000/svg","a");g.setAttributeNS("http://www.w3.org/2000/svg","class",e.classes.join(" "));g.setAttributeNS("http://www.w3.org/2000/svg","href",e.link);g.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener");e.linkTarget&&g.setAttributeNS("http://www.w3.org/2000/svg","target",e.linkTarget);e=b.insert(function(){return g},":first-child");var h=b.select(".label-container");h&&e.append(function(){return h.node()});var l=b.select(".label");
l&&e.append(function(){return l.node()})}})};d["default"]={setConf:J,addVertices:H,addEdges:z,getClasses:I,draw:O}},"./src/diagrams/flowchart/flowRenderer.js":function(b,d,g){g.r(d);g.d(d,"setConf",function(){return H});g.d(d,"addVertices",function(){return z});g.d(d,"addEdges",function(){return I});g.d(d,"getClasses",function(){return O});g.d(d,"draw",function(){return N});b=g("graphlib");var e=g.n(b),f=g("d3"),m=g("./src/diagrams/flowchart/flowDb.js");b=g("./src/diagrams/flowchart/parser/flow.jison");
var p=g.n(b),n=g("./src/config.js");b=g("dagre-d3");var q=g.n(b);b=g("dagre-d3/lib/label/add-html-label.js");var r=g.n(b),t=g("./src/logger.js"),v=g("./src/diagrams/common/common.js"),u=g("./src/utils.js"),w=g("./src/diagrams/flowchart/flowChartShapes.js"),J={},H=function(b){for(var d=Object.keys(b),e=0;e<d.length;e++)J[d[e]]=b[d[e]]},z=function(b,d,e){var g=Object(f.select)('[id="'.concat(e,'"]'));Object.keys(b).forEach(function(e){e=b[e];var f="default";0<e.classes.length&&(f=e.classes.join(" "));
var h=Object(u.getStylesFromArray)(e.styles),l=void 0!==e.text?e.text:e.id;if(Object(n.getConfig)().flowchart.htmlLabels){var p={label:l.replace(/fa[lrsb]?:fa-[\w-]+/g,function(b){return"<i class='".concat(b.replace(":"," "),"'></i>")})};p=r()(g,p).node();p.parentNode.removeChild(p)}else{p=document.createElementNS("http://www.w3.org/2000/svg","text");p.setAttribute("style",h.labelStyle.replace("color:","fill:"));l=l.split(v["default"].lineBreakRegex);for(var q=0;q<l.length;q++){var F=document.createElementNS("http://www.w3.org/2000/svg",
"tspan");F.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");F.setAttribute("dy","1em");F.setAttribute("x","1");F.textContent=l[q];p.appendChild(F)}}l=0;q="";switch(e.type){case "round":l=5;q="rect";break;case "square":q="rect";break;case "diamond":q="question";break;case "hexagon":q="hexagon";break;case "odd":q="rect_left_inv_arrow";break;case "lean_right":q="lean_right";break;case "lean_left":q="lean_left";break;case "trapezoid":q="trapezoid";break;case "inv_trapezoid":q=
"inv_trapezoid";break;case "odd_right":q="rect_left_inv_arrow";break;case "circle":q="circle";break;case "ellipse":q="ellipse";break;case "stadium":q="stadium";break;case "subroutine":q="subroutine";break;case "cylinder":q="cylinder";break;case "group":q="rect";break;default:q="rect"}t.log.warn("Adding node",e.id,e.domId);d.setNode(m["default"].lookUpDomId(e.id),{labelType:"svg",labelStyle:h.labelStyle,shape:q,label:p,rx:l,ry:l,class:f,style:h.style,id:m["default"].lookUpDomId(e.id)})})},I=function(b,
d){var e=0;if("undefined"!==typeof b.defaultStyle){var g=Object(u.getStylesFromArray)(b.defaultStyle);var h=g.style;var l=g.labelStyle}b.forEach(function(g){e++;var p="L-"+g.start+"-"+g.end,q="LS-"+g.start,r="LE-"+g.end,t={};t.arrowhead="arrow_open"===g.type?"none":"normal";var F="",G="";if("undefined"!==typeof g.style)G=Object(u.getStylesFromArray)(g.style),F=G.style,G=G.labelStyle;else switch(g.stroke){case "normal":F="fill:none";"undefined"!==typeof h&&(F=h);"undefined"!==typeof l&&(G=l);break;
case "dotted":F="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case "thick":F=" stroke-width: 3.5px;fill:none"}t.style=F;t.labelStyle=G;t.curve="undefined"!==typeof g.interpolate?Object(u.interpolateToCurve)(g.interpolate,f.curveLinear):"undefined"!==typeof b.defaultInterpolate?Object(u.interpolateToCurve)(b.defaultInterpolate,f.curveLinear):Object(u.interpolateToCurve)(J.curve,f.curveLinear);"undefined"===typeof g.text?"undefined"!==typeof g.style&&(t.arrowheadStyle="fill: #333"):(t.arrowheadStyle=
"fill: #333",t.labelpos="c",Object(n.getConfig)().flowchart.htmlLabels?(t.labelType="html",t.label='<span id="L-'.concat(p,'" class="edgeLabel L-').concat(q,"' L-").concat(r,'">').concat(g.text.replace(/fa[lrsb]?:fa-[\w-]+/g,function(b){return"<i class='".concat(b.replace(":"," "),"'></i>")}),"</span>")):(t.labelType="text",t.label=g.text.replace(v["default"].lineBreakRegex,"\n"),"undefined"===typeof g.style&&(t.style=t.style||"stroke: #333; stroke-width: 1.5px;fill:none"),t.labelStyle=t.labelStyle.replace("color:",
"fill:")));t.id=p;t.class=q+" "+r;t.minlen=g.length||1;d.setEdge(m["default"].lookUpDomId(g.start),m["default"].lookUpDomId(g.end),t,e)})},O=function(b){t.log.info("Extracting classes");m["default"].clear();try{var d=p.a.parser;d.yy=m["default"];d.parse(b);return m["default"].getClasses()}catch(G){}},N=function(b,d){t.log.info("Drawing flowchart");m["default"].clear();m["default"].setGen("gen-1");var g=p.a.parser;g.yy=m["default"];g.parse(b);b=m["default"].getDirection();"undefined"===typeof b&&(b=
"TD");var h=Object(n.getConfig)().flowchart;g=h.nodeSpacing||50;var l=h.rankSpacing||50,r=(new e.a.Graph({multigraph:!0,compound:!0})).setGraph({rankdir:b,nodesep:g,ranksep:l,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});b=m["default"].getSubGraphs();for(g=b.length-1;0<=g;g--)l=b[g],m["default"].addVertex(l.id,l.title,"group",void 0,l.classes);var F=m["default"].getVertices();t.log.warn("Get vertices",F);var v=m["default"].getEdges();g=0;for(g=b.length-1;0<=g;g--){l=b[g];Object(f.selectAll)("cluster").append("text");
for(var L=0;L<l.nodes.length;L++)t.log.warn("Setting subgraph",l.nodes[L],m["default"].lookUpDomId(l.nodes[L]),m["default"].lookUpDomId(l.id)),r.setParent(m["default"].lookUpDomId(l.nodes[L]),m["default"].lookUpDomId(l.id))}z(F,r,d);I(v,r);v=new q.a.render;w["default"].addToRender(v);v.arrows().none=function(b,d,e,f){b=b.append("marker").attr("id",d).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient",
"auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");q.a.util.applyStyle(b,e[f+"Style"])};v.arrows().normal=function(b,d){b.append("marker").attr("id",d).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};l=Object(f.select)('[id="'.concat(d,'"]'));l.attr("xmlns:xlink",
"http://www.w3.org/1999/xlink");t.log.warn(r);L=Object(f.select)("#"+d+" g");v(L,r);L.selectAll("g.node").attr("title",function(){return m["default"].getTooltip(this.id)});r=h.diagramPadding;v=l.node().getBBox();L=v.width+2*r;var P=v.height+2*r;Object(u.configureSvgSize)(l,P,L,h.useMaxWidth);h="".concat(v.x-r," ").concat(v.y-r," ").concat(L," ").concat(P);t.log.debug("viewBox ".concat(h));l.attr("viewBox",h);m["default"].indexNodes("subGraph"+g);for(g=0;g<b.length;g++)if(l=b[g],"undefined"!==l.title)for(L=
document.querySelectorAll("#"+d+' [id="'+m["default"].lookUpDomId(l.id)+'"] rect'),h=document.querySelectorAll("#"+d+' [id="'+m["default"].lookUpDomId(l.id)+'"]'),r=L[0].x.baseVal.value,v=L[0].y.baseVal.value,L=L[0].width.baseVal.value,P=Object(f.select)(h[0]).select(".label"),P.attr("transform","translate(".concat(r+L/2,", ").concat(v+14,")")),P.attr("id",d+"Text"),r=0;r<l.classes.length;r++)h[0].classList.add(l.classes[r]);b=document.querySelectorAll('[id="'+d+'"] .edgeLabel .label');for(g=0;g<
b.length;g++)h=b[g],l=h.getBBox(),r=document.createElementNS("http://www.w3.org/2000/svg","rect"),r.setAttribute("rx",0),r.setAttribute("ry",0),r.setAttribute("width",l.width),r.setAttribute("height",l.height),h.insertBefore(r,h.firstChild);Object.keys(F).forEach(function(b){var e=F[b];if(e.link&&(b=Object(f.select)("#"+d+' [id="'+m["default"].lookUpDomId(b)+'"]'))){var g=document.createElementNS("http://www.w3.org/2000/svg","a");g.setAttributeNS("http://www.w3.org/2000/svg","class",e.classes.join(" "));
g.setAttributeNS("http://www.w3.org/2000/svg","href",e.link);g.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener");e.linkTarget&&g.setAttributeNS("http://www.w3.org/2000/svg","target",e.linkTarget);e=b.insert(function(){return g},":first-child");var h=b.select(".label-container");h&&e.append(function(){return h.node()});var l=b.select(".label");l&&e.append(function(){return l.node()})}})};d["default"]={setConf:H,addVertices:z,addEdges:I,getClasses:O,draw:N}},"./src/diagrams/flowchart/parser/flow.jison":function(b,
d,g){(function(b,e){var f=function(){function b(){this.yy={}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},e=[1,9],f=[1,7],g=[1,6],h=[1,8],l=[1,20,21,22,23,38,46,75,76,77,78,79,80,94,95,98,99,100,102,103,109,110,111,112,113,114],m=[2,10],J=[1,20],H=[1,21],z=[1,22],I=[1,23],O=[1,30],N=[1,54],L=[1,32],F=[1,33],G=[1,34],U=[1,35],R=[1,36],W=[1,48],T=[1,43],ea=[1,45],Q=[1,40],P=[1,44],S=[1,47],ua=[1,51],V=[1,52],ba=[1,53],la=[1,42],Z=[1,46],oa=[1,49],Aa=[1,50],ca=[1,41],db=[1,
57],Xa=[1,62],Da=[1,20,21,22,23,38,42,46,75,76,77,78,79,80,94,95,98,99,100,102,103,109,110,111,112,113,114],Ha=[1,66],za=[1,65],va=[1,67],Ba=[20,21,23,69,70],ya=[1,88],da=[1,93],ja=[1,90],ia=[1,95],na=[1,98],fa=[1,96],ta=[1,97],ab=[1,91],sa=[1,103],qa=[1,102],pa=[1,92],ra=[1,94],xa=[1,99],ma=[1,100],ha=[1,101],wa=[1,104],Lb=[20,21,22,23,69,70],mb=[20,21,22,23,47,69,70],fb=[20,21,22,23,40,46,47,49,51,53,55,57,59,61,62,64,69,70,80,94,95,98,99,100,102,103,109,110,111,112,113,114],$a=[20,21,23],Ub=[20,
21,23,46,69,70,80,94,95,98,99,100,102,103,109,110,111,112,113,114],Ob=[1,12,20,21,22,23,24,38,42,46,75,76,77,78,79,80,94,95,98,99,100,102,103,109,110,111,112,113,114],Za=[46,80,94,95,98,99,100,102,103,109,110,111,112,113,114],Oa=[1,136],Ia=[1,144],Ja=[1,145],Ka=[1,146],Pa=[1,147],La=[1,131],Ma=[1,132],gb=[1,128],Qa=[1,139],Ca=[1,140],Ea=[1,141],Ra=[1,142],Sa=[1,143],Ta=[1,148],Na=[1,149],Ua=[1,134],Va=[1,137],Fa=[1,133],Wa=[1,130],Qb=[20,21,22,23,38,42,46,75,76,77,78,79,80,94,95,98,99,100,102,103,
109,110,111,112,113,114],Mb=[1,152],Gb=[20,21,22,23,26,46,80,94,95,98,99,100,102,103,109,110,111,112,113,114],Ga=[20,21,22,23,24,26,38,40,41,42,46,50,52,54,56,58,60,61,63,65,69,70,71,75,76,77,78,79,80,81,84,94,95,98,99,100,102,103,104,105,109,110,111,112,113,114],Wb=[12,21,22,24],Nb=[22,95],tb=[1,233],qb=[1,237],ub=[1,234],vb=[1,231],eb=[1,228],kb=[1,229],nb=[1,230],ob=[1,232],sb=[1,235],wb=[1,236],pb=[1,238],yb=[1,255],Rb=[20,21,23,95],rb=[20,21,22,23,75,91,94,95,98,99,100,101,102,103,104],Db={trace:function(){},
yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,
subgraph:38,text:39,SQS:40,SQE:41,end:42,link:43,node:44,vertex:45,AMP:46,STYLE_SEPARATOR:47,idString:48,PS:49,PE:50,"(-":51,"-)":52,STADIUMSTART:53,STADIUMEND:54,SUBROUTINESTART:55,SUBROUTINEEND:56,CYLINDERSTART:57,CYLINDEREND:58,DIAMOND_START:59,DIAMOND_STOP:60,TAGEND:61,TRAPSTART:62,TRAPEND:63,INVTRAPSTART:64,INVTRAPEND:65,linkStatement:66,arrowText:67,TESTSTR:68,START_LINK:69,LINK:70,PIPE:71,textToken:72,STR:73,keywords:74,STYLE:75,LINKSTYLE:76,CLASSDEF:77,CLASS:78,CLICK:79,DOWN:80,UP:81,textNoTags:82,
textNoTagsToken:83,DEFAULT:84,stylesOpt:85,alphaNum:86,CALLBACKNAME:87,CALLBACKARGS:88,HREF:89,LINK_TARGET:90,HEX:91,numList:92,INTERPOLATE:93,NUM:94,COMMA:95,style:96,styleComponent:97,ALPHA:98,COLON:99,MINUS:100,UNIT:101,BRKT:102,DOT:103,PCT:104,TAGSTART:105,alphaNumToken:106,idStringToken:107,alphaNumStatement:108,PUNCTUATION:109,UNICODE_TEXT:110,PLUS:111,EQUALS:112,MULT:113,UNDERSCORE:114,graphCodeTokens:115,ARROW_CROSS:116,ARROW_POINT:117,ARROW_CIRCLE:118,ARROW_OPEN:119,QUOTE:120,$accept:0,$end:1},
terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",46:"AMP",47:"STYLE_SEPARATOR",49:"PS",50:"PE",51:"(-",52:"-)",53:"STADIUMSTART",54:"STADIUMEND",55:"SUBROUTINESTART",56:"SUBROUTINEEND",57:"CYLINDERSTART",58:"CYLINDEREND",59:"DIAMOND_START",60:"DIAMOND_STOP",61:"TAGEND",62:"TRAPSTART",63:"TRAPEND",64:"INVTRAPSTART",65:"INVTRAPEND",
68:"TESTSTR",69:"START_LINK",70:"LINK",71:"PIPE",73:"STR",75:"STYLE",76:"LINKSTYLE",77:"CLASSDEF",78:"CLASS",79:"CLICK",80:"DOWN",81:"UP",84:"DEFAULT",87:"CALLBACKNAME",88:"CALLBACKARGS",89:"HREF",90:"LINK_TARGET",91:"HEX",93:"INTERPOLATE",94:"NUM",95:"COMMA",98:"ALPHA",99:"COLON",100:"MINUS",101:"UNIT",102:"BRKT",103:"DOT",104:"PCT",105:"TAGSTART",109:"PUNCTUATION",110:"UNICODE_TEXT",111:"PLUS",112:"EQUALS",113:"MULT",114:"UNDERSCORE",116:"ARROW_CROSS",117:"ARROW_POINT",118:"ARROW_CIRCLE",119:"ARROW_OPEN",
120:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[44,1],[44,5],[44,3],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[43,2],
[43,3],[43,3],[43,1],[43,3],[66,1],[67,3],[39,1],[39,2],[39,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[74,1],[82,1],[82,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[92,1],[92,3],[85,1],[85,3],[96,1],[96,2],[97,1],[97,1],[97,1],[97,1],[97,1],[97,1],[97,1],[97,1],[97,1],[97,1],[97,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[83,1],[83,
1],[83,1],[83,1],[48,1],[48,2],[86,1],[86,2],[108,1],[108,1],[108,1],[108,1],[106,1],[106,1],[106,1],[106,1],[106,1],[106,1],[106,1],[106,1],[106,1],[106,1],[106,1],[106,1],[106,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1]],
performAction:function(b,d,e,f,g,h,l){b=h.length-1;switch(g){case 5:f.parseDirective("%%{","open_directive");break;case 6:f.parseDirective(h[b],"type_directive");break;case 7:h[b]=h[b].trim().replace(/'/g,'"');f.parseDirective(h[b],"arg_directive");break;case 8:f.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:h[b]!==[]&&h[b-1].push(h[b]);this.$=h[b-1];break;case 12:case 76:case 78:case 90:case 146:case 148:case 149:this.$=h[b];break;case 19:f.setDirection("TB");
this.$="TB";break;case 20:f.setDirection(h[b-1]);this.$=h[b-1];break;case 35:this.$=h[b-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=f.addSubGraph(h[b-6],h[b-1],h[b-4]);break;case 42:this.$=f.addSubGraph(h[b-3],h[b-1],h[b-3]);break;case 43:this.$=f.addSubGraph(void 0,h[b-1],void 0);break;case 47:f.addLink(h[b-2].stmt,h[b],h[b-1]);this.$={stmt:h[b],nodes:h[b].concat(h[b-2].nodes)};break;case 48:f.addLink(h[b-3].stmt,h[b-1],h[b-2]);this.$={stmt:h[b-1],nodes:h[b-
1].concat(h[b-3].nodes)};break;case 49:this.$={stmt:h[b-1],nodes:h[b-1]};break;case 50:this.$={stmt:h[b],nodes:h[b]};break;case 51:this.$=[h[b]];break;case 52:this.$=h[b-4].concat(h[b]);break;case 53:this.$=[h[b-2]];f.setClass(h[b-2],h[b]);break;case 54:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"square");break;case 55:this.$=h[b-5];f.addVertex(h[b-5],h[b-2],"circle");break;case 56:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"ellipse");break;case 57:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"stadium");break;
case 58:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"subroutine");break;case 59:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"cylinder");break;case 60:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"round");break;case 61:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"diamond");break;case 62:this.$=h[b-5];f.addVertex(h[b-5],h[b-2],"hexagon");break;case 63:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"odd");break;case 64:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"trapezoid");break;case 65:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],
"inv_trapezoid");break;case 66:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"lean_right");break;case 67:this.$=h[b-3];f.addVertex(h[b-3],h[b-1],"lean_left");break;case 68:this.$=h[b];f.addVertex(h[b]);break;case 69:h[b-1].text=h[b];this.$=h[b-1];break;case 70:case 71:h[b-2].text=h[b-1];this.$=h[b-2];break;case 72:this.$=h[b];break;case 73:f=f.destructLink(h[b],h[b-2]);this.$={type:f.type,stroke:f.stroke,length:f.length,text:h[b-1]};break;case 74:f=f.destructLink(h[b]);this.$={type:f.type,stroke:f.stroke,
length:f.length};break;case 75:this.$=h[b-1];break;case 77:case 91:case 147:this.$=h[b-1]+""+h[b];break;case 92:case 93:this.$=h[b-4];f.addClass(h[b-2],h[b]);break;case 94:this.$=h[b-4];f.setClass(h[b-2],h[b]);break;case 95:case 103:this.$=h[b-1];f.setClickEvent(h[b-1],h[b]);break;case 96:case 104:this.$=h[b-3];f.setClickEvent(h[b-3],h[b-2]);f.setTooltip(h[b-3],h[b]);break;case 97:this.$=h[b-2];f.setClickEvent(h[b-2],h[b-1],h[b]);break;case 98:this.$=h[b-4];f.setClickEvent(h[b-4],h[b-3],h[b-2]);f.setTooltip(h[b-
4],h[b]);break;case 99:case 105:this.$=h[b-1];f.setLink(h[b-1],h[b]);break;case 100:case 106:this.$=h[b-3];f.setLink(h[b-3],h[b-2]);f.setTooltip(h[b-3],h[b]);break;case 101:case 107:this.$=h[b-3];f.setLink(h[b-3],h[b-2],h[b]);break;case 102:case 108:this.$=h[b-5];f.setLink(h[b-5],h[b-4],h[b]);f.setTooltip(h[b-5],h[b-2]);break;case 109:this.$=h[b-4];f.addVertex(h[b-2],void 0,void 0,h[b]);break;case 110:case 112:this.$=h[b-4];f.updateLink(h[b-2],h[b]);break;case 111:this.$=h[b-4];f.updateLink([h[b-
2]],h[b]);break;case 113:this.$=h[b-8];f.updateLinkInterpolate([h[b-6]],h[b-2]);f.updateLink([h[b-6]],h[b]);break;case 114:this.$=h[b-8];f.updateLinkInterpolate(h[b-6],h[b-2]);f.updateLink(h[b-6],h[b]);break;case 115:this.$=h[b-6];f.updateLinkInterpolate([h[b-4]],h[b]);break;case 116:this.$=h[b-6];f.updateLinkInterpolate(h[b-4],h[b]);break;case 117:case 119:this.$=[h[b]];break;case 118:case 120:h[b-2].push(h[b]);this.$=h[b-2];break;case 122:this.$=h[b-1]+h[b];break;case 144:this.$=h[b];break;case 145:this.$=
h[b-1]+""+h[b];break;case 150:this.$="v";break;case 151:this.$="-"}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:f,22:g,24:h},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:f,22:g,24:h},d(l,m,{17:11}),{7:12,13:[1,13]},{16:14,21:f,22:g,24:h},{16:15,21:f,22:g,24:h},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:J,21:H,22:z,23:I,32:24,33:25,34:26,35:27,36:28,37:29,38:O,44:31,45:37,46:N,48:38,75:L,76:F,77:G,78:U,79:R,80:W,94:T,95:ea,98:Q,99:P,100:S,102:ua,103:V,107:39,109:ba,110:la,111:Z,
112:oa,113:Aa,114:ca},{8:55,10:[1,56],15:db},d([10,15],[2,6]),d(l,[2,17]),d(l,[2,18]),d(l,[2,19]),{20:[1,59],21:[1,60],22:Xa,27:58,30:61},d(Da,[2,11]),d(Da,[2,12]),d(Da,[2,13]),d(Da,[2,14]),d(Da,[2,15]),d(Da,[2,16]),{9:63,20:Ha,21:za,23:va,43:64,66:68,69:[1,69],70:[1,70]},{9:71,20:Ha,21:za,23:va},{9:72,20:Ha,21:za,23:va},{9:73,20:Ha,21:za,23:va},{9:74,20:Ha,21:za,23:va},{9:75,20:Ha,21:za,23:va},{9:77,20:Ha,21:za,22:[1,76],23:va},d(Ba,[2,50],{30:78,22:Xa}),{22:[1,79]},{22:[1,80]},{22:[1,81]},{22:[1,
82]},{26:ya,46:da,73:[1,86],80:ja,86:85,87:[1,83],89:[1,84],94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,106:89,108:87,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d(Lb,[2,51],{47:[1,105]}),d(mb,[2,68],{107:116,40:[1,106],46:N,49:[1,107],51:[1,108],53:[1,109],55:[1,110],57:[1,111],59:[1,112],61:[1,113],62:[1,114],64:[1,115],80:W,94:T,95:ea,98:Q,99:P,100:S,102:ua,103:V,109:ba,110:la,111:Z,112:oa,113:Aa,114:ca}),d(fb,[2,144]),d(fb,[2,165]),d(fb,[2,166]),d(fb,[2,167]),d(fb,[2,168]),d(fb,[2,169]),d(fb,
[2,170]),d(fb,[2,171]),d(fb,[2,172]),d(fb,[2,173]),d(fb,[2,174]),d(fb,[2,175]),d(fb,[2,176]),d(fb,[2,177]),d(fb,[2,178]),d(fb,[2,179]),{9:117,20:Ha,21:za,23:va},{11:118,14:[1,119]},d($a,[2,8]),d(l,[2,20]),d(l,[2,26]),d(l,[2,27]),{21:[1,120]},d(Ub,[2,34],{30:121,22:Xa}),d(Da,[2,35]),{44:122,45:37,46:N,48:38,80:W,94:T,95:ea,98:Q,99:P,100:S,102:ua,103:V,107:39,109:ba,110:la,111:Z,112:oa,113:Aa,114:ca},d(Ob,[2,44]),d(Ob,[2,45]),d(Ob,[2,46]),d(Za,[2,72],{67:123,68:[1,124],71:[1,125]}),{22:Oa,24:Ia,26:Ja,
38:Ka,39:126,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d([46,68,71,80,94,95,98,99,100,102,103,109,110,111,112,113,114],[2,74]),d(Da,[2,36]),d(Da,[2,37]),d(Da,[2,38]),d(Da,[2,39]),d(Da,[2,40]),{22:Oa,24:Ia,26:Ja,38:Ka,39:150,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,
98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d(Qb,m,{17:151}),d(Ba,[2,49],{46:Mb}),{26:ya,46:da,80:ja,86:153,91:[1,154],94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,106:89,108:87,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{84:[1,155],92:156,94:[1,157]},{26:ya,46:da,80:ja,84:[1,158],86:159,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,106:89,108:87,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{26:ya,46:da,80:ja,86:160,94:ia,95:na,98:fa,99:ta,100:ab,
102:sa,103:qa,106:89,108:87,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d($a,[2,95],{22:[1,161],88:[1,162]}),d($a,[2,99],{22:[1,163]}),d($a,[2,103],{106:89,108:165,22:[1,164],26:ya,46:da,80:ja,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa}),d($a,[2,105],{22:[1,166]}),d(Gb,[2,146]),d(Gb,[2,148]),d(Gb,[2,149]),d(Gb,[2,150]),d(Gb,[2,151]),d(Ga,[2,152]),d(Ga,[2,153]),d(Ga,[2,154]),d(Ga,[2,155]),d(Ga,[2,156]),d(Ga,[2,157]),d(Ga,[2,158]),d(Ga,[2,159]),d(Ga,[2,160]),
d(Ga,[2,161]),d(Ga,[2,162]),d(Ga,[2,163]),d(Ga,[2,164]),{46:N,48:167,80:W,94:T,95:ea,98:Q,99:P,100:S,102:ua,103:V,107:39,109:ba,110:la,111:Z,112:oa,113:Aa,114:ca},{22:Oa,24:Ia,26:Ja,38:Ka,39:168,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:170,42:Pa,46:da,49:[1,169],61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,
77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:171,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:172,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,
81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:173,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:174,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,
94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:175,42:Pa,46:da,59:[1,176],61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:177,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,
98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:178,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:179,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,
102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d(fb,[2,145]),d(Wb,[2,3]),{8:180,15:db},{15:[2,7]},d(l,[2,28]),d(Ub,[2,33]),d(Ba,[2,47],{30:181,22:Xa}),d(Za,[2,69],{22:[1,182]}),{22:[1,183]},{22:Oa,24:Ia,26:Ja,38:Ka,39:184,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,61:La,
69:Ma,70:[1,185],72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d(Ga,[2,76]),d(Ga,[2,78]),d(Ga,[2,134]),d(Ga,[2,135]),d(Ga,[2,136]),d(Ga,[2,137]),d(Ga,[2,138]),d(Ga,[2,139]),d(Ga,[2,140]),d(Ga,[2,141]),d(Ga,[2,142]),d(Ga,[2,143]),d(Ga,[2,79]),d(Ga,[2,80]),d(Ga,[2,81]),d(Ga,[2,82]),d(Ga,[2,83]),d(Ga,[2,84]),d(Ga,[2,85]),d(Ga,[2,86]),d(Ga,[2,87]),d(Ga,[2,88]),d(Ga,[2,89]),
{9:188,20:Ha,21:za,22:Oa,23:va,24:Ia,26:Ja,38:Ka,40:[1,187],42:Pa,46:da,61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{18:18,19:19,20:J,21:H,22:z,23:I,32:24,33:25,34:26,35:27,36:28,37:29,38:O,42:[1,189],44:31,45:37,46:N,48:38,75:L,76:F,77:G,78:U,79:R,80:W,94:T,95:ea,98:Q,99:P,100:S,102:ua,103:V,107:39,109:ba,110:la,111:Z,112:oa,113:Aa,114:ca},{22:Xa,30:190},
{22:[1,191],26:ya,46:da,80:ja,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,106:89,108:165,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:[1,192]},{22:[1,193]},{22:[1,194],95:[1,195]},d(Nb,[2,117]),{22:[1,196]},{22:[1,197],26:ya,46:da,80:ja,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,106:89,108:165,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:[1,198],26:ya,46:da,80:ja,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,106:89,108:165,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{73:[1,199]},d($a,[2,97],
{22:[1,200]}),{73:[1,201],90:[1,202]},{73:[1,203]},d(Gb,[2,147]),{73:[1,204],90:[1,205]},d(Lb,[2,53],{107:116,46:N,80:W,94:T,95:ea,98:Q,99:P,100:S,102:ua,103:V,109:ba,110:la,111:Z,112:oa,113:Aa,114:ca}),{22:Oa,24:Ia,26:Ja,38:Ka,41:[1,206],42:Pa,46:da,61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:207,42:Pa,46:da,61:La,69:Ma,72:127,
73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,50:[1,208],61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,52:[1,209],61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,
77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,54:[1,210],61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,56:[1,211],61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,
81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,58:[1,212],61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,60:[1,213],61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,
95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,39:214,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,41:[1,215],42:Pa,46:da,61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,
102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,61:La,63:[1,216],65:[1,217],69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,61:La,63:[1,219],65:[1,218],69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,
103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{9:220,20:Ha,21:za,23:va},d(Ba,[2,48],{46:Mb}),d(Za,[2,71]),d(Za,[2,70]),{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,61:La,69:Ma,71:[1,221],72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d(Za,[2,73]),d(Ga,[2,77]),{22:Oa,24:Ia,26:Ja,38:Ka,39:222,42:Pa,46:da,61:La,69:Ma,72:127,73:gb,74:138,75:Qa,76:Ca,77:Ea,
78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d(Qb,m,{17:223}),d(Da,[2,43]),{45:224,46:N,48:38,80:W,94:T,95:ea,98:Q,99:P,100:S,102:ua,103:V,107:39,109:ba,110:la,111:Z,112:oa,113:Aa,114:ca},{22:tb,75:qb,85:225,91:ub,94:vb,96:226,97:227,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb},{22:tb,75:qb,85:239,91:ub,94:vb,96:226,97:227,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb},{22:tb,75:qb,85:240,91:ub,
93:[1,241],94:vb,96:226,97:227,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb},{22:tb,75:qb,85:242,91:ub,93:[1,243],94:vb,96:226,97:227,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb},{94:[1,244]},{22:tb,75:qb,85:245,91:ub,94:vb,96:226,97:227,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb},{22:tb,75:qb,85:246,91:ub,94:vb,96:226,97:227,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb},{26:ya,46:da,80:ja,86:247,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,106:89,108:87,109:pa,110:ra,111:xa,112:ma,113:ha,
114:wa},d($a,[2,96]),{73:[1,248]},d($a,[2,100],{22:[1,249]}),d($a,[2,101]),d($a,[2,104]),d($a,[2,106],{22:[1,250]}),d($a,[2,107]),d(mb,[2,54]),{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,50:[1,251],61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d(mb,[2,60]),d(mb,[2,56]),d(mb,[2,57]),d(mb,[2,58]),d(mb,[2,59]),d(mb,[2,61]),{22:Oa,24:Ia,26:Ja,38:Ka,42:Pa,46:da,60:[1,
252],61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d(mb,[2,63]),d(mb,[2,64]),d(mb,[2,66]),d(mb,[2,65]),d(mb,[2,67]),d(Wb,[2,4]),d([22,46,80,94,95,98,99,100,102,103,109,110,111,112,113,114],[2,75]),{22:Oa,24:Ia,26:Ja,38:Ka,41:[1,253],42:Pa,46:da,61:La,69:Ma,72:186,74:138,75:Qa,76:Ca,77:Ea,78:Ra,79:Sa,80:Ta,81:Na,83:129,84:Ua,94:ia,95:na,98:fa,99:ta,100:Va,
102:sa,103:qa,104:Fa,105:Wa,106:135,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{18:18,19:19,20:J,21:H,22:z,23:I,32:24,33:25,34:26,35:27,36:28,37:29,38:O,42:[1,254],44:31,45:37,46:N,48:38,75:L,76:F,77:G,78:U,79:R,80:W,94:T,95:ea,98:Q,99:P,100:S,102:ua,103:V,107:39,109:ba,110:la,111:Z,112:oa,113:Aa,114:ca},d(Lb,[2,52]),d($a,[2,109],{95:yb}),d(Rb,[2,119],{97:256,22:tb,75:qb,91:ub,94:vb,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb}),d(rb,[2,121]),d(rb,[2,123]),d(rb,[2,124]),d(rb,[2,125]),d(rb,[2,126]),
d(rb,[2,127]),d(rb,[2,128]),d(rb,[2,129]),d(rb,[2,130]),d(rb,[2,131]),d(rb,[2,132]),d(rb,[2,133]),d($a,[2,110],{95:yb}),d($a,[2,111],{95:yb}),{22:[1,257]},d($a,[2,112],{95:yb}),{22:[1,258]},d(Nb,[2,118]),d($a,[2,92],{95:yb}),d($a,[2,93],{95:yb}),d($a,[2,94],{106:89,108:165,26:ya,46:da,80:ja,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa}),d($a,[2,98]),{90:[1,259]},{90:[1,260]},{50:[1,261]},{60:[1,262]},{9:263,20:Ha,21:za,23:va},d(Da,[2,42]),{22:tb,75:qb,91:ub,
94:vb,96:264,97:227,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb},d(rb,[2,122]),{26:ya,46:da,80:ja,86:265,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,106:89,108:87,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},{26:ya,46:da,80:ja,86:266,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,106:89,108:87,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa},d($a,[2,102]),d($a,[2,108]),d(mb,[2,55]),d(mb,[2,62]),d(Qb,m,{17:267}),d(Rb,[2,120],{97:256,22:tb,75:qb,91:ub,94:vb,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb}),
d($a,[2,115],{106:89,108:165,22:[1,268],26:ya,46:da,80:ja,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa}),d($a,[2,116],{106:89,108:165,22:[1,269],26:ya,46:da,80:ja,94:ia,95:na,98:fa,99:ta,100:ab,102:sa,103:qa,109:pa,110:ra,111:xa,112:ma,113:ha,114:wa}),{18:18,19:19,20:J,21:H,22:z,23:I,32:24,33:25,34:26,35:27,36:28,37:29,38:O,42:[1,270],44:31,45:37,46:N,48:38,75:L,76:F,77:G,78:U,79:R,80:W,94:T,95:ea,98:Q,99:P,100:S,102:ua,103:V,107:39,109:ba,110:la,111:Z,112:oa,
113:Aa,114:ca},{22:tb,75:qb,85:271,91:ub,94:vb,96:226,97:227,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb},{22:tb,75:qb,85:272,91:ub,94:vb,96:226,97:227,98:eb,99:kb,100:nb,101:ob,102:sb,103:wb,104:pb},d(Da,[2,41]),d($a,[2,113],{95:yb}),d($a,[2,114],{95:yb})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],119:[2,7]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=d,b;},parse:function(b){var d=[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,
1),q=Object.create(this.lexer),r={};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(r[t]=this.yy[t]);q.setInput(b,r);r.lexer=q;r.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var t=q.yylloc;g.push(t);var u=q.options&&q.options.ranges;this.parseError="function"===typeof r.parseError?r.parseError:Object.getPrototypeOf(this).parseError;for(var F,v,G,z={},L,w;;){v=d[d.length-1];if(this.defaultActions[v])G=this.defaultActions[v];else{if(null===F||"undefined"==typeof F)F=e.pop()||
q.lex()||1,"number"!==typeof F&&(F instanceof Array&&(e=F,F=e.pop()),F=this.symbols_[F]||F);G=h[v]&&h[v][F]}if("undefined"===typeof G||!G.length||!G[0]){w=[];for(L in h[v])this.terminals_[L]&&2<L&&w.push("'"+this.terminals_[L]+"'");var S=q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[F]||F)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==F?"end of input":"'"+(this.terminals_[F]||F)+"'");this.parseError(S,{text:q.match,
token:this.terminals_[F]||F,line:q.yylineno,loc:t,expected:w})}if(G[0]instanceof Array&&1<G.length)throw Error("Parse Error: multiple actions possible at state: "+v+", token: "+F);switch(G[0]){case 1:d.push(F);f.push(q.yytext);g.push(q.yylloc);d.push(G[1]);F=null;n=q.yyleng;l=q.yytext;m=q.yylineno;t=q.yylloc;break;case 2:w=this.productions_[G[1]][1];z.$=f[f.length-w];z._$={first_line:g[g.length-(w||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(w||1)].first_column,last_column:g[g.length-
1].last_column};u&&(z._$.range=[g[g.length-(w||1)].range[0],g[g.length-1].range[1]]);v=this.performAction.apply(z,[l,n,m,r,G[1],f,g].concat(p));if("undefined"!==typeof v)return v;w&&(d=d.slice(0,-2*w),f=f.slice(0,-1*w),g=g.slice(0,-1*w));d.push(this.productions_[G[1]][0]);f.push(z.$);g.push(z._$);G=h[d[d.length-2]][d[d.length-1]];d.push(G);break;case 3:return!0}}}},lb=function(){return{EOF:1,parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,d);else throw Error(b);},setInput:function(b,
d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):
this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,
last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-e[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");
return b+this.upcomingInput()+"\n"+d+"^"},test_match:function(b,d){var e;if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};
this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=e.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);
this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&
(!f||b[0].length>f[0].length)){var f=b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==f)return f;if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?(f=this.test_match(f,d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},
popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},
options:{},performAction:function(b,d,e,f){switch(e){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 7:this.begin("string");break;case 8:this.popState();break;case 9:return"STR";case 10:return 75;case 11:return 84;case 12:return 76;case 13:return 93;case 14:return 77;case 15:return 78;case 16:this.begin("href");break;case 17:this.popState();
break;case 18:return 89;case 19:this.begin("callbackname");break;case 20:this.popState();break;case 21:this.popState();this.begin("callbackargs");break;case 22:return 87;case 23:this.popState();break;case 24:return 88;case 25:this.begin("click");break;case 26:this.popState();break;case 27:return 79;case 28:return b.lex.firstGraph()&&this.begin("dir"),24;case 29:return b.lex.firstGraph()&&this.begin("dir"),24;case 30:return 38;case 31:return 42;case 32:return 90;case 33:return 90;case 34:return 90;
case 35:return 90;case 36:return this.popState(),25;case 37:return this.popState(),26;case 38:return this.popState(),26;case 39:return this.popState(),26;case 40:return this.popState(),26;case 41:return this.popState(),26;case 42:return this.popState(),26;case 43:return this.popState(),26;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return 94;case 48:return 102;case 49:return 47;case 50:return 99;case 51:return 46;case 52:return 20;
case 53:return 95;case 54:return 113;case 55:return 70;case 56:return 70;case 57:return 70;case 58:return 69;case 59:return 69;case 60:return 69;case 61:return 51;case 62:return 52;case 63:return 53;case 64:return 54;case 65:return 55;case 66:return 56;case 67:return 57;case 68:return 58;case 69:return 100;case 70:return 103;case 71:return 114;case 72:return 111;case 73:return 104;case 74:return 112;case 75:return 112;case 76:return 105;case 77:return 61;case 78:return 81;case 79:return"SEP";case 80:return 80;
case 81:return 98;case 82:return 63;case 83:return 62;case 84:return 65;case 85:return 64;case 86:return 109;case 87:return 110;case 88:return 71;case 89:return 49;case 90:return 50;case 91:return 40;case 92:return 41;case 93:return 59;case 94:return 60;case 95:return 120;case 96:return 21;case 97:return 22;case 98:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,
/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,
/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\()/,/^(?:\)\])/,/^(?:-)/,/^(?:\.)/,/^(?:[_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,
/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,
/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[23,24],inclusive:!1},callbackname:{rules:[20,21,22],inclusive:!1},href:{rules:[17,18],inclusive:!1},click:{rules:[26,27],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[36,37,38,39,
40,41,42,43,44,45,46],inclusive:!1},string:{rules:[8,9],inclusive:!1},INITIAL:{rules:[0,5,6,7,10,11,12,13,14,15,16,19,25,28,29,30,31,32,33,34,35,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98],inclusive:!0}}}}();Db.lexer=lb;b.prototype=Db;Db.Parser=b;return new b}();d.parser=f;d.Parser=f.Parser;d.parse=function(){return f.parse.apply(f,arguments)};d.main=function(e){e[1]||(console.log("Usage: "+
e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),g("./node_modules/webpack/buildin/module.js")(b))},"./src/diagrams/flowchart/styles.js":function(b,d,g){g.r(d);d["default"]=function(b){return".label {\n    font-family: ".concat(b.fontFamily,";\n    color: ").concat(b.nodeTextColor||
b.textColor,";\n  }\n  .cluster-label text {\n    fill: ").concat(b.titleColor,";\n  }\n  .cluster-label span {\n    color: ").concat(b.titleColor,";\n  }\n\n  .label text,span {\n    fill: ").concat(b.nodeTextColor||b.textColor,";\n    color: ").concat(b.nodeTextColor||b.textColor,";\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(b.mainBkg,";\n    stroke: ").concat(b.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(b.arrowheadColor,
";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(b.lineColor,";\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(b.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(b.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n      background-color: ").concat(b.edgeLabelBackground,";\n      fill: ").concat(b.edgeLabelBackground,";\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ").concat(b.clusterBkg,";\n    stroke: ").concat(b.clusterBorder,
";\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ").concat(b.titleColor,";\n  }\n\n  .cluster span {\n    color: ").concat(b.titleColor,";\n  }\n  // .cluster div {\n  //   color: ").concat(b.titleColor,";\n  // }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ").concat(b.fontFamily,";\n    font-size: 12px;\n    background: ").concat(b.tertiaryColor,";\n    border: 1px solid ").concat(b.border2,
";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n")}},"./src/diagrams/gantt/ganttDb.js":function(b,d,g){function e(b){if(Array.isArray(b)){var d=0;for(var e=Array(b.length);d<b.length;d++)e[d]=b[d];d=e}else d=void 0;d||(d=Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=d))throw new TypeError("Invalid attempt to spread non-iterable instance");return b}function f(b,d,e){for(var f=!0;f;)f=!1,e.forEach(function(e){b[0].match(new RegExp("^\\s*"+
e+"\\s*$"))&&(d[e]=!0,b.shift(1),f=!0)})}g.r(d);g.d(d,"parseDirective",function(){return U});g.d(d,"clear",function(){return R});g.d(d,"setAxisFormat",function(){return W});g.d(d,"getAxisFormat",function(){return T});g.d(d,"setTodayMarker",function(){return ea});g.d(d,"getTodayMarker",function(){return Q});g.d(d,"setDateFormat",function(){return P});g.d(d,"enableInclusiveEndDates",function(){return S});g.d(d,"endDatesAreInclusive",function(){return ua});g.d(d,"getDateFormat",function(){return V});
g.d(d,"setExcludes",function(){return ba});g.d(d,"getExcludes",function(){return la});g.d(d,"setTitle",function(){return Z});g.d(d,"getTitle",function(){return oa});g.d(d,"addSection",function(){return Aa});g.d(d,"getSections",function(){return ca});g.d(d,"getTasks",function(){return db});g.d(d,"addTask",function(){return na});g.d(d,"findTaskById",function(){return fa});g.d(d,"addTaskOrg",function(){return ta});g.d(d,"setLink",function(){return sa});g.d(d,"setClass",function(){return qa});g.d(d,"setClickEvent",
function(){return xa});g.d(d,"bindFunctions",function(){return ma});b=g("moment-mini");var m=g.n(b),p=g("@braintree/sanitize-url"),n=g("./src/logger.js"),q=g("./src/config.js"),r=g("./src/utils.js"),t=g("./src/mermaidAPI.js"),v="",u="",w="",J=[],H="",z=[],I=[],O="",N=["active","done","crit","milestone"],L=[],F=!1,G=0,U=function(b,d,e){t["default"].parseDirective(this,b,d,e)},R=function(){z=[];I=[];O="";L=[];H="";va=0;da=ya=void 0;ja=[];w=u=v="";J=[];F=!1;G=0},W=function(b){u=b},T=function(){return u},
ea=function(b){w=b},Q=function(){return w},P=function(b){v=b},S=function(){F=!0},ua=function(){return F},V=function(){return v},ba=function(b){J=b.toLowerCase().split(/[\s,]+/)},la=function(){return J},Z=function(b){H=b},oa=function(){return H},Aa=function(b){O=b;z.push(b)},ca=function(){return z},db=function(){for(var b=ab(),d=0;!b&&10>d;)b=ab(),d++;return I=ja},Xa=function(b,d,e){if(e.length&&!b.manualEndTime){var f=m()(b.startTime,d,!0);f.add(1,"d");for(var g=m()(b.endTime,d,!0),h=!1,l=null;f<=
g;){h||(l=g.toDate());h=f;var n=d,p=e;(h=6<=h.isoWeekday()&&0<=p.indexOf("weekends")||0<=p.indexOf(h.format("dddd").toLowerCase())?!0:0<=p.indexOf(h.format(n.trim())))&&g.add(1,"d");f.add(1,"d")}d=l;b.endTime=g.toDate();b.renderEndTime=d}},Da=function(b,d,e){e=e.trim();b=/^after\s+([\d\w- ]+)/.exec(e.trim());if(null!==b){var f=null;b[1].split(" ").forEach(function(b){b=fa(b);"undefined"!==typeof b&&(f?b.endTime>f.endTime&&(f=b):f=b)});if(f)return f.endTime;d=new Date;d.setHours(0,0,0,0);return d}b=
m()(e,d.trim(),!0);if(b.isValid())return b.toDate();n.log.debug("Invalid date:"+e);n.log.debug("With date format:"+d.trim());return new Date},Ha=function(b,d){if(null!==b)switch(b[2]){case "s":d.add(b[1],"seconds");break;case "m":d.add(b[1],"minutes");break;case "h":d.add(b[1],"hours");break;case "d":d.add(b[1],"days");break;case "w":d.add(b[1],"weeks")}return d.toDate()},za=function(b,d,e,f){f=f||!1;e=e.trim();d=m()(e,d.trim(),!0);return d.isValid()?(f&&d.add(1,"d"),d.toDate()):Ha(/^([\d]+)([wdhms])/.exec(e.trim()),
m()(b))},va=0,Ba=function(b){return"undefined"===typeof b?(va+=1,"task"+va):b},ya,da,ja=[],ia={},na=function(b,d){b={section:O,type:O,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:d},task:b,classes:[]};var e=da;d=(":"===d.substr(0,1)?d.substr(1,d.length):d).split(",");var g={};f(d,g,N);for(var h=0;h<d.length;h++)d[h]=d[h].trim();switch(d.length){case 1:g.id=Ba();g.startTime={type:"prevTaskEnd",id:e};g.endTime={data:d[0]};break;case 2:g.id=Ba();g.startTime={type:"getStartDate",startData:d[0]};
g.endTime={data:d[1]};break;case 3:g.id=Ba(d[0]),g.startTime={type:"getStartDate",startData:d[1]},g.endTime={data:d[2]}}b.raw.startTime=g.startTime;b.raw.endTime=g.endTime;b.id=g.id;b.prevTaskId=da;b.active=g.active;b.done=g.done;b.crit=g.crit;b.milestone=g.milestone;b.order=G;G++;e=ja.push(b);da=b.id;ia[b.id]=e-1},fa=function(b){return ja[ia[b]]},ta=function(b,d){b={section:O,type:O,description:b,task:b,classes:[]};var e=ya;d=(":"===d.substr(0,1)?d.substr(1,d.length):d).split(",");var g={};f(d,g,
N);for(var h=0;h<d.length;h++)d[h]=d[h].trim();h="";switch(d.length){case 1:g.id=Ba();g.startTime=e.endTime;h=d[0];break;case 2:g.id=Ba();g.startTime=Da(void 0,v,d[0]);h=d[1];break;case 3:g.id=Ba(d[0]),g.startTime=Da(void 0,v,d[1]),h=d[2]}h&&(g.endTime=za(g.startTime,v,h,F),g.manualEndTime=m()(h,"YYYY-MM-DD",!0).isValid(),Xa(g,v,J));b.startTime=g.startTime;b.endTime=g.endTime;b.id=g.id;b.active=g.active;b.done=g.done;b.crit=g.crit;b.milestone=g.milestone;ya=b;I.push(b)},ab=function(){for(var b=!0,
d=0;d<ja.length;d++){var e=d,f=ja[e];switch(ja[e].raw.startTime.type){case "prevTaskEnd":var g=fa(f.prevTaskId);f.startTime=g.endTime;break;case "getStartDate":if(f=Da(void 0,v,ja[e].raw.startTime.startData))ja[e].startTime=f}ja[e].startTime&&(ja[e].endTime=za(ja[e].startTime,v,ja[e].raw.endTime.data,F),ja[e].endTime&&(ja[e].processed=!0,ja[e].manualEndTime=m()(ja[e].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Xa(ja[e],v,J)));b=b&&ja[d].processed}return b},sa=function(b,d){var e=d;"loose"!==q.getConfig().securityLevel&&
(e=Object(p.sanitizeUrl)(d));b.split(",").forEach(function(b){"undefined"!==typeof fa(b)&&ra(b,function(){window.open(e,"_self")})});qa(b,"clickable")},qa=function(b,d){b.split(",").forEach(function(b){b=fa(b);"undefined"!==typeof b&&b.classes.push(d)})},pa=function(b,d,f){if("loose"===q.getConfig().securityLevel&&"undefined"!==typeof d){var g=[];if("string"===typeof f)for(g=f.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/),f=0;f<g.length;f++){var h=g[f].trim();'"'===h.charAt(0)&&'"'===h.charAt(h.length-1)&&
(h=h.substr(1,h.length-2));g[f]=h}0===g.length&&g.push(b);"undefined"!==typeof fa(b)&&ra(b,function(){r["default"].runFunc.apply(r["default"],[d].concat(e(g)))})}},ra=function(b,d){L.push(function(){var e=document.querySelector('[id="'.concat(b,'"]'));null!==e&&e.addEventListener("click",function(){d()})});L.push(function(){var e=document.querySelector('[id="'.concat(b,'-text"]'));null!==e&&e.addEventListener("click",function(){d()})})},xa=function(b,d,e){b.split(",").forEach(function(b){pa(b,d,e)});
qa(b,"clickable")},ma=function(b){L.forEach(function(d){d(b)})};d["default"]={parseDirective:U,getConfig:function(){return q.getConfig().gantt},clear:R,setDateFormat:P,getDateFormat:V,enableInclusiveEndDates:S,endDatesAreInclusive:ua,setAxisFormat:W,getAxisFormat:T,setTodayMarker:ea,getTodayMarker:Q,setTitle:Z,getTitle:oa,addSection:Aa,getSections:ca,getTasks:db,addTask:na,findTaskById:fa,addTaskOrg:ta,setExcludes:ba,getExcludes:la,setClickEvent:xa,setLink:sa,bindFunctions:ma,durationToDate:Ha}},
"./src/diagrams/gantt/ganttRenderer.js":function(b,d,g){g.r(d);g.d(d,"setConf",function(){return r});g.d(d,"draw",function(){return v});var e=g("d3"),f=g("./src/diagrams/gantt/parser/gantt.jison"),m=g("./src/diagrams/common/common.js"),p=g("./src/diagrams/gantt/ganttDb.js"),n=g("./src/utils.js");f.parser.yy=p["default"];var q={titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,fontFamily:'"Open-Sans", "sans-serif"'},r=function(b){Object.keys(b).forEach(function(d){q[d]=
b[d]})},t,v=function(b,d){function g(b,d,e,f,g,h,l){v.append("g").selectAll("rect").data(b).enter().append("rect").attr("x",0).attr("y",function(b,f){f=b.order;return f*d+e-2}).attr("width",function(){return l-q.rightPadding/2}).attr("height",d).attr("class",function(b){for(var d=0;d<F.length;d++)if(b.type===F[d])return"section section"+d%q.numberSectionStyles;return"section section0"});b=v.append("g").selectAll("rect").data(b).enter();b.append("rect").attr("id",function(b){return b.id}).attr("rx",
3).attr("ry",3).attr("x",function(b){return b.milestone?L(b.startTime)+f+.5*(L(b.endTime)-L(b.startTime))-.5*g:L(b.startTime)+f}).attr("y",function(b,f){f=b.order;return f*d+e}).attr("width",function(b){return b.milestone?g:L(b.renderEndTime||b.endTime)-L(b.startTime)}).attr("height",g).attr("transform-origin",function(b,h){return(L(b.startTime)+f+.5*(L(b.endTime)-L(b.startTime))).toString()+"px "+(h*d+e+.5*g).toString()+"px"}).attr("class",function(b){var d="";0<b.classes.length&&(d=b.classes.join(" "));
for(var e=0,f=0;f<F.length;f++)b.type===F[f]&&(e=f%q.numberSectionStyles);f="";b.active?f=b.crit?f+" activeCrit":" active":b.done?f=b.crit?" doneCrit":" done":b.crit&&(f+=" crit");0===f.length&&(f=" task");b.milestone&&(f=" milestone "+f);return"task"+(f+e+(" "+d))});b.append("text").attr("id",function(b){return b.id+"-text"}).text(function(b){return b.task}).attr("font-size",q.fontSize).attr("x",function(b){var d=L(b.startTime),e=L(b.renderEndTime||b.endTime);b.milestone&&(d+=.5*(L(b.endTime)-L(b.startTime))-
.5*g);b.milestone&&(e=d+g);b=this.getBBox().width;return b>e-d?e+b+1.5*q.leftPadding>l?d+f-5:e+f+5:(e-d)/2+d+f}).attr("y",function(b,f){f=b.order;return f*d+q.barHeight/2+(q.fontSize/2-2)+e}).attr("text-height",g).attr("class",function(b){var d=L(b.startTime),e=L(b.endTime);b.milestone&&(e=d+g);var f=this.getBBox().width,h="";0<b.classes.length&&(h=b.classes.join(" "));for(var m=0,n=0;n<F.length;n++)b.type===F[n]&&(m=n%q.numberSectionStyles);n="";b.active&&(n=b.crit?"activeCritText"+m:"activeText"+
m);b.done?n=b.crit?n+" doneCritText"+m:n+" doneText"+m:b.crit&&(n=n+" critText"+m);b.milestone&&(n+=" milestoneText");return f>e-d?e+f+1.5*q.leftPadding>l?h+" taskTextOutsideLeft taskTextOutside"+m+" "+n:h+" taskTextOutsideRight taskTextOutside"+m+" "+n+" width-"+f:h+" taskText taskText"+m+" "+n+" width-"+f})}function h(b,d){for(var e=[],f=0,g=0;g<F.length;g++)e[g]=[F[g],l(F[g],G)];v.append("g").selectAll("text").data(e).enter().append(function(b){b=b[0].split(m["default"].lineBreakRegex);var d=-(b.length-
1)/2,e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("dy",d+"em");for(d=0;d<b.length;d++){var f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttribute("alignment-baseline","central");f.setAttribute("x","10");0<d&&f.setAttribute("dy","1em");f.textContent=b[d];e.appendChild(f)}return e}).attr("x",10).attr("y",function(g,h){if(0<h)for(;0<h;)return f+=e[h-1][1],g[1]*b/2+f*b+d;else return g[1]*b/2+d}).attr("class",function(b){for(var d=0;d<F.length;d++)if(b[0]===
F[d])return"sectionTitle sectionTitle"+d%q.numberSectionStyles;return"sectionTitle"})}function l(b,d){for(var e=d.length,f={};e;)f[d[--e]]=(f[d[e]]||0)+1;return f[b]||0}f.parser.yy.clear();f.parser.parse(b);var r=document.getElementById(d);t=r.parentElement.offsetWidth;"undefined"===typeof t&&(t=1200);"undefined"!==typeof q.useWidth&&(t=q.useWidth);b=f.parser.yy.getTasks();var u=b.length*(q.barHeight+q.barGap)+2*q.topPadding;r.setAttribute("viewBox","0 0 "+t+" "+u);var v=Object(e.select)('[id="'.concat(d,
'"]')),L=Object(e.scaleTime)().domain([Object(e.min)(b,function(b){return b.startTime}),Object(e.max)(b,function(b){return b.endTime})]).rangeRound([0,t-q.leftPadding-q.rightPadding]),F=[];for(d=0;d<b.length;d++)F.push(b[d].type);var G=F;F=function(b){for(var d={},e=[],f=0,g=b.length;f<g;++f)d.hasOwnProperty(b[f])||(d[b[f]]=!0,e.push(b[f]));return e}(F);b.sort(function(b,d){b=b.startTime;d=d.startTime;var e=0;b>d?e=1:b<d&&(e=-1);return e});(function(b,d,l){var m=q.barHeight,n=m+q.barGap,r=q.topPadding,
t=q.leftPadding,u=Object(e.scaleLinear)().domain([0,F.length]).range(["#00B9FA","#F95002"]).interpolate(e.interpolateHcl),G=Object(e.axisBottom)(L).tickSize(-l+r+q.gridLineStartPadding).tickFormat(Object(e.timeFormat)(f.parser.yy.getAxisFormat()||q.axisFormat||"%Y-%m-%d"));v.append("g").attr("class","grid").attr("transform","translate("+t+", "+(l-50)+")").call(G).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em");g(b,n,r,
t,m,u,d);h(n,r);b=p["default"].getTodayMarker();"off"!==b&&(m=v.append("g").attr("class","today"),d=new Date,m=m.append("line"),m.attr("x1",L(d)+t).attr("x2",L(d)+t).attr("y1",q.titleTopMargin).attr("y2",l-q.titleTopMargin).attr("class","today"),""!==b&&m.attr("style",b.replace(/,/g,";")))})(b,t,u);Object(n.configureSvgSize)(v,u,t,q.useMaxWidth);v.append("text").text(f.parser.yy.getTitle()).attr("x",t/2).attr("y",q.titleTopMargin).attr("class","titleText")};d["default"]={setConf:r,draw:v}},"./src/diagrams/gantt/parser/gantt.jison":function(b,
d,g){(function(b,e){var f=function(){function b(){this.yy={}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},e=[1,3],f=[1,5],g=[7,9,11,12,13,14,15,16,17,18,20,27,32],h=[1,15],l=[1,16],m=[1,17],J=[1,18],H=[1,19],z=[1,20],I=[1,21],O=[1,23],N=[1,25],L=[1,28],F=[5,7,9,11,12,13,14,15,16,17,18,20,27,32];d={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,axisFormat:14,excludes:15,
todayMarker:16,title:17,section:18,clickStatement:19,taskTxt:20,taskData:21,openDirective:22,typeDirective:23,closeDirective:24,":":25,argDirective:26,click:27,callbackname:28,callbackargs:29,href:30,clickStatementDebug:31,open_directive:32,type_directive:33,arg_directive:34,close_directive:35,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"axisFormat",15:"excludes",16:"todayMarker",17:"title",18:"section",20:"taskTxt",21:"taskData",
25:":",27:"click",28:"callbackname",29:"callbackargs",30:"href",32:"open_directive",33:"type_directive",34:"arg_directive",35:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[19,2],[19,3],[19,3],[19,4],[19,3],[19,4],[19,2],[31,2],[31,3],[31,3],[31,4],[31,3],[31,4],[31,2],[22,1],[23,1],[26,1],[24,1]],performAction:function(b,d,e,f,g,h,l){b=h.length-1;switch(g){case 2:return h[b-1];case 3:this.$=
[];break;case 4:h[b-1].push(h[b]);this.$=h[b-1];break;case 5:case 6:this.$=h[b];break;case 7:case 8:this.$=[];break;case 9:f.setDateFormat(h[b].substr(11));this.$=h[b].substr(11);break;case 10:f.enableInclusiveEndDates();this.$=h[b].substr(18);break;case 11:f.setAxisFormat(h[b].substr(11));this.$=h[b].substr(11);break;case 12:f.setExcludes(h[b].substr(9));this.$=h[b].substr(9);break;case 13:f.setTodayMarker(h[b].substr(12));this.$=h[b].substr(12);break;case 14:f.setTitle(h[b].substr(6));this.$=h[b].substr(6);
break;case 15:f.addSection(h[b].substr(8));this.$=h[b].substr(8);break;case 17:f.addTask(h[b-1],h[b]);this.$="task";break;case 21:this.$=h[b-1];f.setClickEvent(h[b-1],h[b],null);break;case 22:this.$=h[b-2];f.setClickEvent(h[b-2],h[b-1],h[b]);break;case 23:this.$=h[b-2];f.setClickEvent(h[b-2],h[b-1],null);f.setLink(h[b-2],h[b]);break;case 24:this.$=h[b-3];f.setClickEvent(h[b-3],h[b-2],h[b-1]);f.setLink(h[b-3],h[b]);break;case 25:this.$=h[b-2];f.setClickEvent(h[b-2],h[b],null);f.setLink(h[b-2],h[b-
1]);break;case 26:this.$=h[b-3];f.setClickEvent(h[b-3],h[b-1],h[b]);f.setLink(h[b-3],h[b-2]);break;case 27:this.$=h[b-1];f.setLink(h[b-1],h[b]);break;case 28:case 34:this.$=h[b-1]+" "+h[b];break;case 29:case 30:case 32:this.$=h[b-2]+" "+h[b-1]+" "+h[b];break;case 31:case 33:this.$=h[b-3]+" "+h[b-2]+" "+h[b-1]+" "+h[b];break;case 35:f.parseDirective("%%{","open_directive");break;case 36:f.parseDirective(h[b],"type_directive");break;case 37:h[b]=h[b].trim().replace(/'/g,'"');f.parseDirective(h[b],"arg_directive");
break;case 38:f.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:e,22:4,32:f},{1:[3]},{3:6,4:2,5:e,22:4,32:f},d(g,[2,3],{6:7}),{23:8,33:[1,9]},{33:[2,35]},{1:[2,1]},{4:24,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:h,13:l,14:m,15:J,16:H,17:z,18:I,19:22,20:O,22:4,27:N,32:f},{24:26,25:[1,27],35:L},d([25,35],[2,36]),d(g,[2,8],{1:[2,2]}),d(g,[2,4]),{4:24,10:29,12:h,13:l,14:m,15:J,16:H,17:z,18:I,19:22,20:O,22:4,27:N,32:f},d(g,[2,6]),d(g,[2,7]),d(g,[2,9]),d(g,[2,10]),d(g,[2,11]),d(g,[2,
12]),d(g,[2,13]),d(g,[2,14]),d(g,[2,15]),d(g,[2,16]),{21:[1,30]},d(g,[2,18]),{28:[1,31],30:[1,32]},{11:[1,33]},{26:34,34:[1,35]},{11:[2,38]},d(g,[2,5]),d(g,[2,17]),d(g,[2,21],{29:[1,36],30:[1,37]}),d(g,[2,27],{28:[1,38]}),d(F,[2,19]),{24:39,35:L},{35:[2,37]},d(g,[2,22],{30:[1,40]}),d(g,[2,23]),d(g,[2,25],{29:[1,41]}),{11:[1,42]},d(g,[2,24]),d(g,[2,26]),d(F,[2,20])],defaultActions:{5:[2,35],6:[2,1],28:[2,38],35:[2,37]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=
d,b;},parse:function(b){var d=[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,1),q=Object.create(this.lexer),r={};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(r[t]=this.yy[t]);q.setInput(b,r);r.lexer=q;r.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var t=q.yylloc;g.push(t);var u=q.options&&q.options.ranges;this.parseError="function"===typeof r.parseError?r.parseError:Object.getPrototypeOf(this).parseError;for(var F,v,G,z={},L,w;;){v=d[d.length-
1];if(this.defaultActions[v])G=this.defaultActions[v];else{if(null===F||"undefined"==typeof F)F=e.pop()||q.lex()||1,"number"!==typeof F&&(F instanceof Array&&(e=F,F=e.pop()),F=this.symbols_[F]||F);G=h[v]&&h[v][F]}if("undefined"===typeof G||!G.length||!G[0]){w=[];for(L in h[v])this.terminals_[L]&&2<L&&w.push("'"+this.terminals_[L]+"'");var I=q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[F]||F)+"'":"Parse error on line "+(m+
1)+": Unexpected "+(1==F?"end of input":"'"+(this.terminals_[F]||F)+"'");this.parseError(I,{text:q.match,token:this.terminals_[F]||F,line:q.yylineno,loc:t,expected:w})}if(G[0]instanceof Array&&1<G.length)throw Error("Parse Error: multiple actions possible at state: "+v+", token: "+F);switch(G[0]){case 1:d.push(F);f.push(q.yytext);g.push(q.yylloc);d.push(G[1]);F=null;n=q.yyleng;l=q.yytext;m=q.yylineno;t=q.yylloc;break;case 2:w=this.productions_[G[1]][1];z.$=f[f.length-w];z._$={first_line:g[g.length-
(w||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(w||1)].first_column,last_column:g[g.length-1].last_column};u&&(z._$.range=[g[g.length-(w||1)].range[0],g[g.length-1].range[1]]);v=this.performAction.apply(z,[l,n,m,r,G[1],f,g].concat(p));if("undefined"!==typeof v)return v;w&&(d=d.slice(0,-2*w),f=f.slice(0,-1*w),g=g.slice(0,-1*w));d.push(this.productions_[G[1]][0]);f.push(z.$);g.push(z._$);G=h[d[d.length-2]][d[d.length-1]];d.push(G);break;case 3:return!0}}}};e=function(){return{EOF:1,
parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,d);else throw Error(b);},setInput:function(b,d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;
this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,
this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-e[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=
!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=
this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+d+"^"},test_match:function(b,d){var e;if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,
match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=e.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:
this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;
this._input||(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!f||b[0].length>f[0].length)){var f=b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==f)return f;if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?(f=this.test_match(f,d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=
this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,d,e,f){switch(e){case 0:return this.begin("open_directive"),32;case 1:return this.begin("type_directive"),33;case 2:return this.popState(),this.begin("arg_directive"),25;case 3:return this.popState(),this.popState(),35;case 4:return 34;case 8:return 11;case 12:this.begin("href");
break;case 13:this.popState();break;case 14:return 30;case 15:this.begin("callbackname");break;case 16:this.popState();break;case 17:this.popState();this.begin("callbackargs");break;case 18:return 28;case 19:this.popState();break;case 20:return 29;case 21:this.begin("click");break;case 22:this.popState();break;case 23:return 27;case 24:return 5;case 25:return 12;case 26:return 13;case 27:return 14;case 28:return 15;case 29:return 16;case 30:return"date";case 31:return 17;case 32:return 18;case 33:return 20;
case 34:return 21;case 35:return 25;case 36:return 7;case 37:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,
/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[19,20],inclusive:!1},
callbackname:{rules:[16,17,18],inclusive:!1},href:{rules:[13,14],inclusive:!1},click:{rules:[22,23],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,15,21,24,25,26,27,28,29,30,31,32,33,34,35,36,37],inclusive:!0}}}}();d.lexer=e;b.prototype=d;d.Parser=b;return new b}();d.parser=f;d.Parser=f.Parser;d.parse=function(){return f.parse.apply(f,arguments)};d.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),
"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),g("./node_modules/webpack/buildin/module.js")(b))},"./src/diagrams/gantt/styles.js":function(b,d,g){g.r(d);d["default"]=function(b){return'\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: '.concat(b.sectionBkgColor,
";\n  }\n\n  .section2 {\n    fill: ").concat(b.sectionBkgColor2,";\n  }\n\n  .section1,\n  .section3 {\n    fill: ").concat(b.altSectionBkgColor,";\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ").concat(b.titleColor,";\n  }\n\n  .sectionTitle1 {\n    fill: ").concat(b.titleColor,";\n  }\n\n  .sectionTitle2 {\n    fill: ").concat(b.titleColor,";\n  }\n\n  .sectionTitle3 {\n    fill: ").concat(b.titleColor,";\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    font-size: 11px;\n    text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ").concat(b.gridColor,
";\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ").concat(b.fontFamily,";\n      fill: ").concat(b.textColor,";\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ").concat(b.todayLineColor,";\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  .taskText:not([font-size]) {\n    font-size: 11px;\n  }\n\n  .taskTextOutsideRight {\n    fill: ").concat(b.taskTextDarkColor,
";\n    text-anchor: start;\n    font-size: 11px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ").concat(b.taskTextDarkColor,";\n    text-anchor: end;\n    font-size: 11px;\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ").concat(b.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ").concat(b.taskTextClickableColor,
" !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ").concat(b.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ").concat(b.taskTextColor,";\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ").concat(b.taskBkgColor,";\n    stroke: ").concat(b.taskBorderColor,";\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ").concat(b.taskTextOutsideColor,
";\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ").concat(b.taskTextOutsideColor,";\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ").concat(b.activeTaskBkgColor,";\n    stroke: ").concat(b.activeTaskBorderColor,";\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ").concat(b.taskTextDarkColor," !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ").concat(b.doneTaskBorderColor,
";\n    fill: ").concat(b.doneTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ").concat(b.taskTextDarkColor," !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ").concat(b.critBorderColor,";\n    fill: ").concat(b.critBkgColor,";\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ").concat(b.critBorderColor,
";\n    fill: ").concat(b.activeTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ").concat(b.critBorderColor,";\n    fill: ").concat(b.doneTaskBkgColor,";\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ").concat(b.taskTextDarkColor,
" !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ").concat(b.taskTextDarkColor," !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ").concat(b.textColor,"    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n")}},"./src/diagrams/git/gitGraphAst.js":function(b,d,g){function e(b,d){for(n.log.debug("Entering isfastforwardable:",
b.id,d.id);b.seq<=d.seq&&b!==d&&null!=d.parent;){if(Array.isArray(d.parent))return n.log.debug("In merge commit:",d.parent),e(b,r[d.parent[0]])||e(b,r[d.parent[1]]);d=r[d.parent]}n.log.debug(b.id,d.id);return b.id===d.id}function f(b,d){var e=Object.create(null);return b.reduce(function(b,f){var g=d(f);e[g]||(e[g]=!0,b.push(f));return b},[])}function m(b,d,e){d=b.indexOf(d);-1===d?b.push(e):b.splice(d,1,e)}function p(b){var d=b.reduce(function(b,d){return b.seq>d.seq?b:d},b[0]),e="";b.forEach(function(b){e=
b===d?e+"\t*":e+"\t|"});var g=[e,d.id,d.seq],h;for(h in v)v[h]===d.id&&g.push(h);n.log.debug(g.join(" "));if(Array.isArray(d.parent))m(b,d,r[d.parent[0]]),b.push(r[d.parent[1]]);else{if(null==d.parent)return;m(b,d,r[d.parent])}b=f(b,function(b){return b.id});p(b)}g.r(d);g.d(d,"setDirection",function(){return H});g.d(d,"setOptions",function(){return I});g.d(d,"getOptions",function(){return O});g.d(d,"commit",function(){return N});g.d(d,"branch",function(){return L});g.d(d,"merge",function(){return F});
g.d(d,"checkout",function(){return G});g.d(d,"reset",function(){return U});g.d(d,"prettyPrint",function(){return R});g.d(d,"clear",function(){return W});g.d(d,"getBranchesAsObjArray",function(){return T});g.d(d,"getBranches",function(){return ea});g.d(d,"getCommits",function(){return Q});g.d(d,"getCommitsArray",function(){return P});g.d(d,"getCurrentBranch",function(){return S});g.d(d,"getDirection",function(){return ua});g.d(d,"getHead",function(){return V});var n=g("./src/logger.js"),q=g("./src/utils.js"),
r={},t=null,v={master:t},u="master",w="LR",J=0,H=function(b){w=b},z={},I=function(b){n.log.debug("options str",b);b=b&&b.trim();try{z=JSON.parse(b||"{}")}catch(la){n.log.error("error while parsing gitGraph options",la.message)}},O=function(){return z},N=function(b){t=b={id:Object(q.random)({length:7}),message:b,seq:J++,parent:null==t?null:t.id};r[b.id]=b;v[u]=b.id;n.log.debug("in pushCommit "+b.id)},L=function(b){v[b]=null!=t?t.id:null;n.log.debug("in createBranch")},F=function(b){var d=r[v[u]],f=
r[v[b]];var g=d.seq>f.seq?e(f,d):!1;g?n.log.debug("Already merged"):(e(d,f)?(v[u]=v[b],t=r[v[u]]):(t=b={id:Object(q.random)({length:7}),message:"merged branch "+b+" into "+u,seq:J++,parent:[null==t?null:t.id,v[b]]},r[b.id]=b,v[u]=b.id),n.log.debug(v),n.log.debug("in mergeBranch"))},G=function(b){n.log.debug("in checkout");u=b;t=r[v[u]]},U=function(b){n.log.debug("in reset",b);var d=b.split(":")[0];b=parseInt(b.split(":")[1]);d="HEAD"===d?t:r[v[d]];for(n.log.debug(d,b);0<b;)if(d=r[d.parent],b--,!d)throw n.log.error("Critical error - unique parent commit not found during reset"),
"Critical error - unique parent commit not found during reset";t=d;v[u]=d.id},R=function(){n.log.debug(r);var b=P()[0];p([b])},W=function(){r={};t=null;v={master:t};u="master";J=0},T=function(){var b=[],d;for(d in v)b.push({name:d,commit:r[v[d]]});return b},ea=function(){return v},Q=function(){return r},P=function(){var b=Object.keys(r).map(function(b){return r[b]});b.forEach(function(b){n.log.debug(b.id)});b.sort(function(b,d){return d.seq-b.seq});return b},S=function(){return u},ua=function(){return w},
V=function(){return t};d["default"]={setDirection:H,setOptions:I,getOptions:O,commit:N,branch:L,merge:F,checkout:G,reset:U,prettyPrint:R,clear:W,getBranchesAsObjArray:T,getBranches:ea,getCommits:Q,getCommitsArray:P,getCurrentBranch:S,getDirection:ua,getHead:V}},"./src/diagrams/git/gitGraphRenderer.js":function(b,d,g){function e(b){b.append("defs").append("g").attr("id","def-commit").append("circle").attr("r",z.nodeRadius).attr("cx",0).attr("cy",0);b.select("#def-commit").append("foreignObject").attr("width",
z.nodeLabel.width).attr("height",z.nodeLabel.height).attr("x",z.nodeLabel.x).attr("y",z.nodeLabel.y).attr("class","node-label").attr("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility").append("p").html("")}function f(b,d,e,f){f=Object(w.interpolateToCurve)(f,r.curveBasis);e=z.branchColors[e%z.branchColors.length];f=Object(r.line)().x(function(b){return Math.round(b.x)}).y(function(b){return Math.round(b.y)}).curve(f);b.append("svg:path").attr("d",f(d)).style("stroke",e).style("stroke-width",
z.lineStrokeWidth).style("fill","none")}function m(b,d){d=d||b.node().getBBox();b=b.node().getCTM();return{left:b.e+d.x*b.a,top:b.f+d.y*b.d,width:d.width,height:d.height}}function p(b,d,e,g,h){u.log.debug("svgDrawLineForCommits: ",d,e);d=m(b.select("#node-"+d+" circle"));e=m(b.select("#node-"+e+" circle"));switch(g){case "LR":d.left-e.left>z.nodeSpacing?(g={x:d.left-z.nodeSpacing,y:e.top+e.height/2},f(b,[g,{x:e.left+e.width,y:e.top+e.height/2}],h,"linear"),f(b,[{x:d.left,y:d.top+d.height/2},{x:d.left-
z.nodeSpacing/2,y:d.top+d.height/2},{x:d.left-z.nodeSpacing/2,y:g.y},g],h)):f(b,[{x:d.left,y:d.top+d.height/2},{x:d.left-z.nodeSpacing/2,y:d.top+d.height/2},{x:d.left-z.nodeSpacing/2,y:e.top+e.height/2},{x:e.left+e.width,y:e.top+e.height/2}],h);break;case "BT":e.top-d.top>z.nodeSpacing?(g={x:e.left+e.width/2,y:d.top+d.height+z.nodeSpacing},f(b,[g,{x:e.left+e.width/2,y:e.top}],h,"linear"),f(b,[{x:d.left+d.width/2,y:d.top+d.height},{x:d.left+d.width/2,y:d.top+d.height+z.nodeSpacing/2},{x:e.left+e.width/
2,y:g.y-z.nodeSpacing/2},g],h)):f(b,[{x:d.left+d.width/2,y:d.top+d.height},{x:d.left+d.width/2,y:d.top+z.nodeSpacing/2},{x:e.left+e.width/2,y:e.top-z.nodeSpacing/2},{x:e.left+e.width/2,y:e.top}],h)}}function n(b,d,e,f){var g=Object.keys(J).length;if("string"===typeof d){do{var h=J[d];u.log.debug("in renderCommitHistory",h.id,h.seq);if(0<b.select("#node-"+d).size())return;b.append(function(){return b.select("#def-commit").node().cloneNode(!0)}).attr("class","commit").attr("id",function(){return"node-"+
h.id}).attr("transform",function(){switch(f){case "LR":return"translate("+(h.seq*z.nodeSpacing+z.leftMargin)+", "+H*z.branchOffset+")";case "BT":return"translate("+(H*z.branchOffset+z.leftMargin)+", "+(g-h.seq)*z.nodeSpacing+")"}}).attr("fill",z.nodeFillColor).attr("stroke",z.nodeStrokeColor).attr("stroke-width",z.nodeStrokeWidth);d=void 0;for(var l in e)if(e[l].commit===h){d=e[l];break}d&&(u.log.debug("found branch ",d.name),b.select("#node-"+h.id+" p").append("xhtml:span").attr("class","branch-label").text(d.name+
", "));b.select("#node-"+h.id+" p").append("xhtml:span").attr("class","commit-id").text(h.id);""!==h.message&&"BT"===f&&b.select("#node-"+h.id+" p").append("xhtml:span").attr("class","commit-msg").text(", "+h.message);d=h.parent}while(d&&J[d])}Array.isArray(d)&&(u.log.debug("found merge commmit",d),n(b,d[0],e,f),H++,n(b,d[1],e,f),H--)}function q(b,d,e,f){for(f=f||0;0<d.seq&&!d.lineDrawn;)"string"===typeof d.parent?(p(b,d.id,d.parent,e,f),d.lineDrawn=!0,d=J[d.parent]):Array.isArray(d.parent)&&(p(b,
d.id,d.parent[0],e,f),p(b,d.id,d.parent[1],e,f+1),q(b,J[d.parent[1]],e,f+1),d.lineDrawn=!0,d=J[d.parent[0]])}g.r(d);g.d(d,"setConf",function(){return O});g.d(d,"draw",function(){return N});var r=g("d3"),t=g("./src/diagrams/git/gitGraphAst.js");b=g("./src/diagrams/git/parser/gitGraph.jison");var v=g.n(b),u=g("./src/logger.js"),w=g("./src/utils.js"),J={},H,z={nodeSpacing:150,nodeFillColor:"yellow",nodeStrokeWidth:2,nodeStrokeColor:"grey",lineStrokeWidth:4,branchOffset:50,lineColor:"grey",leftMargin:50,
branchColors:["#442f74","#983351","#609732","#AA9A39"],nodeRadius:10,nodeLabel:{width:75,height:100,x:-25,y:0}},I={},O=function(b){I=b},N=function(b,d,f){try{var g=v.a.parser;g.yy=t["default"];g.yy.clear();u.log.debug("in gitgraph renderer",b+"\n","id:",d,f);g.parse(b+"\n");z=Object.assign(z,I,t["default"].getOptions());u.log.debug("effective options",z);var h=t["default"].getDirection();J=t["default"].getCommits();var l=t["default"].getBranchesAsObjArray();"BT"===h&&(z.nodeLabel.x=l.length*z.branchOffset,
z.nodeLabel.width="100%",z.nodeLabel.y=-2*z.nodeRadius);var m=Object(r.select)('[id="'.concat(d,'"]'));e(m);H=1;for(var p in l){var F=l[p];n(m,F.commit.id,l,h);q(m,F.commit,h);H++}m.attr("height",function(){return"BT"===h?Object.keys(J).length*z.nodeSpacing:(l.length+1)*z.branchOffset})}catch(P){u.log.error("Error while rendering gitgraph"),u.log.error(P.message)}};d["default"]={setConf:O,draw:N}},"./src/diagrams/git/parser/gitGraph.jison":function(b,d,g){(function(b,e){var f=function(){function b(){this.yy=
{}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},e=[2,3],f=[1,7],g=[7,12,15,17,19,20,21],h=[7,11,12,15,17,19,20,21],l=[2,20],m=[1,32];d={trace:function(){},yy:{},symbols_:{error:2,start:3,GG:4,":":5,document:6,EOF:7,DIR:8,options:9,body:10,OPT:11,NL:12,line:13,statement:14,COMMIT:15,commit_arg:16,BRANCH:17,ID:18,CHECKOUT:19,MERGE:20,RESET:21,reset_arg:22,STR:23,HEAD:24,reset_parents:25,CARET:26,$accept:0,$end:1},terminals_:{2:"error",4:"GG",5:":",7:"EOF",8:"DIR",11:"OPT",
12:"NL",15:"COMMIT",17:"BRANCH",18:"ID",19:"CHECKOUT",20:"MERGE",21:"RESET",23:"STR",24:"HEAD",26:"CARET"},productions_:[0,[3,4],[3,5],[6,0],[6,2],[9,2],[9,1],[10,0],[10,2],[13,2],[13,1],[14,2],[14,2],[14,2],[14,2],[14,2],[16,0],[16,1],[22,2],[22,2],[25,0],[25,2]],performAction:function(b,d,e,f,g,h,l){b=h.length-1;switch(g){case 1:return h[b-1];case 2:return f.setDirection(h[b-3]),h[b-1];case 4:f.setOptions(h[b-1]);this.$=h[b];break;case 5:h[b-1]+=h[b];this.$=h[b-1];break;case 7:this.$=[];break;case 8:h[b-
1].push(h[b]);this.$=h[b-1];break;case 9:this.$=h[b-1];break;case 11:f.commit(h[b]);break;case 12:f.branch(h[b]);break;case 13:f.checkout(h[b]);break;case 14:f.merge(h[b]);break;case 15:f.reset(h[b]);break;case 16:this.$="";break;case 17:this.$=h[b];break;case 18:this.$=h[b-1]+":"+h[b];break;case 19:this.$=h[b-1]+":"+f.count;f.count=0;break;case 20:f.count=0;break;case 21:f.count+=1}},table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3],8:[1,4]},{6:5,7:e,9:6,12:f},{5:[1,8]},{7:[1,9]},d(g,[2,7],{10:10,11:[1,11]}),
d(h,[2,6]),{6:12,7:e,9:6,12:f},{1:[2,1]},{7:[2,4],12:[1,15],13:13,14:14,15:[1,16],17:[1,17],19:[1,18],20:[1,19],21:[1,20]},d(h,[2,5]),{7:[1,21]},d(g,[2,8]),{12:[1,22]},d(g,[2,10]),{12:[2,16],16:23,23:[1,24]},{18:[1,25]},{18:[1,26]},{18:[1,27]},{18:[1,30],22:28,24:[1,29]},{1:[2,2]},d(g,[2,9]),{12:[2,11]},{12:[2,17]},{12:[2,12]},{12:[2,13]},{12:[2,14]},{12:[2,15]},{12:l,25:31,26:m},{12:l,25:33,26:m},{12:[2,18]},{12:l,25:34,26:m},{12:[2,19]},{12:[2,21]}],defaultActions:{9:[2,1],21:[2,2],23:[2,11],24:[2,
17],25:[2,12],26:[2,13],27:[2,14],28:[2,15],31:[2,18],33:[2,19],34:[2,21]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=d,b;},parse:function(b){var d=[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,1),q=Object.create(this.lexer),r={};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(r[t]=this.yy[t]);q.setInput(b,r);r.lexer=q;r.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var t=q.yylloc;g.push(t);var u=q.options&&
q.options.ranges;this.parseError="function"===typeof r.parseError?r.parseError:Object.getPrototypeOf(this).parseError;for(var v,w,S,J={},V,ba;;){w=d[d.length-1];if(this.defaultActions[w])S=this.defaultActions[w];else{if(null===v||"undefined"==typeof v)v=e.pop()||q.lex()||1,"number"!==typeof v&&(v instanceof Array&&(e=v,v=e.pop()),v=this.symbols_[v]||v);S=h[w]&&h[w][v]}if("undefined"===typeof S||!S.length||!S[0]){ba=[];for(V in h[w])this.terminals_[V]&&2<V&&ba.push("'"+this.terminals_[V]+"'");var la=
q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+"\nExpecting "+ba.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(la,{text:q.match,token:this.terminals_[v]||v,line:q.yylineno,loc:t,expected:ba})}if(S[0]instanceof Array&&1<S.length)throw Error("Parse Error: multiple actions possible at state: "+w+", token: "+v);switch(S[0]){case 1:d.push(v);f.push(q.yytext);g.push(q.yylloc);
d.push(S[1]);v=null;n=q.yyleng;l=q.yytext;m=q.yylineno;t=q.yylloc;break;case 2:ba=this.productions_[S[1]][1];J.$=f[f.length-ba];J._$={first_line:g[g.length-(ba||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(ba||1)].first_column,last_column:g[g.length-1].last_column};u&&(J._$.range=[g[g.length-(ba||1)].range[0],g[g.length-1].range[1]]);w=this.performAction.apply(J,[l,n,m,r,S[1],f,g].concat(p));if("undefined"!==typeof w)return w;ba&&(d=d.slice(0,-2*ba),f=f.slice(0,-1*ba),
g=g.slice(0,-1*ba));d.push(this.productions_[S[1]][0]);f.push(J.$);g.push(J._$);S=h[d[d.length-2]][d[d.length-1]];d.push(S);break;case 3:return!0}}}};e=function(){return{EOF:1,parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,d);else throw Error(b);},setInput:function(b,d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,
last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,
this.yytext.length-d);this.offset-=d;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-e[0].length:this.yylloc.first_column-d};this.options.ranges&&
(this.yylloc.range=[f[0],f[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},
pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+d+"^"},test_match:function(b,d){var e;if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,
yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=e.length;this.yylloc=
{first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,
this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!f||b[0].length>f[0].length)){var f=b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==f)return f;
if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?(f=this.test_match(f,d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,d,e,f){switch(e){case 0:return 12;
case 4:return 4;case 5:return 15;case 6:return 17;case 7:return 20;case 8:return 21;case 9:return 19;case 10:return 8;case 11:return 8;case 12:return 5;case 13:return 26;case 14:this.begin("options");break;case 15:this.popState();break;case 16:return 11;case 17:this.begin("string");break;case 18:this.popState();break;case 19:return 23;case 20:return 18;case 21:return 7}},rules:[/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit\b)/i,/^(?:branch\b)/i,/^(?:merge\b)/i,
/^(?:reset\b)/i,/^(?:checkout\b)/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:end\r?\n)/i,/^(?:[^\n]+\r?\n)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[a-zA-Z][-_\.a-zA-Z0-9]*[-_a-zA-Z0-9])/i,/^(?:$)/i],conditions:{options:{rules:[15,16],inclusive:!1},string:{rules:[18,19],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,20,21],inclusive:!0}}}}();d.lexer=e;b.prototype=d;d.Parser=b;return new b}();d.parser=f;d.Parser=f.Parser;d.parse=function(){return f.parse.apply(f,
arguments)};d.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),g("./node_modules/webpack/buildin/module.js")(b))},"./src/diagrams/git/styles.js":function(b,d,g){g.r(d);d["default"]=function(){return"\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n"}},
"./src/diagrams/info/infoDb.js":function(b,d,g){g.r(d);g.d(d,"setMessage",function(){return p});g.d(d,"getMessage",function(){return n});g.d(d,"setInfo",function(){return q});g.d(d,"getInfo",function(){return r});var e=g("./src/logger.js"),f="",m=!1,p=function(b){e.log.debug("Setting message to: "+b);f=b},n=function(){return f},q=function(b){m=b},r=function(){return m};d["default"]={setMessage:p,getMessage:n,setInfo:q,getInfo:r}},"./src/diagrams/info/infoRenderer.js":function(b,d,g){g.r(d);g.d(d,
"setConf",function(){return n});g.d(d,"draw",function(){return q});var e=g("d3"),f=g("./src/diagrams/info/infoDb.js");b=g("./src/diagrams/info/parser/info.jison");var m=g.n(b),p=g("./src/logger.js"),n=function(b){Object.keys(b).forEach(function(d){b[d]})},q=function(b,d,g){try{var h=m.a.parser;h.yy=f["default"];p.log.debug("Renering info diagram\n"+b);h.parse(b);p.log.debug("Parsed info diagram");var l=Object(e.select)("#"+d);l.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",
"32px").style("text-anchor","middle").text("v "+g);l.attr("height",100);l.attr("width",400)}catch(J){p.log.error("Error while rendering info diagram"),p.log.error(J.message)}};d["default"]={setConf:n,draw:q}},"./src/diagrams/info/parser/info.jison":function(b,d,g){(function(b,e){var f=function(){function b(){this.yy={}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},e=[6,9,10];d={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,
NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(b,d,e,f,g,h,l){h.length-1;switch(g){case 1:return f;case 6:f.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},d(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},d(e,[2,3]),d(e,[2,4]),d(e,[2,5]),d(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=d,b;},parse:function(b){var d=
[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,1),q=Object.create(this.lexer),r={};for(F in this.yy)Object.prototype.hasOwnProperty.call(this.yy,F)&&(r[F]=this.yy[F]);q.setInput(b,r);r.lexer=q;r.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var F=q.yylloc;g.push(F);var G=q.options&&q.options.ranges;this.parseError="function"===typeof r.parseError?r.parseError:Object.getPrototypeOf(this).parseError;for(var U,R,W,T={},ea,Q;;){R=d[d.length-1];if(this.defaultActions[R])W=
this.defaultActions[R];else{if(null===U||"undefined"==typeof U)U=e.pop()||q.lex()||1,"number"!==typeof U&&(U instanceof Array&&(e=U,U=e.pop()),U=this.symbols_[U]||U);W=h[R]&&h[R][U]}if("undefined"===typeof W||!W.length||!W[0]){Q=[];for(ea in h[R])this.terminals_[ea]&&2<ea&&Q.push("'"+this.terminals_[ea]+"'");var P=q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+"\nExpecting "+Q.join(", ")+", got '"+(this.terminals_[U]||U)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==U?"end of input":
"'"+(this.terminals_[U]||U)+"'");this.parseError(P,{text:q.match,token:this.terminals_[U]||U,line:q.yylineno,loc:F,expected:Q})}if(W[0]instanceof Array&&1<W.length)throw Error("Parse Error: multiple actions possible at state: "+R+", token: "+U);switch(W[0]){case 1:d.push(U);f.push(q.yytext);g.push(q.yylloc);d.push(W[1]);U=null;n=q.yyleng;l=q.yytext;m=q.yylineno;F=q.yylloc;break;case 2:Q=this.productions_[W[1]][1];T.$=f[f.length-Q];T._$={first_line:g[g.length-(Q||1)].first_line,last_line:g[g.length-
1].last_line,first_column:g[g.length-(Q||1)].first_column,last_column:g[g.length-1].last_column};G&&(T._$.range=[g[g.length-(Q||1)].range[0],g[g.length-1].range[1]]);R=this.performAction.apply(T,[l,n,m,r,W[1],f,g].concat(p));if("undefined"!==typeof R)return R;Q&&(d=d.slice(0,-2*Q),f=f.slice(0,-1*Q),g=g.slice(0,-1*Q));d.push(this.productions_[W[1]][0]);f.push(T.$);g.push(T._$);W=h[d[d.length-2]][d[d.length-1]];d.push(W);break;case 3:return!0}}}};e=function(){return{EOF:1,parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,
d);else throw Error(b);},setInput:function(b,d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?
(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=
this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-e[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+
(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,
20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+d+"^"},test_match:function(b,d){var e;if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,
yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=e.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=
b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;this._input||
(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!f||b[0].length>f[0].length)){var f=b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==f)return f;if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?(f=this.test_match(f,d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=
this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,d,e,f){switch(e){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,
5],inclusive:!0}}}}();d.lexer=e;b.prototype=d;d.Parser=b;return new b}();d.parser=f;d.Parser=f.Parser;d.parse=function(){return f.parse.apply(f,arguments)};d.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),g("./node_modules/webpack/buildin/module.js")(b))},
"./src/diagrams/info/styles.js":function(b,d,g){g.r(d);d["default"]=function(){return""}},"./src/diagrams/pie/parser/pie.jison":function(b,d,g){(function(b,e){var f=function(){function b(){this.yy={}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},e=[1,4],f=[1,5],g=[1,6],h=[1,7],l=[1,9],m=[1,10,12,19,20,21,22],J=[1,6,10,12,19,20,21,22],H=[19,20,21],z=[1,22],I=[6,19,20,21,22];d={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,line:8,statement:9,
txt:10,value:11,title:12,title_value:13,openDirective:14,typeDirective:15,closeDirective:16,":":17,argDirective:18,NEWLINE:19,";":20,EOF:21,open_directive:22,type_directive:23,arg_directive:24,close_directive:25,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",10:"txt",11:"value",12:"title",13:"title_value",17:":",19:"NEWLINE",20:";",21:"EOF",22:"open_directive",23:"type_directive",24:"arg_directive",25:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[9,0],[9,2],[9,2],[9,1],
[5,3],[5,5],[4,1],[4,1],[4,1],[14,1],[15,1],[18,1],[16,1]],performAction:function(b,d,e,f,g,h,l){b=h.length-1;switch(g){case 6:this.$=h[b-1];break;case 8:f.addSection(h[b-1],f.cleanupValue(h[b]));break;case 9:this.$=h[b].trim();f.setTitle(this.$);break;case 16:f.parseDirective("%%{","open_directive");break;case 17:f.parseDirective(h[b],"type_directive");break;case 18:h[b]=h[b].trim().replace(/'/g,'"');f.parseDirective(h[b],"arg_directive");break;case 19:f.parseDirective("}%%","close_directive","pie")}},
table:[{3:1,4:2,5:3,6:e,14:8,19:f,20:g,21:h,22:l},{1:[3]},{3:10,4:2,5:3,6:e,14:8,19:f,20:g,21:h,22:l},{3:11,4:2,5:3,6:e,14:8,19:f,20:g,21:h,22:l},d(m,[2,4],{7:12}),d(J,[2,13]),d(J,[2,14]),d(J,[2,15]),{15:13,23:[1,14]},{23:[2,16]},{1:[2,1]},{1:[2,2]},d(H,[2,7],{14:8,8:15,9:16,5:19,1:[2,3],10:[1,17],12:[1,18],22:l}),{16:20,17:[1,21],25:z},d([17,25],[2,17]),d(m,[2,5]),{4:23,19:f,20:g,21:h},{11:[1,24]},{13:[1,25]},d(H,[2,10]),d(I,[2,11]),{18:26,24:[1,27]},d(I,[2,19]),d(m,[2,6]),d(H,[2,8]),d(H,[2,9]),
{16:28,25:z},{25:[2,18]},d(I,[2,12])],defaultActions:{9:[2,16],10:[2,1],11:[2,2],27:[2,18]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=d,b;},parse:function(b){var d=[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,1),q=Object.create(this.lexer),r={};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(r[t]=this.yy[t]);q.setInput(b,r);r.lexer=q;r.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var t=q.yylloc;g.push(t);
var u=q.options&&q.options.ranges;this.parseError="function"===typeof r.parseError?r.parseError:Object.getPrototypeOf(this).parseError;for(var v,z,w,I={},H,O;;){z=d[d.length-1];if(this.defaultActions[z])w=this.defaultActions[z];else{if(null===v||"undefined"==typeof v)v=e.pop()||q.lex()||1,"number"!==typeof v&&(v instanceof Array&&(e=v,v=e.pop()),v=this.symbols_[v]||v);w=h[z]&&h[z][v]}if("undefined"===typeof w||!w.length||!w[0]){O=[];for(H in h[z])this.terminals_[H]&&2<H&&O.push("'"+this.terminals_[H]+
"'");var J=q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(J,{text:q.match,token:this.terminals_[v]||v,line:q.yylineno,loc:t,expected:O})}if(w[0]instanceof Array&&1<w.length)throw Error("Parse Error: multiple actions possible at state: "+z+", token: "+v);switch(w[0]){case 1:d.push(v);f.push(q.yytext);
g.push(q.yylloc);d.push(w[1]);v=null;n=q.yyleng;l=q.yytext;m=q.yylineno;t=q.yylloc;break;case 2:O=this.productions_[w[1]][1];I.$=f[f.length-O];I._$={first_line:g[g.length-(O||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(O||1)].first_column,last_column:g[g.length-1].last_column};u&&(I._$.range=[g[g.length-(O||1)].range[0],g[g.length-1].range[1]]);z=this.performAction.apply(I,[l,n,m,r,w[1],f,g].concat(p));if("undefined"!==typeof z)return z;O&&(d=d.slice(0,-2*O),f=f.slice(0,
-1*O),g=g.slice(0,-1*O));d.push(this.productions_[w[1]][0]);f.push(I.$);g.push(I._$);w=h[d[d.length-2]][d[d.length-1]];d.push(w);break;case 3:return!0}}}};e=function(){return{EOF:1,parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,d);else throw Error(b);},setInput:function(b,d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,
first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=
this.yytext.substr(0,this.yytext.length-d);this.offset-=d;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-e[0].length:this.yylloc.first_column-
d};this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},
less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+d+"^"},test_match:function(b,d){var e;
if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
e.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,
this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!f||b[0].length>f[0].length)){var f=b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==
f)return f;if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?(f=this.test_match(f,d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,d,e,f){switch(e){case 0:return this.begin("open_directive"),
22;case 1:return this.begin("type_directive"),23;case 2:return this.popState(),this.begin("arg_directive"),17;case 3:return this.popState(),this.popState(),25;case 4:return 24;case 7:return 19;case 10:return this.begin("title"),12;case 11:return this.popState(),"title_value";case 12:this.begin("string");break;case 13:this.popState();break;case 14:return"txt";case 15:return 6;case 16:return"value";case 17:return 21}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,
/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,
12,15,16,17],inclusive:!0}}}}();d.lexer=e;b.prototype=d;d.Parser=b;return new b}();d.parser=f;d.Parser=f.Parser;d.parse=function(){return f.parse.apply(f,arguments)};d.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),g("./node_modules/webpack/buildin/module.js")(b))},
"./src/diagrams/pie/pieDb.js":function(b,d,g){g.r(d);g.d(d,"parseDirective",function(){return q});var e=g("./src/logger.js"),f=g("./src/mermaidAPI.js"),m=g("./src/config.js"),p={},n="",q=function(b,d,e){f["default"].parseDirective(this,b,d,e)};d["default"]={parseDirective:q,getConfig:function(){return m.getConfig().pie},addSection:function(b,d){"undefined"===typeof p[b]&&(p[b]=d,e.log.debug("Added new section :",b))},getSections:function(){return p},cleanupValue:function(b){":"===b.substring(0,1)&&
(b=b.substring(1).trim());return Number(b.trim())},clear:function(){p={};n=""},setTitle:function(b){n=b},getTitle:function(){return n}}},"./src/diagrams/pie/pieRenderer.js":function(b,d,g){g.r(d);g.d(d,"setConf",function(){return r});g.d(d,"draw",function(){return v});var e=g("d3"),f=g("./src/diagrams/pie/pieDb.js");b=g("./src/diagrams/pie/parser/pie.jison");var m=g.n(b),p=g("./src/logger.js"),n=g("./src/utils.js"),q={},r=function(b){Object.keys(b).forEach(function(d){q[d]=b[d]})},t,v=function(b,
d){try{var g=m.a.parser;g.yy=f["default"];p.log.debug("Rendering info diagram\n"+b);g.yy.clear();g.parse(b);p.log.debug("Parsed info diagram");var h=document.getElementById(d);t=h.parentElement.offsetWidth;"undefined"===typeof t&&(t=1200);"undefined"!==typeof q.useWidth&&(t=q.useWidth);var l=Object(e.select)("#"+d);Object(n.configureSvgSize)(l,450,t,q.useMaxWidth);h.setAttribute("viewBox","0 0 "+t+" 450");var r=Math.min(t,450)/2-40,u=l.append("g").attr("transform","translate("+t/2+",225)"),v=f["default"].getSections(),
w=0;Object.keys(v).forEach(function(b){w+=v[b]});var F=Object(e.scaleOrdinal)().domain(v).range(e.schemeSet2),G=Object(e.pie)().value(function(b){return b.value})(Object(e.entries)(v)),U=Object(e.arc)().innerRadius(0).outerRadius(r);u.selectAll("mySlices").data(G).enter().append("path").attr("d",U).attr("fill",function(b){return F(b.data.key)}).attr("stroke","black").style("stroke-width","2px").style("opacity",.7);u.selectAll("mySlices").data(G.filter(function(b){return 0!==b.data.value})).enter().append("text").text(function(b){return(b.data.value/
w*100).toFixed(0)+"%"}).attr("transform",function(b){return"translate("+U.centroid(b)+")"}).style("text-anchor","middle").attr("class","slice").style("font-size",17);u.append("text").text(g.yy.getTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var R=u.selectAll(".legend").data(F.domain()).enter().append("g").attr("class","legend").attr("transform",function(b,d){b=22*F.domain().length/2;return"translate(216,"+(22*d-b)+")"});R.append("rect").attr("width",18).attr("height",18).style("fill",
F).style("stroke",F);R.append("text").attr("x",22).attr("y",14).text(function(b){return b})}catch(W){p.log.error("Error while rendering info diagram"),p.log.error(W)}};d["default"]={setConf:r,draw:v}},"./src/diagrams/pie/styles.js":function(b,d,g){g.r(d);d["default"]=function(b){return".pieTitleText {\n    text-anchor: middle;\n    font-size: 25px;\n    fill: ".concat(b.taskTextDarkColor,";\n    font-family: ").concat(b.fontFamily,";\n  }\n  .slice {\n    font-family: ").concat(b.fontFamily,";\n    fill: ").concat(b.textColor,
";\n    // fill: white;\n  }\n  .legend text {\n    fill: ").concat(b.taskTextDarkColor,";\n    font-family: ").concat(b.fontFamily,";\n    font-size: 17px;\n  }\n")}},"./src/diagrams/sequence/parser/sequenceDiagram.jison":function(b,d,g){(function(b,e){var f=function(){function b(){this.yy={}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},e=[1,2],f=[1,3],g=[1,5],h=[1,7],l=[2,5],m=[1,15],J=[1,17],H=[1,18],z=[1,20],I=[1,21],O=[1,22],N=[1,24],L=[1,25],F=[1,26],G=[1,27],U=[1,
28],R=[1,29],W=[1,32],T=[1,33],ea=[1,36],Q=[1,4,5,16,21,22,23,25,27,28,29,30,31,33,35,36,37,48,58],P=[1,44],S=[4,5,16,21,22,23,25,27,28,29,30,31,33,37,48,58],ua=[4,5,16,21,22,23,25,27,28,29,30,31,33,36,37,48,58],V=[4,5,16,21,22,23,25,27,28,29,30,31,33,35,37,48,58],ba=[46,47,48],la=[1,4,5,7,16,21,22,23,25,27,28,29,30,31,33,35,36,37,48,58];d={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,
":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,signal:20,autonumber:21,activate:22,deactivate:23,note_statement:24,title:25,text2:26,loop:27,end:28,rect:29,opt:30,alt:31,else_sections:32,par:33,par_sections:34,and:35,"else":36,note:37,placement:38,over:39,actor_pair:40,spaceList:41,",":42,left_of:43,right_of:44,signaltype:45,"+":46,"-":47,ACTOR:48,SOLID_OPEN_ARROW:49,DOTTED_OPEN_ARROW:50,SOLID_ARROW:51,DOTTED_ARROW:52,SOLID_CROSS:53,DOTTED_CROSS:54,SOLID_POINT:55,DOTTED_POINT:56,
TXT:57,open_directive:58,type_directive:59,arg_directive:60,close_directive:61,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",21:"autonumber",22:"activate",23:"deactivate",25:"title",27:"loop",28:"end",29:"rect",30:"opt",31:"alt",33:"par",35:"and",36:"else",37:"note",39:"over",42:",",43:"left_of",44:"right_of",46:"+",47:"-",48:"ACTOR",49:"SOLID_OPEN_ARROW",50:"DOTTED_OPEN_ARROW",51:"SOLID_ARROW",52:"DOTTED_ARROW",53:"SOLID_CROSS",
54:"DOTTED_CROSS",55:"SOLID_POINT",56:"DOTTED_POINT",57:"TXT",58:"open_directive",59:"type_directive",60:"arg_directive",61:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,2],[10,1],[10,3],[10,3],[10,2],[10,3],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[34,1],[34,4],[32,1],[32,4],[24,4],[24,4],[41,2],[41,1],[40,3],[40,1],[38,1],[38,1],[20,5],[20,5],[20,4],[17,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[26,1],[11,
1],[12,1],[15,1],[13,1]],performAction:function(b,d,e,f,g,h,l){b=h.length-1;switch(g){case 4:return f.apply(h[b]),h[b];case 5:this.$=[];break;case 6:h[b-1].push(h[b]);this.$=h[b-1];break;case 7:case 8:this.$=h[b];break;case 9:this.$=[];break;case 12:h[b-3].description=f.parseMessage(h[b-1]);this.$=h[b-3];break;case 13:this.$=h[b-1];break;case 15:f.enableSequenceNumbers();break;case 16:this.$={type:"activeStart",signalType:f.LINETYPE.ACTIVE_START,actor:h[b-1]};break;case 17:this.$={type:"activeEnd",
signalType:f.LINETYPE.ACTIVE_END,actor:h[b-1]};break;case 19:this.$=[{type:"setTitle",text:h[b-1]}];break;case 20:h[b-1].unshift({type:"loopStart",loopText:f.parseMessage(h[b-2]),signalType:f.LINETYPE.LOOP_START});h[b-1].push({type:"loopEnd",loopText:h[b-2],signalType:f.LINETYPE.LOOP_END});this.$=h[b-1];break;case 21:h[b-1].unshift({type:"rectStart",color:f.parseMessage(h[b-2]),signalType:f.LINETYPE.RECT_START});h[b-1].push({type:"rectEnd",color:f.parseMessage(h[b-2]),signalType:f.LINETYPE.RECT_END});
this.$=h[b-1];break;case 22:h[b-1].unshift({type:"optStart",optText:f.parseMessage(h[b-2]),signalType:f.LINETYPE.OPT_START});h[b-1].push({type:"optEnd",optText:f.parseMessage(h[b-2]),signalType:f.LINETYPE.OPT_END});this.$=h[b-1];break;case 23:h[b-1].unshift({type:"altStart",altText:f.parseMessage(h[b-2]),signalType:f.LINETYPE.ALT_START});h[b-1].push({type:"altEnd",signalType:f.LINETYPE.ALT_END});this.$=h[b-1];break;case 24:h[b-1].unshift({type:"parStart",parText:f.parseMessage(h[b-2]),signalType:f.LINETYPE.PAR_START});
h[b-1].push({type:"parEnd",signalType:f.LINETYPE.PAR_END});this.$=h[b-1];break;case 27:this.$=h[b-3].concat([{type:"and",parText:f.parseMessage(h[b-1]),signalType:f.LINETYPE.PAR_AND},h[b]]);break;case 29:this.$=h[b-3].concat([{type:"else",altText:f.parseMessage(h[b-1]),signalType:f.LINETYPE.ALT_ELSE},h[b]]);break;case 30:this.$=[h[b-1],{type:"addNote",placement:h[b-2],actor:h[b-1].actor,text:h[b]}];break;case 31:h[b-2]=[].concat(h[b-1],h[b-1]).slice(0,2);h[b-2][0]=h[b-2][0].actor;h[b-2][1]=h[b-2][1].actor;
this.$=[h[b-1],{type:"addNote",placement:f.PLACEMENT.OVER,actor:h[b-2].slice(0,2),text:h[b]}];break;case 34:this.$=[h[b-2],h[b]];break;case 35:this.$=h[b];break;case 36:this.$=f.PLACEMENT.LEFTOF;break;case 37:this.$=f.PLACEMENT.RIGHTOF;break;case 38:this.$=[h[b-4],h[b-1],{type:"addMessage",from:h[b-4].actor,to:h[b-1].actor,signalType:h[b-3],msg:h[b]},{type:"activeStart",signalType:f.LINETYPE.ACTIVE_START,actor:h[b-1]}];break;case 39:this.$=[h[b-4],h[b-1],{type:"addMessage",from:h[b-4].actor,to:h[b-
1].actor,signalType:h[b-3],msg:h[b]},{type:"activeEnd",signalType:f.LINETYPE.ACTIVE_END,actor:h[b-4]}];break;case 40:this.$=[h[b-3],h[b-1],{type:"addMessage",from:h[b-3].actor,to:h[b-1].actor,signalType:h[b-2],msg:h[b]}];break;case 41:this.$={type:"addActor",actor:h[b]};break;case 42:this.$=f.LINETYPE.SOLID_OPEN;break;case 43:this.$=f.LINETYPE.DOTTED_OPEN;break;case 44:this.$=f.LINETYPE.SOLID;break;case 45:this.$=f.LINETYPE.DOTTED;break;case 46:this.$=f.LINETYPE.SOLID_CROSS;break;case 47:this.$=f.LINETYPE.DOTTED_CROSS;
break;case 48:this.$=f.LINETYPE.SOLID_POINT;break;case 49:this.$=f.LINETYPE.DOTTED_POINT;break;case 50:this.$=f.parseMessage(h[b].trim().substring(1));break;case 51:f.parseDirective("%%{","open_directive");break;case 52:f.parseDirective(h[b],"type_directive");break;case 53:h[b]=h[b].trim().replace(/'/g,'"');f.parseDirective(h[b],"arg_directive");break;case 54:f.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:e,5:f,6:4,7:g,11:6,58:h},{1:[3]},{3:8,4:e,5:f,6:4,7:g,11:6,58:h},{3:9,
4:e,5:f,6:4,7:g,11:6,58:h},{3:10,4:e,5:f,6:4,7:g,11:6,58:h},d([1,4,5,16,21,22,23,25,27,29,30,31,33,37,48,58],l,{8:11}),{12:12,59:[1,13]},{59:[2,51]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:m,5:J,6:30,9:14,10:16,11:6,16:H,17:31,20:19,21:z,22:I,23:O,24:23,25:N,27:L,29:F,30:G,31:U,33:R,37:W,48:T,58:h},{13:34,14:[1,35],61:ea},d([14,61],[2,52]),d(Q,[2,6]),{6:30,10:37,11:6,16:H,17:31,20:19,21:z,22:I,23:O,24:23,25:N,27:L,29:F,30:G,31:U,33:R,37:W,48:T,58:h},d(Q,[2,8]),d(Q,[2,9]),{17:38,48:T},{5:[1,39]},
d(Q,[2,15]),{17:40,48:T},{17:41,48:T},{5:[1,42]},{26:43,57:P},{19:[1,45]},{19:[1,46]},{19:[1,47]},{19:[1,48]},{19:[1,49]},d(Q,[2,25]),{45:50,49:[1,51],50:[1,52],51:[1,53],52:[1,54],53:[1,55],54:[1,56],55:[1,57],56:[1,58]},{38:59,39:[1,60],43:[1,61],44:[1,62]},d([5,18,42,49,50,51,52,53,54,55,56,57],[2,41]),{5:[1,63]},{15:64,60:[1,65]},{5:[2,54]},d(Q,[2,7]),{5:[1,67],18:[1,66]},d(Q,[2,14]),{5:[1,68]},{5:[1,69]},d(Q,[2,18]),{5:[1,70]},{5:[2,50]},d(S,l,{8:71}),d(S,l,{8:72}),d(S,l,{8:73}),d(ua,l,{32:74,
8:75}),d(V,l,{34:76,8:77}),{17:80,46:[1,78],47:[1,79],48:T},d(ba,[2,42]),d(ba,[2,43]),d(ba,[2,44]),d(ba,[2,45]),d(ba,[2,46]),d(ba,[2,47]),d(ba,[2,48]),d(ba,[2,49]),{17:81,48:T},{17:83,40:82,48:T},{48:[2,36]},{48:[2,37]},d(la,[2,10]),{13:84,61:ea},{61:[2,53]},{19:[1,85]},d(Q,[2,13]),d(Q,[2,16]),d(Q,[2,17]),d(Q,[2,19]),{4:m,5:J,6:30,9:14,10:16,11:6,16:H,17:31,20:19,21:z,22:I,23:O,24:23,25:N,27:L,28:[1,86],29:F,30:G,31:U,33:R,37:W,48:T,58:h},{4:m,5:J,6:30,9:14,10:16,11:6,16:H,17:31,20:19,21:z,22:I,23:O,
24:23,25:N,27:L,28:[1,87],29:F,30:G,31:U,33:R,37:W,48:T,58:h},{4:m,5:J,6:30,9:14,10:16,11:6,16:H,17:31,20:19,21:z,22:I,23:O,24:23,25:N,27:L,28:[1,88],29:F,30:G,31:U,33:R,37:W,48:T,58:h},{28:[1,89]},{4:m,5:J,6:30,9:14,10:16,11:6,16:H,17:31,20:19,21:z,22:I,23:O,24:23,25:N,27:L,28:[2,28],29:F,30:G,31:U,33:R,36:[1,90],37:W,48:T,58:h},{28:[1,91]},{4:m,5:J,6:30,9:14,10:16,11:6,16:H,17:31,20:19,21:z,22:I,23:O,24:23,25:N,27:L,28:[2,26],29:F,30:G,31:U,33:R,35:[1,92],37:W,48:T,58:h},{17:93,48:T},{17:94,48:T},
{26:95,57:P},{26:96,57:P},{26:97,57:P},{42:[1,98],57:[2,35]},{5:[1,99]},{5:[1,100]},d(Q,[2,20]),d(Q,[2,21]),d(Q,[2,22]),d(Q,[2,23]),{19:[1,101]},d(Q,[2,24]),{19:[1,102]},{26:103,57:P},{26:104,57:P},{5:[2,40]},{5:[2,30]},{5:[2,31]},{17:105,48:T},d(la,[2,11]),d(Q,[2,12]),d(ua,l,{8:75,32:106}),d(V,l,{8:77,34:107}),{5:[2,38]},{5:[2,39]},{57:[2,34]},{28:[2,29]},{28:[2,27]}],defaultActions:{7:[2,51],8:[2,1],9:[2,2],10:[2,3],36:[2,54],44:[2,50],61:[2,36],62:[2,37],65:[2,53],95:[2,40],96:[2,30],97:[2,31],
103:[2,38],104:[2,39],105:[2,34],106:[2,29],107:[2,27]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=d,b;},parse:function(b){var d=[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,1),q=Object.create(this.lexer),r={};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(r[t]=this.yy[t]);q.setInput(b,r);r.lexer=q;r.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var t=q.yylloc;g.push(t);var u=q.options&&q.options.ranges;
this.parseError="function"===typeof r.parseError?r.parseError:Object.getPrototypeOf(this).parseError;for(var v,F,z,w={},G,L;;){F=d[d.length-1];if(this.defaultActions[F])z=this.defaultActions[F];else{if(null===v||"undefined"==typeof v)v=e.pop()||q.lex()||1,"number"!==typeof v&&(v instanceof Array&&(e=v,v=e.pop()),v=this.symbols_[v]||v);z=h[F]&&h[F][v]}if("undefined"===typeof z||!z.length||!z[0]){L=[];for(G in h[F])this.terminals_[G]&&2<G&&L.push("'"+this.terminals_[G]+"'");var S=q.showPosition?"Parse error on line "+
(m+1)+":\n"+q.showPosition()+"\nExpecting "+L.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(S,{text:q.match,token:this.terminals_[v]||v,line:q.yylineno,loc:t,expected:L})}if(z[0]instanceof Array&&1<z.length)throw Error("Parse Error: multiple actions possible at state: "+F+", token: "+v);switch(z[0]){case 1:d.push(v);f.push(q.yytext);g.push(q.yylloc);d.push(z[1]);v=null;n=q.yyleng;
l=q.yytext;m=q.yylineno;t=q.yylloc;break;case 2:L=this.productions_[z[1]][1];w.$=f[f.length-L];w._$={first_line:g[g.length-(L||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(L||1)].first_column,last_column:g[g.length-1].last_column};u&&(w._$.range=[g[g.length-(L||1)].range[0],g[g.length-1].range[1]]);F=this.performAction.apply(w,[l,n,m,r,z[1],f,g].concat(p));if("undefined"!==typeof F)return F;L&&(d=d.slice(0,-2*L),f=f.slice(0,-1*L),g=g.slice(0,-1*L));d.push(this.productions_[z[1]][0]);
f.push(w.$);g.push(w._$);z=h[d[d.length-2]][d[d.length-1]];d.push(z);break;case 3:return!0}}}};e=function(){return{EOF:1,parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,d);else throw Error(b);},setInput:function(b,d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&
(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;
b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-e[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[f[0],f[0]+
this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=
this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+d+"^"},test_match:function(b,d){var e;if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,
last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=e.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+
1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);
this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!f||b[0].length>f[0].length)){var f=b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==f)return f;if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?
(f=this.test_match(f,d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-
1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,d,e,f){switch(e){case 0:return this.begin("open_directive"),58;case 1:return this.begin("type_directive"),59;case 2:return this.popState(),
this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),61;case 4:return 60;case 5:return 5;case 11:return this.begin("ID"),16;case 12:return d.yytext=d.yytext.trim(),this.begin("ALIAS"),48;case 13:return this.popState(),this.popState(),this.begin("LINE"),18;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),27;case 16:return this.begin("LINE"),29;case 17:return this.begin("LINE"),30;case 18:return this.begin("LINE"),31;case 19:return this.begin("LINE"),
36;case 20:return this.begin("LINE"),33;case 21:return this.begin("LINE"),35;case 22:return this.popState(),19;case 23:return 28;case 24:return 43;case 25:return 44;case 26:return 39;case 27:return 37;case 28:return this.begin("ID"),22;case 29:return this.begin("ID"),23;case 30:return 25;case 31:return 7;case 32:return 21;case 33:return 42;case 34:return 5;case 35:return d.yytext=d.yytext.trim(),48;case 36:return 51;case 37:return 52;case 38:return 49;case 39:return 50;case 40:return 53;case 41:return 54;
case 42:return 55;case 43:return 56;case 44:return 57;case 45:return 46;case 46:return 47;case 47:return 5;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:participant\b)/i,/^(?:[^\->:\n,;]+?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,
/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\b)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:--\x3e>)/i,/^(?:->)/i,/^(?:--\x3e)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,
/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,12],inclusive:!1},ALIAS:{rules:[7,8,13,14],inclusive:!1},LINE:{rules:[7,8,22],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,15,16,17,18,19,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}}}();d.lexer=e;b.prototype=d;d.Parser=b;return new b}();d.parser=f;d.Parser=
f.Parser;d.parse=function(){return f.parse.apply(f,arguments)};d.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),g("./node_modules/webpack/buildin/module.js")(b))},"./src/diagrams/sequence/sequenceDb.js":function(b,d,g){g.r(d);
g.d(d,"parseDirective",function(){return w});g.d(d,"addActor",function(){return J});g.d(d,"addMessage",function(){return H});g.d(d,"addSignal",function(){return z});g.d(d,"getMessages",function(){return I});g.d(d,"getActors",function(){return O});g.d(d,"getActor",function(){return N});g.d(d,"getActorKeys",function(){return L});g.d(d,"getTitle",function(){return F});g.d(d,"getTitleWrapped",function(){return G});g.d(d,"enableSequenceNumbers",function(){return U});g.d(d,"showSequenceNumbers",function(){return R});
g.d(d,"setWrap",function(){return W});g.d(d,"autoWrap",function(){return T});g.d(d,"clear",function(){return ea});g.d(d,"parseMessage",function(){return Q});g.d(d,"LINETYPE",function(){return P});g.d(d,"ARROWTYPE",function(){return S});g.d(d,"PLACEMENT",function(){return ua});g.d(d,"addNote",function(){return V});g.d(d,"setTitle",function(){return ba});g.d(d,"apply",function(){return la});var e=g("./src/mermaidAPI.js"),f=g("./src/config.js"),m=g("./src/logger.js"),p=void 0,n={},q=[],r="",t=!1,v=!1,
u=!1,w=function(b,d,f){e["default"].parseDirective(this,b,d,f)},J=function(b,d,e){var f=n[b];if(!f||d!==f.name||null!=e){if(null==e||null==e.text)e={text:d,wrap:null};n[b]={name:d,description:e.text,wrap:void 0===e.wrap&&u||!!e.wrap,prevActor:p};p&&n[p]&&(n[p].nextActor=b);p=b}},H=function(b,d,e,f){q.push({from:b,to:d,message:e.text,wrap:void 0===e.wrap&&u||!!e.wrap,answer:f})},z=function(b,d){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{text:void 0,wrap:void 0},f=3<arguments.length?
arguments[3]:void 0;if(f===P.ACTIVE_END){var g=b.actor,h,l=0;for(h=0;h<q.length;h++)q[h].type===P.ACTIVE_START&&q[h].from.actor===g&&l++,q[h].type===P.ACTIVE_END&&q[h].from.actor===g&&l--;if(1>l)throw e=Error("Trying to inactivate an inactive participant ("+b.actor+")"),e.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},e;}q.push({from:b,to:d,message:e.text,wrap:void 0===e.wrap&&u||!!e.wrap,type:f});return!0},I=
function(){return q},O=function(){return n},N=function(b){return n[b]},L=function(){return Object.keys(n)},F=function(){return r},G=function(){return t},U=function(){v=!0},R=function(){return v},W=function(b){u=b},T=function(){return u},ea=function(){n={};q=[]},Q=function(b){b=b.trim();b={text:b.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:null!==b.match(/^[:]?wrap:/)?!0:null!==b.match(/^[:]?nowrap:/)?!1:void 0};m.log.debug("parseMessage:",b);return b},P={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,
SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},S={FILLED:0,OPEN:1},ua={LEFTOF:0,RIGHTOF:1,OVER:2},V=function(b,d,e){b=[].concat(b,b);q.push({from:b[0],to:b[1],message:e.text,wrap:void 0===e.wrap&&u||!!e.wrap,type:P.NOTE,placement:d})},ba=function(b){r=b.text;t=void 0===b.wrap&&u||!!b.wrap},la=function Aa(b){if(b instanceof
Array)b.forEach(function(b){Aa(b)});else switch(b.type){case "addActor":J(b.actor,b.actor,b.description);break;case "activeStart":z(b.actor,void 0,void 0,b.signalType);break;case "activeEnd":z(b.actor,void 0,void 0,b.signalType);break;case "addNote":V(b.actor,b.placement,b.text);break;case "addMessage":z(b.from,b.to,b.msg,b.signalType);break;case "loopStart":z(void 0,void 0,b.loopText,b.signalType);break;case "loopEnd":z(void 0,void 0,void 0,b.signalType);break;case "rectStart":z(void 0,void 0,b.color,
b.signalType);break;case "rectEnd":z(void 0,void 0,void 0,b.signalType);break;case "optStart":z(void 0,void 0,b.optText,b.signalType);break;case "optEnd":z(void 0,void 0,void 0,b.signalType);break;case "altStart":z(void 0,void 0,b.altText,b.signalType);break;case "else":z(void 0,void 0,b.altText,b.signalType);break;case "altEnd":z(void 0,void 0,void 0,b.signalType);break;case "setTitle":ba(b.text);break;case "parStart":z(void 0,void 0,b.parText,b.signalType);break;case "and":z(void 0,void 0,b.parText,
b.signalType);break;case "parEnd":z(void 0,void 0,void 0,b.signalType)}};d["default"]={addActor:J,addMessage:H,addSignal:z,autoWrap:T,setWrap:W,enableSequenceNumbers:U,showSequenceNumbers:R,getMessages:I,getActors:O,getActor:N,getActorKeys:L,getTitle:F,parseDirective:w,getConfig:function(){return f.getConfig().sequence},getTitleWrapped:G,clear:ea,parseMessage:Q,LINETYPE:P,ARROWTYPE:S,PLACEMENT:ua,addNote:V,setTitle:ba,apply:la}},"./src/diagrams/sequence/sequenceRenderer.js":function(b,d,g){function e(b,
d,e,f,g){w.bumpVerticalPos(e);e=f;d.id&&d.message&&b[d.id]&&(b=b[d.id].width,e=H(u),d.message=v["default"].wrapLabel("[".concat(d.message,"]"),b-2*u.wrapPadding,e),d.width=b,d.wrap=!0,b=v["default"].calculateTextDimensions(d.message,e),b=Math.max(b.height,u.labelBoxHeight),e=f+b,p.log.debug("".concat(b," - ").concat(d.message)));g(d);w.bumpVerticalPos(e)}g.r(d);g.d(d,"bounds",function(){return w});g.d(d,"drawActors",function(){return N});g.d(d,"setConf",function(){return L});g.d(d,"draw",function(){return U});
var f=g("d3"),m=g("./src/diagrams/sequence/svgDraw.js"),p=g("./src/logger.js"),n=g("./src/diagrams/sequence/parser/sequenceDiagram.jison"),q=g("./src/diagrams/common/common.js"),r=g("./src/diagrams/sequence/sequenceDb.js"),t=g("./src/config.js"),v=g("./src/utils.js");n.parser.yy=r["default"];var u={},w={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map(function(b){return b.height||
0}))+(0===this.loops.length?0:this.loops.map(function(b){return b.height||0}).reduce(function(b,d){return b+d}))+(0===this.messages.length?0:this.messages.map(function(b){return b.height||0}).reduce(function(b,d){return b+d}))+(0===this.notes.length?0:this.notes.map(function(b){return b.height||0}).reduce(function(b,d){return b+d}))},clear:function(){this.actors=[];this.loops=[];this.messages=[];this.notes=[]},addActor:function(b){this.actors.push(b)},addLoop:function(b){this.loops.push(b)},addMessage:function(b){this.messages.push(b)},
addNote:function(b){this.notes.push(b)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[];this.activations=[];this.models.clear();this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0};this.verticalPos=0;L(n.parser.yy.getConfig())},
updateVal:function(b,d,e,f){b[d]="undefined"===typeof b[d]?e:f(e,b[d])},updateBounds:function(b,d,e,f){function g(g){return function(m){l++;var n=h.sequenceItems.length-l+1;h.updateVal(m,"starty",d-n*u.boxMargin,Math.min);h.updateVal(m,"stopy",f+n*u.boxMargin,Math.max);h.updateVal(w.data,"startx",b-n*u.boxMargin,Math.min);h.updateVal(w.data,"stopx",e+n*u.boxMargin,Math.max);"activation"!==g&&(h.updateVal(m,"startx",b-n*u.boxMargin,Math.min),h.updateVal(m,"stopx",e+n*u.boxMargin,Math.max),h.updateVal(w.data,
"starty",d-n*u.boxMargin,Math.min),h.updateVal(w.data,"stopy",f+n*u.boxMargin,Math.max))}}var h=this,l=0;this.sequenceItems.forEach(g());this.activations.forEach(g("activation"))},insert:function(b,d,e,f){var g=Math.min(b,e);b=Math.max(b,e);e=Math.min(d,f);d=Math.max(d,f);this.updateVal(w.data,"startx",g,Math.min);this.updateVal(w.data,"starty",e,Math.min);this.updateVal(w.data,"stopx",b,Math.max);this.updateVal(w.data,"stopy",d,Math.max);this.updateBounds(g,e,b,d)},newActivation:function(b,d,e){e=
e[b.from.actor];var f=F(b.from.actor).length||0;e=e.x+e.width/2+(f-1)*u.activationWidth/2;this.activations.push({startx:e,starty:this.verticalPos+2,stopx:e+u.activationWidth,stopy:void 0,actor:b.from.actor,anchored:m["default"].anchorElement(d)})},endActivation:function(b){b=this.activations.map(function(b){return b.actor}).lastIndexOf(b.from.actor);return this.activations.splice(b,1)[0]},createLoop:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0};
return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:b.message,wrap:b.wrap,width:b.width,height:0,fill:1<arguments.length?arguments[1]:void 0}},newLoop:function(){this.sequenceItems.push(this.createLoop(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0},1<arguments.length?arguments[1]:void 0))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(b){var d=this.sequenceItems.pop();d.sections=d.sections||[];d.sectionTitles=
d.sectionTitles||[];d.sections.push({y:w.getVerticalPos(),height:0});d.sectionTitles.push(b);this.sequenceItems.push(d)},bumpVerticalPos:function(b){this.verticalPos+=b;this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},J=function(b,d){w.bumpVerticalPos(u.boxMargin);d.height=u.boxMargin;d.starty=w.getVerticalPos();var e=m["default"].getNoteRect();e.x=d.startx;e.y=d.starty;e.width=d.width||u.width;
e.class="note";var f=b.append("g");b=m["default"].drawRect(f,e);var g=m["default"].getTextObj();g.x=d.startx;g.y=d.starty;g.width=e.width;g.dy="1em";g.text=d.message;g.class="noteText";g.fontFamily=u.noteFontFamily;g.fontSize=u.noteFontSize;g.fontWeight=u.noteFontWeight;g.anchor=u.noteAlign;g.textMargin=u.noteMargin;g.valign=u.noteAlign;f=Object(m.drawText)(f,g);f=Math.round(f.map(function(b){return(b._groups||b)[0][0].getBBox().height}).reduce(function(b,d){return b+d}));b.attr("height",f+2*u.noteMargin);
d.height+=f+2*u.noteMargin;w.bumpVerticalPos(f+2*u.noteMargin);d.stopy=d.starty+f+2*u.noteMargin;d.stopx=d.startx+e.width;w.insert(d.startx,d.starty,d.stopx,d.stopy);w.models.addNote(d)},H=function(b){return{fontFamily:b.messageFontFamily,fontSize:b.messageFontSize,fontWeight:b.messageFontWeight}},z=function(b){return{fontFamily:b.noteFontFamily,fontSize:b.noteFontSize,fontWeight:b.noteFontWeight}},I=function(b){return{fontFamily:b.actorFontFamily,fontSize:b.actorFontSize,fontWeight:b.actorFontWeight}},
O=function(b,d){w.bumpVerticalPos(10);var e=d.startx,f=d.stopx,g=d.starty,h=d.message,l=d.type,p=d.sequenceIndex,t=q["default"].splitBreaks(h).length,F=v["default"].calculateTextDimensions(h,H(u));t=F.height/t;d.height+=t;w.bumpVerticalPos(t);t=m["default"].getTextObj();t.x=e;t.y=g+10;t.width=f-e;t.class="messageText";t.dy="1em";t.text=h;t.fontFamily=u.messageFontFamily;t.fontSize=u.messageFontSize;t.fontWeight=u.messageFontWeight;t.anchor=u.messageAlign;t.valign=u.messageAlign;t.textMargin=u.wrapPadding;
t.tspan=!1;Object(m.drawText)(b,t);g=F.height-10;t=F.width;e===f?(h=w.getVerticalPos()+g,u.rightAngles?F=b.append("path").attr("d","M  ".concat(e,",").concat(h," H ").concat(e+Math.max(u.width/2,t/2)," V ").concat(h+25," H ").concat(e)):(g+=u.boxMargin,h=w.getVerticalPos()+g,F=b.append("path").attr("d","M "+e+","+h+" C "+(e+60)+","+(h-10)+" "+(e+60)+","+(h+30)+" "+e+","+(h+20))),g+=30,t=Math.max(t/2,u.width/2),w.insert(e-t,w.getVerticalPos()-10+g,f+t,w.getVerticalPos()+30+g)):(g+=u.boxMargin,h=w.getVerticalPos()+
g,F=b.append("line"),F.attr("x1",e),F.attr("y1",h),F.attr("x2",f),F.attr("y2",h),w.insert(e,h-10,f,h));l===n.parser.yy.LINETYPE.DOTTED||l===n.parser.yy.LINETYPE.DOTTED_CROSS||l===n.parser.yy.LINETYPE.DOTTED_POINT||l===n.parser.yy.LINETYPE.DOTTED_OPEN?(F.style("stroke-dasharray","3, 3"),F.attr("class","messageLine1")):F.attr("class","messageLine0");f="";u.arrowMarkerAbsolute&&(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,f=f.replace(/\(/g,"\\("),
f=f.replace(/\)/g,"\\)"));F.attr("stroke-width",2);F.attr("stroke","none");F.style("fill","none");l!==n.parser.yy.LINETYPE.SOLID&&l!==n.parser.yy.LINETYPE.DOTTED||F.attr("marker-end","url("+f+"#arrowhead)");l!==n.parser.yy.LINETYPE.SOLID_POINT&&l!==n.parser.yy.LINETYPE.DOTTED_POINT||F.attr("marker-end","url("+f+"#filled-head)");l!==n.parser.yy.LINETYPE.SOLID_CROSS&&l!==n.parser.yy.LINETYPE.DOTTED_CROSS||F.attr("marker-end","url("+f+"#crosshead)");if(r["default"].showSequenceNumbers()||u.showSequenceNumbers)F.attr("marker-start",
"url("+f+"#sequencenumber)"),b.append("text").attr("x",e).attr("y",h+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("textLength","16px").attr("class","sequenceNumber").text(p);w.bumpVerticalPos(g);d.height+=g;d.stopy=d.starty+d.height;w.insert(d.fromBounds,d.starty,d.toBounds,d.stopy)},N=function(b,d,e,f){for(var g=0,h=0,l=0;l<e.length;l++){var n=d[e[l]];n.width=n.width||u.width;n.height=Math.max(n.height||u.height,u.height);n.margin=n.margin||u.actorMargin;
n.x=g+h;n.y=f;m["default"].drawActor(b,n,u);w.insert(n.x,f,n.x+n.width,n.height);g+=n.width;h+=n.margin;w.models.addActor(n)}w.bumpVerticalPos(u.height)},L=function(b){Object(v.assignWithDepth)(u,b);b.fontFamily&&(u.actorFontFamily=u.noteFontFamily=u.messageFontFamily=b.fontFamily);b.fontSize&&(u.actorFontSize=u.noteFontSize=u.messageFontSize=b.fontSize);b.fontWeight&&(u.actorFontWeight=u.noteFontWeight=u.messageFontWeight=b.fontWeight)},F=function(b){return w.activations.filter(function(d){return d.actor===
b})},G=function(b,d){d=d[b];var e=F(b);b=e.reduce(function(b,d){return Math.min(b,d.startx)},d.x+d.width/2);d=e.reduce(function(b,d){return Math.max(b,d.stopx)},d.x+d.width/2);return[b,d]},U=function(b,d){function g(b,d){var e=w.endActivation(b);e.starty+18>d&&(e.starty=d-6,d+=12);m["default"].drawActivation(h,e,d,u,F(b.from.actor).length);w.insert(e.startx,d-10,e.stopx,d)}u=t.getConfig().sequence;n.parser.yy.clear();n.parser.yy.setWrap(u.wrap);n.parser.parse(b+"\n");w.init();p.log.debug("C:".concat(JSON.stringify(u,
null,2)));var h=Object(f.select)('[id="'.concat(d,'"]')),l=n.parser.yy.getActors(),q=n.parser.yy.getActorKeys(),r=n.parser.yy.getMessages();b=n.parser.yy.getTitle();var z=R(l,r);u.height=W(l,z);N(h,l,q,0);var G=Q(r,l);m["default"].insertArrowHead(h);m["default"].insertArrowCrossHead(h);m["default"].insertArrowFilledHead(h);m["default"].insertSequenceNumber(h);var L=1;r.forEach(function(b){switch(b.type){case n.parser.yy.LINETYPE.NOTE:var d=b.noteModel;J(h,d);break;case n.parser.yy.LINETYPE.ACTIVE_START:w.newActivation(b,
h,l);break;case n.parser.yy.LINETYPE.ACTIVE_END:g(b,w.getVerticalPos());break;case n.parser.yy.LINETYPE.LOOP_START:e(G,b,u.boxMargin,u.boxMargin+u.boxTextMargin,function(b){return w.newLoop(b)});break;case n.parser.yy.LINETYPE.LOOP_END:d=w.endLoop();m["default"].drawLoop(h,d,"loop",u);w.bumpVerticalPos(d.stopy-w.getVerticalPos());w.models.addLoop(d);break;case n.parser.yy.LINETYPE.RECT_START:e(G,b,u.boxMargin,u.boxMargin,function(b){return w.newLoop(void 0,b.message)});break;case n.parser.yy.LINETYPE.RECT_END:d=
w.endLoop();m["default"].drawBackgroundRect(h,d);w.models.addLoop(d);w.bumpVerticalPos(d.stopy-w.getVerticalPos());break;case n.parser.yy.LINETYPE.OPT_START:e(G,b,u.boxMargin,u.boxMargin+u.boxTextMargin,function(b){return w.newLoop(b)});break;case n.parser.yy.LINETYPE.OPT_END:d=w.endLoop();m["default"].drawLoop(h,d,"opt",u);w.bumpVerticalPos(d.stopy-w.getVerticalPos());w.models.addLoop(d);break;case n.parser.yy.LINETYPE.ALT_START:e(G,b,u.boxMargin,u.boxMargin+u.boxTextMargin,function(b){return w.newLoop(b)});
break;case n.parser.yy.LINETYPE.ALT_ELSE:e(G,b,u.boxMargin+u.boxTextMargin,u.boxMargin,function(b){return w.addSectionToLoop(b)});break;case n.parser.yy.LINETYPE.ALT_END:d=w.endLoop();m["default"].drawLoop(h,d,"alt",u);w.bumpVerticalPos(d.stopy-w.getVerticalPos());w.models.addLoop(d);break;case n.parser.yy.LINETYPE.PAR_START:e(G,b,u.boxMargin,u.boxMargin+u.boxTextMargin,function(b){return w.newLoop(b)});break;case n.parser.yy.LINETYPE.PAR_AND:e(G,b,u.boxMargin+u.boxTextMargin,u.boxMargin,function(b){return w.addSectionToLoop(b)});
break;case n.parser.yy.LINETYPE.PAR_END:d=w.endLoop();m["default"].drawLoop(h,d,"par",u);w.bumpVerticalPos(d.stopy-w.getVerticalPos());w.models.addLoop(d);break;default:try{d=b.msgModel,d.starty=w.getVerticalPos(),d.sequenceIndex=L,O(h,d),w.models.addMessage(d)}catch(Da){p.log.error("error while drawing message",Da)}}[n.parser.yy.LINETYPE.SOLID_OPEN,n.parser.yy.LINETYPE.DOTTED_OPEN,n.parser.yy.LINETYPE.SOLID,n.parser.yy.LINETYPE.DOTTED,n.parser.yy.LINETYPE.SOLID_CROSS,n.parser.yy.LINETYPE.DOTTED_CROSS,
n.parser.yy.LINETYPE.SOLID_POINT,n.parser.yy.LINETYPE.DOTTED_POINT].includes(b.type)&&L++});u.mirrorActors&&(w.bumpVerticalPos(2*u.boxMargin),N(h,l,q,w.getVerticalPos()));q=w.getBounds().bounds;p.log.debug("For line height fix Querying: #"+d+" .actor-line");Object(f.selectAll)("#"+d+" .actor-line").attr("y2",q.stopy);d=q.stopy-q.starty+2*u.diagramMarginY;u.mirrorActors&&(d=d-u.boxMargin+u.bottomMarginAdj);r=q.stopx-q.startx+2*u.diagramMarginX;b&&h.append("text").text(b).attr("x",(q.stopx-q.startx)/
2-2*u.diagramMarginX).attr("y",-25);Object(v.configureSvgSize)(h,d,r,u.useMaxWidth);b=b?40:0;h.attr("viewBox",q.startx-u.diagramMarginX+" -"+(u.diagramMarginY+b)+" "+r+" "+(d+b));p.log.debug("models:",w.models)},R=function(b,d){var e={};d.forEach(function(d){if(b[d.to]&&b[d.from]){var f=b[d.to];if((d.placement!==n.parser.yy.PLACEMENT.LEFTOF||f.prevActor)&&(d.placement!==n.parser.yy.PLACEMENT.RIGHTOF||f.nextActor)){var g=void 0!==d.placement,h=!g;g=g?z(u):H(u);var l=d.wrap?v["default"].wrapLabel(d.message,
u.width-2*u.wrapPadding,g):d.message;g=v["default"].calculateTextDimensions(l,g).width+2*u.wrapPadding;h&&d.from===f.nextActor?e[d.to]=Math.max(e[d.to]||0,g):h&&d.from===f.prevActor?e[d.from]=Math.max(e[d.from]||0,g):h&&d.from===d.to?(e[d.from]=Math.max(e[d.from]||0,g/2),e[d.to]=Math.max(e[d.to]||0,g/2)):d.placement===n.parser.yy.PLACEMENT.RIGHTOF?e[d.from]=Math.max(e[d.from]||0,g):d.placement===n.parser.yy.PLACEMENT.LEFTOF?e[f.prevActor]=Math.max(e[f.prevActor]||0,g):d.placement===n.parser.yy.PLACEMENT.OVER&&
(f.prevActor&&(e[f.prevActor]=Math.max(e[f.prevActor]||0,g/2)),f.nextActor&&(e[d.from]=Math.max(e[d.from]||0,g/2)))}}});p.log.debug("maxMessageWidthPerActor:",e);return e},W=function(b,d){var e=0;Object.keys(b).forEach(function(d){d=b[d];d.wrap&&(d.description=v["default"].wrapLabel(d.description,u.width-2*u.wrapPadding,I(u)));var f=v["default"].calculateTextDimensions(d.description,I(u));d.width=d.wrap?u.width:Math.max(u.width,f.width+2*u.wrapPadding);d.height=d.wrap?Math.max(f.height,u.height):
u.height;e=Math.max(e,d.height)});for(var f in d){var g=b[f];if(g){var h=b[g.nextActor];h&&(g.margin=Math.max(d[f]+u.actorMargin-g.width/2-h.width/2,u.actorMargin))}}return Math.max(e,u.height)},T=function(b,d){var e=d[b.from].x,f=d[b.to].x,g=b.wrap&&b.message,h=v["default"].calculateTextDimensions(g?v["default"].wrapLabel(b.message,u.width,z(u)):b.message,z(u)),l={width:g?u.width:Math.max(u.width,h.width+2*u.noteMargin),height:0,startx:d[b.from].x,stopx:0,starty:0,stopy:0,message:b.message};b.placement===
n.parser.yy.PLACEMENT.RIGHTOF?(l.width=g?Math.max(u.width,h.width):Math.max(d[b.from].width/2+d[b.to].width/2,h.width+2*u.noteMargin),l.startx=e+(d[b.from].width+u.actorMargin)/2):b.placement===n.parser.yy.PLACEMENT.LEFTOF?(l.width=g?Math.max(u.width,h.width+2*u.noteMargin):Math.max(d[b.from].width/2+d[b.to].width/2,h.width+2*u.noteMargin),l.startx=e-l.width+(d[b.from].width-u.actorMargin)/2):b.to===b.from?(h=v["default"].calculateTextDimensions(g?v["default"].wrapLabel(b.message,Math.max(u.width,
d[b.from].width),z(u)):b.message,z(u)),l.width=g?Math.max(u.width,d[b.from].width):Math.max(d[b.from].width,u.width,h.width+2*u.noteMargin),l.startx=e+(d[b.from].width-l.width)/2):(l.width=Math.abs(e+d[b.from].width/2-(f+d[b.to].width/2))+u.actorMargin,l.startx=e<f?e+d[b.from].width/2-u.actorMargin/2:f+d[b.to].width/2-u.actorMargin/2);g&&(l.message=v["default"].wrapLabel(b.message,l.width-2*u.wrapPadding,z(u)));p.log.debug("NM:[".concat(l.startx,",").concat(l.stopx,",").concat(l.starty,",").concat(l.stopy,
":").concat(l.width,",").concat(l.height,"=").concat(b.message,"]"));return l},ea=function(b,d){var e=!1;[n.parser.yy.LINETYPE.SOLID_OPEN,n.parser.yy.LINETYPE.DOTTED_OPEN,n.parser.yy.LINETYPE.SOLID,n.parser.yy.LINETYPE.DOTTED,n.parser.yy.LINETYPE.SOLID_CROSS,n.parser.yy.LINETYPE.DOTTED_CROSS,n.parser.yy.LINETYPE.SOLID_POINT,n.parser.yy.LINETYPE.DOTTED_POINT].includes(b.type)&&(e=!0);if(!e)return{};e=G(b.from,d);d=G(b.to,d);var f=e[0]<=d[0]?1:0,g=e[0]<d[0]?0:1,h=e.concat(d),l=Math.abs(d[g]-e[f]);b.wrap&&
b.message&&(b.message=v["default"].wrapLabel(b.message,Math.max(l+2*u.wrapPadding,u.width),H(u)));var m=v["default"].calculateTextDimensions(b.message,H(u));return{width:Math.max(b.wrap?0:m.width+2*u.wrapPadding,l+2*u.wrapPadding,u.width),height:0,startx:e[f],stopx:d[g],starty:0,stopy:0,message:b.message,type:b.type,wrap:b.wrap,fromBounds:Math.min.apply(null,h),toBounds:Math.max.apply(null,h)}},Q=function(b,d){var e={},f=[],g,h,l;b.forEach(function(b){b.id=v["default"].random({length:10});switch(b.type){case n.parser.yy.LINETYPE.LOOP_START:case n.parser.yy.LINETYPE.ALT_START:case n.parser.yy.LINETYPE.OPT_START:case n.parser.yy.LINETYPE.PAR_START:f.push({id:b.id,
msg:b.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.parser.yy.LINETYPE.ALT_ELSE:case n.parser.yy.LINETYPE.PAR_AND:b.message&&(g=f.pop(),e[g.id]=g,e[b.id]=g,f.push(g));break;case n.parser.yy.LINETYPE.LOOP_END:case n.parser.yy.LINETYPE.ALT_END:case n.parser.yy.LINETYPE.OPT_END:case n.parser.yy.LINETYPE.PAR_END:g=f.pop();e[g.id]=g;break;case n.parser.yy.LINETYPE.ACTIVE_START:var m=d[b.from?b.from.actor:b.to.actor],p=F(b.from?b.from.actor:b.to.actor).length;m=
m.x+m.width/2+(p-1)*u.activationWidth/2;w.activations.push({startx:m,stopx:m+u.activationWidth,actor:b.from.actor,enabled:!0});break;case n.parser.yy.LINETYPE.ACTIVE_END:m=w.activations.map(function(b){return b.actor}).lastIndexOf(b.from.actor),delete w.activations.splice(m,1)[0]}void 0!==b.placement?(h=T(b,d),b.noteModel=h,f.forEach(function(b){g=b;g.from=Math.min(g.from,h.startx);g.to=Math.max(g.to,h.startx+h.width);g.width=Math.max(g.width,Math.abs(g.from-g.to))-u.labelBoxWidth})):(l=ea(b,d),b.msgModel=
l,l.startx&&l.stopx&&0<f.length&&f.forEach(function(e){g=e;if(l.startx===l.stopx){e=d[b.from];var f=d[b.to];g.from=Math.min(e.x-l.width/2,e.x-e.width/2,g.from);g.to=Math.max(f.x+l.width/2,f.x+e.width/2,g.to);g.width=Math.max(g.width,Math.abs(g.to-g.from))-u.labelBoxWidth}else g.from=Math.min(l.startx,g.from),g.to=Math.max(l.stopx,g.to),g.width=Math.max(g.width,l.width)-u.labelBoxWidth}))});w.activations=[];p.log.debug("Loop type widths:",e);return e};d["default"]={bounds:w,drawActors:N,setConf:L,
draw:U}},"./src/diagrams/sequence/styles.js":function(b,d,g){g.r(d);d["default"]=function(b){return".actor {\n    stroke: ".concat(b.actorBorder,";\n    fill: ").concat(b.actorBkg,";\n  }\n\n  text.actor > tspan {\n    fill: ").concat(b.actorTextColor,";\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ").concat(b.actorLineColor,";\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ").concat(b.signalColor,";\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(b.signalColor,
";\n  }\n\n  #arrowhead path {\n    fill: ").concat(b.signalColor,";\n    stroke: ").concat(b.signalColor,";\n  }\n\n  .sequenceNumber {\n    fill: ").concat(b.sequenceNumberColor,";\n  }\n\n  #sequencenumber {\n    fill: ").concat(b.signalColor,";\n  }\n\n  #crosshead path {\n    fill: ").concat(b.signalColor,";\n    stroke: ").concat(b.signalColor,";\n  }\n\n  .messageText {\n    fill: ").concat(b.signalTextColor,";\n    stroke: ").concat(b.signalTextColor,";\n  }\n\n  .labelBox {\n    stroke: ").concat(b.labelBoxBorderColor,
";\n    fill: ").concat(b.labelBoxBkgColor,";\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ").concat(b.labelTextColor,";\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ").concat(b.loopTextColor,";\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(b.labelBoxBorderColor,";\n    fill: ").concat(b.labelBoxBorderColor,";\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ").concat(b.noteBorderColor,
";\n    fill: ").concat(b.noteBkgColor,";\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ").concat(b.noteTextColor,";\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ").concat(b.activationBkgColor,";\n    stroke: ").concat(b.activationBorderColor,";\n  }\n\n  .activation1 {\n    fill: ").concat(b.activationBkgColor,";\n    stroke: ").concat(b.activationBorderColor,";\n  }\n\n  .activation2 {\n    fill: ").concat(b.activationBkgColor,";\n    stroke: ").concat(b.activationBorderColor,";\n  }\n")}},
"./src/diagrams/sequence/svgDraw.js":function(b,d,g){g.r(d);g.d(d,"drawRect",function(){return f});g.d(d,"drawText",function(){return m});g.d(d,"drawLabel",function(){return p});g.d(d,"drawActor",function(){return q});g.d(d,"anchorElement",function(){return r});g.d(d,"drawActivation",function(){return t});g.d(d,"drawLoop",function(){return v});g.d(d,"drawBackgroundRect",function(){return u});g.d(d,"insertArrowHead",function(){return w});g.d(d,"insertArrowFilledHead",function(){return J});g.d(d,"insertSequenceNumber",
function(){return H});g.d(d,"insertArrowCrossHead",function(){return z});g.d(d,"getTextObj",function(){return I});g.d(d,"getNoteRect",function(){return O});var e=g("./src/diagrams/common/common.js"),f=function(b,d){b=b.append("rect");b.attr("x",d.x);b.attr("y",d.y);b.attr("fill",d.fill);b.attr("stroke",d.stroke);b.attr("width",d.width);b.attr("height",d.height);b.attr("rx",d.rx);b.attr("ry",d.ry);"undefined"!==typeof d.class&&b.attr("class",d.class);return b},m=function(b,d){var f=0,g=0,h=d.text.split(e["default"].lineBreakRegex),
l=[],m=0,n=function(){return d.y};if("undefined"!==typeof d.valign&&"undefined"!==typeof d.textMargin&&0<d.textMargin)switch(d.valign){case "top":case "start":n=function(){return Math.round(d.y+d.textMargin)};break;case "middle":case "center":n=function(){return Math.round(d.y+(f+g+d.textMargin)/2)};break;case "bottom":case "end":n=function(){return Math.round(d.y+(f+g+2*d.textMargin)-d.textMargin)}}if("undefined"!==typeof d.anchor&&"undefined"!==typeof d.textMargin&&"undefined"!==typeof d.width)switch(d.anchor){case "left":case "start":d.x=
Math.round(d.x+d.textMargin);d.anchor="start";d.dominantBaseline="text-after-edge";d.alignmentBaseline="middle";break;case "middle":case "center":d.x=Math.round(d.x+d.width/2);d.anchor="middle";d.dominantBaseline="middle";d.alignmentBaseline="middle";break;case "right":case "end":d.x=Math.round(d.x+d.width-d.textMargin),d.anchor="end",d.dominantBaseline="text-before-edge",d.alignmentBaseline="middle"}for(var p=0;p<h.length;p++){var q=h[p];"undefined"!==typeof d.textMargin&&0===d.textMargin&&"undefined"!==
typeof d.fontSize&&(m=p*d.fontSize);var r=b.append("text");r.attr("x",d.x);r.attr("y",n());"undefined"!==typeof d.anchor&&r.attr("text-anchor",d.anchor).attr("dominant-baseline",d.dominantBaseline).attr("alignment-baseline",d.alignmentBaseline);"undefined"!==typeof d.fontFamily&&r.style("font-family",d.fontFamily);"undefined"!==typeof d.fontSize&&r.style("font-size",d.fontSize);"undefined"!==typeof d.fontWeight&&r.style("font-weight",d.fontWeight);"undefined"!==typeof d.fill&&r.attr("fill",d.fill);
"undefined"!==typeof d.class&&r.attr("class",d.class);"undefined"!==typeof d.dy?r.attr("dy",d.dy):0!==m&&r.attr("dy",m);if(d.tspan){var t=r.append("tspan");t.attr("x",d.x);"undefined"!==typeof d.fill&&t.attr("fill",d.fill);t.text(q)}else r.text(q);"undefined"!==typeof d.valign&&"undefined"!==typeof d.textMargin&&0<d.textMargin&&(f=g+=(r._groups||r)[0][0].getBBox().height);l.push(r)}return l},p=function(b,d){var e=b.append("polygon");e.attr("points",function(b,d,e,f,g){return b+","+d+" "+(b+e)+","+
d+" "+(b+e)+","+(d+f-g)+" "+(b+e-1.2*g)+","+(d+f)+" "+b+","+(d+f)}(d.x,d.y,d.width,d.height,7));e.attr("class","labelBox");d.y+=d.height/2;m(b,d);return e},n=-1,q=function(b,d,e){var g=d.x+d.width/2;b=b.append("g");0===d.y&&(n++,b.append("line").attr("id","actor"+n).attr("x1",g).attr("y1",5).attr("x2",g).attr("y2",2E3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));g=O();g.x=d.x;g.y=d.y;g.fill="#eaeaea";g.width=d.width;g.height=d.height;g.class="actor";g.rx=3;g.ry=
3;f(b,g);N(e)(d.description,b,g.x,g.y,g.width,g.height,{class:"actor"},e)},r=function(b){return b.append("g")},t=function(b,d,e,g,h){b=O();g=d.anchored;b.x=d.startx;b.y=d.starty;b.class="activation"+h%3;b.width=d.stopx-d.startx;b.height=e-d.starty;f(g,b)},v=function(b,d,e,f){var g=f.boxMargin,h=f.boxTextMargin,l=f.labelBoxHeight,n=f.labelBoxWidth,q=f.messageFontFamily,r=f.messageFontSize,t=f.messageFontWeight,v=b.append("g"),u=function(b,d,e,f){return v.append("line").attr("x1",b).attr("y1",d).attr("x2",
e).attr("y2",f).attr("class","loopLine")};u(d.startx,d.starty,d.stopx,d.starty);u(d.stopx,d.starty,d.stopx,d.stopy);u(d.startx,d.stopy,d.stopx,d.stopy);u(d.startx,d.starty,d.startx,d.stopy);"undefined"!==typeof d.sections&&d.sections.forEach(function(b){u(d.startx,b.y,d.stopx,b.y).style("stroke-dasharray","3, 3")});var z=I();z.text=e;z.x=d.startx;z.y=d.starty;z.fontFamily=q;z.fontSize=r;z.fontWeight=t;z.anchor="middle";z.valign="middle";z.tspan=!1;z.width=n||50;z.height=l||20;z.textMargin=h;z.class=
"labelText";p(v,z);z=I();z.text=d.title;z.x=d.startx+n/2+(d.stopx-d.startx)/2;z.y=d.starty+g+h;z.anchor="middle";z.valign="middle";z.textMargin=h;z.class="loopText";z.fontFamily=q;z.fontSize=r;z.fontWeight=t;z.wrap=!0;var w=m(v,z);"undefined"!==typeof d.sectionTitles&&d.sectionTitles.forEach(function(b,e){b.message&&(z.text=b.message,z.x=d.startx+(d.stopx-d.startx)/2,z.y=d.sections[e].y+g+h,z.class="loopText",z.anchor="middle",z.valign="middle",z.tspan=!1,z.fontFamily=q,z.fontSize=r,z.fontWeight=
t,z.wrap=d.wrap,w=m(v,z),b=Math.round(w.map(function(b){return(b._groups||b)[0][0].getBBox().height}).reduce(function(b,d){return b+d})),d.sections[e].height+=b-(g+h))});d.height=Math.round(d.stopy-d.starty);return v},u=function(b,d){f(b,{x:d.startx,y:d.starty,width:d.stopx-d.startx,height:d.stopy-d.starty,fill:d.fill,class:"rect"}).lower()},w=function(b){b.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",
12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},J=function(b){b.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},H=function(b){b.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",
15).attr("cy",15).attr("r",6)},z=function(b){b=b.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);b.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z");b.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},
I=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},O=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},N=function(){function b(b,d,e,f,h,l,m){b=d.append("text").attr("x",e+h/2).attr("y",f+l/2+5).style("text-anchor","middle").text(b);g(b,m)}function d(b,d,f,h,l,m,n,p){var q=p.actorFontSize,r=p.actorFontFamily;p=p.actorFontWeight;b=b.split(e["default"].lineBreakRegex);
for(var t=0;t<b.length;t++){var v=t*q-q*(b.length-1)/2,u=d.append("text").attr("x",f+l/2).attr("y",h).style("text-anchor","middle").style("font-size",q).style("font-weight",p).style("font-family",r);u.append("tspan").attr("x",f+l/2).attr("dy",v).text(b[t]);u.attr("y",h+m/2).attr("dominant-baseline","central").attr("alignment-baseline","central");g(u,n)}}function f(b,e,f,h,l,m,n,p){e=e.append("switch");var q=e.append("foreignObject").attr("x",f).attr("y",h).attr("width",l).attr("height",m).append("div").style("display",
"table").style("height","100%").style("width","100%");q.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(b);d(b,e,f,h,l,m,n,p);g(q,n)}function g(b,d){for(var e in d)d.hasOwnProperty(e)&&b.attr(e,d[e])}return function(e){return"fo"===e.textPlacement?f:"old"===e.textPlacement?b:d}}();d["default"]={drawRect:f,drawText:m,drawLabel:p,drawActor:q,anchorElement:r,drawActivation:t,drawLoop:v,drawBackgroundRect:u,insertArrowHead:w,insertArrowFilledHead:J,
insertSequenceNumber:H,insertArrowCrossHead:z,getTextObj:I,getNoteRect:O}},"./src/diagrams/state/id-cache.js":function(b,d,g){g.r(d);g.d(d,"set",function(){return f});g.d(d,"get",function(){return m});g.d(d,"keys",function(){return p});g.d(d,"size",function(){return n});var e={},f=function(b,d){e[b]=d},m=function(b){return e[b]},p=function(){return Object.keys(e)},n=function(){return p().length};d["default"]={get:m,set:f,keys:p,size:n}},"./src/diagrams/state/parser/stateDiagram.jison":function(b,
d,g){(function(b,e){var f=function(){function b(){this.yy={}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},e=[1,2],f=[1,3],g=[1,5],h=[1,7],l=[2,5],m=[1,15],J=[1,17],H=[1,19],z=[1,20],I=[1,21],O=[1,22],N=[1,28],L=[1,23],F=[1,24],G=[1,25],U=[1,26],R=[1,29],W=[1,32],T=[1,4,5,14,15,17,19,20,22,23,24,25,26,36,39],ea=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,36,39],Q=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,36,39],P=[4,5,14,15,17,19,20,22,23,24,25,26,36,39];d={trace:function(){},
yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"--\x3e":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CONCURRENT:25,note:26,notePosition:27,NOTE_TEXT:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,eol:34,";":35,EDGE_STATE:36,left_of:37,right_of:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,
$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"--\x3e",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CONCURRENT",26:"note",28:"NOTE_TEXT",32:":",35:";",36:"EDGE_STATE",37:"left_of",38:"right_of",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],
[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[6,3],[6,5],[34,1],[34,1],[11,1],[11,1],[27,1],[27,1],[29,1],[30,1],[33,1],[31,1]],performAction:function(b,d,e,f,g,h,l){b=h.length-1;switch(g){case 4:return f.setRootDoc(h[b]),h[b];case 5:this.$=[];break;case 6:"nl"!=h[b]&&(h[b-1].push(h[b]),this.$=h[b-1]);break;case 7:case 8:this.$=h[b];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:h[b],type:"default",description:""};break;case 11:this.$=
{stmt:"state",id:h[b-1],type:"default",description:f.trimColon(h[b])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:h[b-2],type:"default",description:""},state2:{stmt:"state",id:h[b],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:h[b-3],type:"default",description:""},state2:{stmt:"state",id:h[b-1],type:"default",description:""},description:h[b].substr(1).trim()};break;case 17:this.$={stmt:"state",id:h[b-3],type:"default",description:"",
doc:h[b-1]};break;case 18:f=h[b];g=h[b-2].trim();h[b].match(":")&&(h=h[b].split(":"),f=h[0],g=[g,h[1]]);this.$={stmt:"state",id:f,type:"default",description:g};break;case 19:this.$={stmt:"state",id:h[b-3],type:"default",description:h[b-5],doc:h[b-1]};break;case 20:this.$={stmt:"state",id:h[b],type:"fork"};break;case 21:this.$={stmt:"state",id:h[b],type:"join"};break;case 22:this.$={stmt:"state",id:f.getDividerId(),type:"divider"};break;case 23:this.$={stmt:"state",id:h[b-1].trim(),note:{position:h[b-
2].trim(),text:h[b].trim()}};break;case 30:case 31:this.$=h[b];break;case 34:f.parseDirective("%%{","open_directive");break;case 35:f.parseDirective(h[b],"type_directive");break;case 36:h[b]=h[b].trim().replace(/'/g,'"');f.parseDirective(h[b],"arg_directive");break;case 37:f.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:e,5:f,6:4,7:g,29:6,39:h},{1:[3]},{3:8,4:e,5:f,6:4,7:g,29:6,39:h},{3:9,4:e,5:f,6:4,7:g,29:6,39:h},{3:10,4:e,5:f,6:4,7:g,29:6,39:h},d([1,4,5,14,15,17,20,22,23,24,25,
26,36,39],l,{8:11}),{30:12,40:[1,13]},{40:[2,34]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:m,5:J,6:27,9:14,10:16,11:18,14:H,15:z,17:I,20:O,22:N,23:L,24:F,25:G,26:U,29:6,36:R,39:h},{31:30,32:[1,31],42:W},d([32,42],[2,35]),d(T,[2,6]),{6:27,10:33,11:18,14:H,15:z,17:I,20:O,22:N,23:L,24:F,25:G,26:U,29:6,36:R,39:h},d(T,[2,8]),d(T,[2,9]),d(T,[2,10],{12:[1,34],13:[1,35]}),d(T,[2,14]),{16:[1,36]},d(T,[2,16],{18:[1,37]}),{21:[1,38]},d(T,[2,20]),d(T,[2,21]),d(T,[2,22]),{27:39,28:[1,40],37:[1,41],38:[1,42]},
d(T,[2,25]),d(ea,[2,30]),d(ea,[2,31]),d(Q,[2,26]),{33:43,41:[1,44]},d(Q,[2,37]),d(T,[2,7]),d(T,[2,11]),{11:45,22:N,36:R},d(T,[2,15]),d(P,l,{8:46}),{22:[1,47]},{22:[1,48]},{21:[1,49]},{22:[2,32]},{22:[2,33]},{31:50,42:W},{42:[2,36]},d(T,[2,12],{12:[1,51]}),{4:m,5:J,6:27,9:14,10:16,11:18,14:H,15:z,17:I,19:[1,52],20:O,22:N,23:L,24:F,25:G,26:U,29:6,36:R,39:h},d(T,[2,18],{18:[1,53]}),{28:[1,54]},{22:[1,55]},d(Q,[2,27]),d(T,[2,13]),d(T,[2,17]),d(P,l,{8:56}),d(T,[2,23]),d(T,[2,24]),{4:m,5:J,6:27,9:14,10:16,
11:18,14:H,15:z,17:I,19:[1,57],20:O,22:N,23:L,24:F,25:G,26:U,29:6,36:R,39:h},d(T,[2,19])],defaultActions:{7:[2,34],8:[2,1],9:[2,2],10:[2,3],41:[2,32],42:[2,33],44:[2,36]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=d,b;},parse:function(b){var d=[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,1),q=Object.create(this.lexer),r={};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(r[t]=this.yy[t]);q.setInput(b,r);r.lexer=
q;r.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var t=q.yylloc;g.push(t);var u=q.options&&q.options.ranges;this.parseError="function"===typeof r.parseError?r.parseError:Object.getPrototypeOf(this).parseError;for(var v,z,w,F={},G,L;;){z=d[d.length-1];if(this.defaultActions[z])w=this.defaultActions[z];else{if(null===v||"undefined"==typeof v)v=e.pop()||q.lex()||1,"number"!==typeof v&&(v instanceof Array&&(e=v,v=e.pop()),v=this.symbols_[v]||v);w=h[z]&&h[z][v]}if("undefined"===typeof w||!w.length||
!w[0]){L=[];for(G in h[z])this.terminals_[G]&&2<G&&L.push("'"+this.terminals_[G]+"'");var I=q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+"\nExpecting "+L.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(I,{text:q.match,token:this.terminals_[v]||v,line:q.yylineno,loc:t,expected:L})}if(w[0]instanceof Array&&1<w.length)throw Error("Parse Error: multiple actions possible at state: "+
z+", token: "+v);switch(w[0]){case 1:d.push(v);f.push(q.yytext);g.push(q.yylloc);d.push(w[1]);v=null;n=q.yyleng;l=q.yytext;m=q.yylineno;t=q.yylloc;break;case 2:L=this.productions_[w[1]][1];F.$=f[f.length-L];F._$={first_line:g[g.length-(L||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(L||1)].first_column,last_column:g[g.length-1].last_column};u&&(F._$.range=[g[g.length-(L||1)].range[0],g[g.length-1].range[1]]);z=this.performAction.apply(F,[l,n,m,r,w[1],f,g].concat(p));if("undefined"!==
typeof z)return z;L&&(d=d.slice(0,-2*L),f=f.slice(0,-1*L),g=g.slice(0,-1*L));d.push(this.productions_[w[1]][0]);f.push(F.$);g.push(F._$);w=h[d[d.length-2]][d[d.length-1]];d.push(w);break;case 3:return!0}}}};e=function(){return{EOF:1,parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,d);else throw Error(b);},setInput:function(b,d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=
["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);
this._input=b+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-d);this.offset-=d;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-
e[0].length:this.yylloc.first_column-d};this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,
line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+
d+"^"},test_match:function(b,d){var e;if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(f.yylloc.range=
this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=e.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=
this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!f||b[0].length>f[0].length)){var f=
b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==f)return f;if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?(f=this.test_match(f,d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<
this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},
options:{"case-insensitive":!0},performAction:function(b,d,e,f){switch(e){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 6:console.log("Crap after close");break;case 7:return 5;case 12:return this.pushState("SCALE"),15;case 13:return 16;case 14:this.popState();break;case 15:this.pushState("STATE");break;case 16:return this.popState(),
d.yytext=d.yytext.slice(0,-8).trim(),23;case 17:return this.popState(),d.yytext=d.yytext.slice(0,-8).trim(),24;case 18:return this.popState(),d.yytext=d.yytext.slice(0,-8).trim(),23;case 19:return this.popState(),d.yytext=d.yytext.slice(0,-8).trim(),24;case 20:this.begin("STATE_STRING");break;case 21:return this.popState(),this.pushState("STATE_ID"),"AS";case 22:return this.popState(),"ID";case 23:this.popState();break;case 24:return"STATE_DESCR";case 25:return 17;case 26:this.popState();break;case 27:return this.popState(),
this.pushState("struct"),18;case 28:return this.popState(),19;case 30:return this.begin("NOTE"),26;case 31:return this.popState(),this.pushState("NOTE_ID"),37;case 32:return this.popState(),this.pushState("NOTE_ID"),38;case 33:this.popState();this.pushState("FLOATING_NOTE");break;case 34:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 36:return"NOTE_TEXT";case 37:return this.popState(),"ID";case 38:return this.popState(),this.pushState("NOTE_TEXT"),22;case 39:return this.popState(),
d.yytext=d.yytext.substr(2).trim(),28;case 40:return this.popState(),d.yytext=d.yytext.slice(0,-8).trim(),28;case 41:return 7;case 42:return 7;case 43:return 14;case 44:return 36;case 45:return 22;case 46:return d.yytext=d.yytext.trim(),12;case 47:return 13;case 48:return 25;case 49:return 5;case 50:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,
/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,
/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:--\x3e)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},close_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[3,4,9,10],inclusive:!1},type_directive:{rules:[2,3,9,10],inclusive:!1},open_directive:{rules:[1,9,10],inclusive:!1},struct:{rules:[9,10,15,28,29,30,44,45,46,47,48],inclusive:!1},FLOATING_NOTE_ID:{rules:[37],
inclusive:!1},FLOATING_NOTE:{rules:[34,35,36],inclusive:!1},NOTE_TEXT:{rules:[39,40],inclusive:!1},NOTE_ID:{rules:[38],inclusive:!1},NOTE:{rules:[31,32,33],inclusive:!1},SCALE:{rules:[13,14],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[22],inclusive:!1},STATE_STRING:{rules:[23,24],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,16,17,18,19,20,21,25,26,27],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,10,11,12,15,27,30,41,42,43,44,45,46,
47,49,50],inclusive:!0}}}}();d.lexer=e;b.prototype=d;d.Parser=b;return new b}();d.parser=f;d.Parser=f.Parser;d.parse=function(){return f.parse.apply(f,arguments)};d.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),g("./node_modules/webpack/buildin/module.js")(b))},
"./src/diagrams/state/shapes.js":function(b,d,g){g.r(d);g.d(d,"drawStartState",function(){return t});g.d(d,"drawDivider",function(){return v});g.d(d,"drawSimpleState",function(){return u});g.d(d,"drawDescrState",function(){return w});g.d(d,"addTitleAndBox",function(){return J});g.d(d,"drawText",function(){return H});g.d(d,"drawNote",function(){return z});g.d(d,"drawState",function(){return I});g.d(d,"drawEdge",function(){return N});var e=g("d3"),f=g("./src/diagrams/state/id-cache.js"),m=g("./src/diagrams/state/stateDb.js"),
p=g("./src/utils.js"),n=g("./src/diagrams/common/common.js"),q=g("./src/config.js"),r=g("./src/logger.js"),t=function(b){return b.append("circle").attr("class","start-state").attr("r",Object(q.getConfig)().state.sizeUnit).attr("cx",Object(q.getConfig)().state.padding+Object(q.getConfig)().state.sizeUnit).attr("cy",Object(q.getConfig)().state.padding+Object(q.getConfig)().state.sizeUnit)},v=function(b){return b.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Object(q.getConfig)().state.textHeight).attr("class",
"divider").attr("x2",2*Object(q.getConfig)().state.textHeight).attr("y1",0).attr("y2",0)},u=function(b,d){d=b.append("text").attr("x",2*Object(q.getConfig)().state.padding).attr("y",Object(q.getConfig)().state.textHeight+2*Object(q.getConfig)().state.padding).attr("font-size",Object(q.getConfig)().state.fontSize).attr("class","state-title").text(d.id);var e=d.node().getBBox();b.insert("rect",":first-child").attr("x",Object(q.getConfig)().state.padding).attr("y",Object(q.getConfig)().state.padding).attr("width",
e.width+2*Object(q.getConfig)().state.padding).attr("height",e.height+2*Object(q.getConfig)().state.padding).attr("rx",Object(q.getConfig)().state.radius);return d},w=function(b,d){var e=b.append("text").attr("x",2*Object(q.getConfig)().state.padding).attr("y",Object(q.getConfig)().state.textHeight+1.3*Object(q.getConfig)().state.padding).attr("font-size",Object(q.getConfig)().state.fontSize).attr("class","state-title").text(d.descriptions[0]).node().getBBox(),f=e.height,g=b.append("text").attr("x",
Object(q.getConfig)().state.padding).attr("y",f+.4*Object(q.getConfig)().state.padding+Object(q.getConfig)().state.dividerMargin+Object(q.getConfig)().state.textHeight).attr("class","state-description"),h=!0,l=!0;d.descriptions.forEach(function(b){if(!h){var d=l;b=g.append("tspan").attr("x",2*Object(q.getConfig)().state.padding).text(b);d||b.attr("dy",Object(q.getConfig)().state.textHeight);l=!1}h=!1});d=b.append("line").attr("x1",Object(q.getConfig)().state.padding).attr("y1",Object(q.getConfig)().state.padding+
f+Object(q.getConfig)().state.dividerMargin/2).attr("y2",Object(q.getConfig)().state.padding+f+Object(q.getConfig)().state.dividerMargin/2).attr("class","descr-divider");var m=g.node().getBBox();e=Math.max(m.width,e.width);d.attr("x2",e+3*Object(q.getConfig)().state.padding);b.insert("rect",":first-child").attr("x",Object(q.getConfig)().state.padding).attr("y",Object(q.getConfig)().state.padding).attr("width",e+2*Object(q.getConfig)().state.padding).attr("height",m.height+f+2*Object(q.getConfig)().state.padding).attr("rx",
Object(q.getConfig)().state.radius);return b},J=function(b,d,e){var f=Object(q.getConfig)().state.padding,g=2*Object(q.getConfig)().state.padding,h=b.node().getBBox(),l=h.width;h=h.x;d=b.append("text").attr("x",0).attr("y",Object(q.getConfig)().state.titleShift).attr("font-size",Object(q.getConfig)().state.fontSize).attr("class","state-title").text(d.id);var m=d.node().getBBox().width+g,n=Math.max(m,l);n===l&&(n+=g);var p=b.node().getBBox();var r=h-f;m>l&&(r=(l-n)/2+f);Math.abs(h-p.x)<f&&m>l&&(r=
h-(m-l)/2);var t=1-Object(q.getConfig)().state.textHeight;b.insert("rect",":first-child").attr("x",r).attr("y",t).attr("class",e?"alt-composit":"composit").attr("width",n).attr("height",p.height+Object(q.getConfig)().state.textHeight+Object(q.getConfig)().state.titleShift+1).attr("rx","0");d.attr("x",r+f);m<=l&&d.attr("x",h+(n-g)/2-m/2+f);b.insert("rect",":first-child").attr("x",r).attr("y",Object(q.getConfig)().state.titleShift-Object(q.getConfig)().state.textHeight-Object(q.getConfig)().state.padding).attr("width",
n).attr("height",3*Object(q.getConfig)().state.textHeight).attr("rx",Object(q.getConfig)().state.radius);b.insert("rect",":first-child").attr("x",r).attr("y",Object(q.getConfig)().state.titleShift-Object(q.getConfig)().state.textHeight-Object(q.getConfig)().state.padding).attr("width",n).attr("height",p.height+3+2*Object(q.getConfig)().state.textHeight).attr("rx",Object(q.getConfig)().state.radius);return b},H=function(b,d){var e=d.text.replace(n["default"].lineBreakRegex," ");b=b.append("text");
b.attr("x",d.x);b.attr("y",d.y);b.style("text-anchor",d.anchor);b.attr("fill",d.fill);"undefined"!==typeof d.class&&b.attr("class",d.class);var f=b.append("tspan");f.attr("x",d.x+2*d.textMargin);f.attr("fill",d.fill);f.text(e);return b},z=function(b,d){d.attr("class","state-note");var e=d.append("rect").attr("x",0).attr("y",Object(q.getConfig)().state.padding),f=0;d=d.append("g").append("text");d.style("text-anchor","start");d.attr("class","noteText");b=b.replace(/\r\n/g,"<br/>");b=b.replace(/\n/g,
"<br/>");b=b.split(n["default"].lineBreakRegex);var g=1.25*Object(q.getConfig)().state.noteMargin,h=!0,l=!1,m=void 0;try{var p=b[Symbol.iterator]();for(var r;!(h=(r=p.next()).done);h=!0){var t=r.value.trim();if(0<t.length){var v=d.append("tspan");v.text(t);if(0===g){var u=v.node().getBBox();g+=u.height}f+=g;v.attr("x",0+Object(q.getConfig)().state.noteMargin);v.attr("y",0+f+1.25*Object(q.getConfig)().state.noteMargin)}}}catch(ba){l=!0,m=ba}finally{try{h||null==p.return||p.return()}finally{if(l)throw m;
}}p=d.node().getBBox().width;e.attr("height",f+2*Object(q.getConfig)().state.noteMargin);e.attr("width",p+2*Object(q.getConfig)().state.noteMargin);return e},I=function(b,d){var e=d.id,g={id:e,label:d.id,width:0,height:0};b=b.append("g").attr("id",e).attr("class","stateGroup");"start"===d.type&&t(b);"end"===d.type&&(b.append("circle").attr("class","end-state-outer").attr("r",Object(q.getConfig)().state.sizeUnit+Object(q.getConfig)().state.miniPadding).attr("cx",Object(q.getConfig)().state.padding+
Object(q.getConfig)().state.sizeUnit+Object(q.getConfig)().state.miniPadding).attr("cy",Object(q.getConfig)().state.padding+Object(q.getConfig)().state.sizeUnit+Object(q.getConfig)().state.miniPadding),b.append("circle").attr("class","end-state-inner").attr("r",Object(q.getConfig)().state.sizeUnit).attr("cx",Object(q.getConfig)().state.padding+Object(q.getConfig)().state.sizeUnit+2).attr("cy",Object(q.getConfig)().state.padding+Object(q.getConfig)().state.sizeUnit+2));if("fork"===d.type||"join"===
d.type){var h=Object(q.getConfig)().state.forkWidth,l=Object(q.getConfig)().state.forkHeight;if(d.parentId){var m=h;h=l;l=m}b.append("rect").style("stroke","black").style("fill","black").attr("width",h).attr("height",l).attr("x",Object(q.getConfig)().state.padding).attr("y",Object(q.getConfig)().state.padding)}"note"===d.type&&z(d.note.text,b);"divider"===d.type&&v(b);"default"===d.type&&0===d.descriptions.length&&u(b,d);"default"===d.type&&0<d.descriptions.length&&w(b,d);d=b.node().getBBox();g.width=
d.width+2*Object(q.getConfig)().state.padding;g.height=d.height+2*Object(q.getConfig)().state.padding;f["default"].set(e,g);return g},O=0,N=function(b,d,f){d.points=d.points.filter(function(b){return!Number.isNaN(b.y)});var g=d.points,h=Object(e.line)().x(function(b){return b.x}).y(function(b){return b.y}).curve(e.curveBasis);g=b.append("path").attr("d",h(g)).attr("id","edge"+O).attr("class","transition");h="";Object(q.getConfig)().state.arrowMarkerAbsolute&&(h=window.location.protocol+"//"+window.location.host+
window.location.pathname+window.location.search,h=h.replace(/\(/g,"\\("),h=h.replace(/\)/g,"\\)"));g.attr("marker-end","url("+h+"#"+function(b){switch(b){case m["default"].relationType.AGGREGATION:return"aggregation";case m["default"].relationType.EXTENSION:return"extension";case m["default"].relationType.COMPOSITION:return"composition";case m["default"].relationType.DEPENDENCY:return"dependency"}}(m["default"].relationType.DEPENDENCY)+"End)");if("undefined"!==typeof f.title){b=b.append("g").attr("class",
"stateLabel");g=p["default"].calcLabelPosition(d.points);d=g.x;var l=g.y;g=n["default"].getRows(f.title);var t=0;h=[];for(var v=f=0;v<=g.length;v++){var u=b.append("text").attr("text-anchor","middle").text(g[v]).attr("x",d).attr("y",l+t),z=u.node().getBBox();f=Math.max(f,z.width);r.log.info(z.x,d,l+t);0===t&&(t=u.node().getBBox().height,r.log.info("Title height",t,l));h.push(u)}v=t*g.length;if(1<g.length){var w=(g.length-1)*t*.5;h.forEach(function(b,d){return b.attr("y",l+d*t-w)});v=t*g.length}g=
b.node().getBBox();b.insert("rect",":first-child").attr("class","box").attr("x",d-f/2-Object(q.getConfig)().state.padding/2).attr("y",l-v/2-Object(q.getConfig)().state.padding/2-3.5).attr("width",f+Object(q.getConfig)().state.padding).attr("height",v+Object(q.getConfig)().state.padding);r.log.info(g)}O++}},"./src/diagrams/state/stateDb.js":function(b,d,g){function e(b){"@babel/helpers - typeof";e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&
"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return e(b)}g.r(d);g.d(d,"parseDirective",function(){return r});g.d(d,"addState",function(){return H});g.d(d,"clear",function(){return z});g.d(d,"getState",function(){return I});g.d(d,"getStates",function(){return O});g.d(d,"logDocuments",function(){return N});g.d(d,"getRelations",function(){return L});g.d(d,"addRelation",function(){return F});g.d(d,"cleanupLabel",function(){return U});g.d(d,"lineType",function(){return R});
g.d(d,"relationType",function(){return ea});var f=g("./src/logger.js"),m=g("./src/utils.js"),p=g("./src/mermaidAPI.js"),n=g("./src/config.js"),q=[],r=function(b,d,e){p["default"].parseDirective(this,b,d,e)},t=function V(b,d,e){if("relation"===d.stmt)V(b,d.state1,!0),V(b,d.state2,!1);else if("state"===d.stmt&&"[*]"===d.id&&(d.id=e?b.id+"_start":b.id+"_end",d.start=e),d.doc){b=[];e=0;var f=[];for(e=0;e<d.doc.length;e++)if("divider"===d.doc[e].type){var g=JSON.parse(JSON.stringify(d.doc[e]));g.doc=JSON.parse(JSON.stringify(f));
b.push(g);f=[]}else f.push(d.doc[e]);0<b.length&&0<f.length&&(e={stmt:"state",id:Object(m.generateId)(),type:"divider",doc:JSON.parse(JSON.stringify(f))},b.push(JSON.parse(JSON.stringify(e))),d.doc=b);d.doc.forEach(function(b){return V(d,b,!0)})}},v=function(){return{relations:[],states:{},documents:{}}},u={root:v()},w=u.root,J=0,H=function(b,d,g,h,l){"undefined"===typeof w.states[b]?w.states[b]={id:b,descriptions:[],type:d,doc:g,note:l}:(w.states[b].doc||(w.states[b].doc=g),w.states[b].type||(w.states[b].type=
d));h&&(f.log.info("Adding state ",b,h),"string"===typeof h&&G(b,h.trim()),"object"===e(h)&&h.forEach(function(d){return G(b,d.trim())}));l&&(w.states[b].note=l)},z=function(){u={root:v()};w=w=u.root;J=0;T=[]},I=function(b){return w.states[b]},O=function(){return w.states},N=function(){f.log.info("Documents = ",u)},L=function(){return w.relations},F=function(b,d,e){var f=b,g=d,h="default",l="default";"[*]"===b&&(J++,f="start"+J,h="start");"[*]"===d&&(g="end"+J,l="end");H(f,h);H(g,l);w.relations.push({id1:f,
id2:g,title:e})},G=function(b,d){b=w.states[b];":"===d[0]&&(d=d.substr(1).trim());b.descriptions.push(d)},U=function(b){return":"===b.substring(0,1)?b.substr(2).trim():b.trim()},R={LINE:0,DOTTED_LINE:1},W=0,T=[],ea={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3};d["default"]={parseDirective:r,getConfig:function(){return n.getConfig().state},addState:H,clear:z,getState:I,getStates:O,getRelations:L,getClasses:function(){return T},getDirection:function(){return"TB"},addRelation:F,getDividerId:function(){W++;
return"divider-id-"+W},cleanupLabel:U,lineType:R,relationType:ea,logDocuments:N,getRootDoc:function(){return q},setRootDoc:function(b){f.log.info("Setting root doc",b);q=b},getRootDocV2:function(){t({id:"root"},{id:"root",doc:q},!0);return{id:"root",doc:q}},extract:function(b){b=b.doc?b.doc:b;f.log.info(b);z();f.log.info("Extract",b);b.forEach(function(b){"state"===b.stmt&&H(b.id,b.type,b.doc,b.description,b.note);"relation"===b.stmt&&F(b.state1.id,b.state2.id,b.description)})},trimColon:function(b){return b&&
":"===b[0]?b.substr(1).trim():b.trim()}}},"./src/diagrams/state/stateRenderer-v2.js":function(b,d,g){g.r(d);g.d(d,"setConf",function(){return v});g.d(d,"getClasses",function(){return w});g.d(d,"draw",function(){return I});b=g("graphlib");var e=g.n(b),f=g("d3"),m=g("./src/diagrams/state/stateDb.js");b=g("./src/diagrams/state/parser/stateDiagram.jison");var p=g.n(b),n=g("./src/config.js"),q=g("./src/dagre-wrapper/index.js"),r=g("./src/logger.js"),t=g("./src/utils.js"),v=function(b){b=Object.keys(b);
for(var d=0;d<b.length;d++);},u={},w=function(b){r.log.trace("Extracting classes");m["default"].clear();var d=p.a.parser;d.yy=m["default"];d.parse(b);return m["default"].getClasses()},J=function(b,d,e,f){if("root"!==e.id){var g="rect";!0===e.start&&(g="start");!1===e.start&&(g="end");"default"!==e.type&&(g=e.type);u[e.id]||(u[e.id]={id:e.id,shape:g,description:e.id,classes:"statediagram-state"});e.description&&(Array.isArray(u[e.id].description)?(u[e.id].shape="rectWithTitle",u[e.id].description.push(e.description)):
0<u[e.id].description.length?(u[e.id].shape="rectWithTitle",u[e.id].description=u[e.id].description===e.id?[e.description]:[u[e.id].description,e.description]):(u[e.id].shape="rect",u[e.id].description=e.description));!u[e.id].type&&e.doc&&(r.log.info("Setting cluser for ",e.id),u[e.id].type="group",u[e.id].shape="divider"===e.type?"divider":"roundedWithTitle",u[e.id].classes=u[e.id].classes+" "+(f?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));var h={labelStyle:"",shape:u[e.id].shape,
labelText:u[e.id].description,classes:u[e.id].classes,style:"",id:e.id,domId:"state-"+e.id+"-"+H,type:u[e.id].type,padding:15};if(e.note){g={labelStyle:"",shape:"note",labelText:e.note.text,classes:"statediagram-note",style:"",id:e.id+"----note",domId:"state-"+e.id+"----note-"+H,type:u[e.id].type,padding:15};var l={labelStyle:"",shape:"noteGroup",labelText:e.note.text,classes:u[e.id].classes,style:"",id:e.id+"----parent",domId:"state-"+e.id+"----parent-"+H,type:"group",padding:0};H++;b.setNode(e.id+
"----parent",l);b.setNode(g.id,g);b.setNode(e.id,h);b.setParent(e.id,e.id+"----parent");b.setParent(g.id,e.id+"----parent");h=e.id;l=g.id;"left of"===e.note.position&&(h=g.id,l=e.id);b.setEdge(h,l,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else b.setNode(e.id,h)}d&&"root"!==d.id&&(r.log.info("Setting node ",e.id," to be child of its parent ",d.id),b.setParent(e.id,d.id));
e.doc&&(r.log.info("Adding nodes children "),z(b,e,e.doc,!f))},H=0,z=function(b,d,e,f){H=0;r.log.trace("items",e);e.forEach(function(e){"state"===e.stmt||"default"===e.stmt?J(b,d,e,f):"relation"===e.stmt&&(J(b,d,e.state1,f),J(b,d,e.state2,f),b.setEdge(e.state1.id,e.state2.id,{id:"edge"+H,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:e.description,arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"},H),H++)})},I=function(b,
d){r.log.info("Drawing state diagram (v2)",d);m["default"].clear();u={};var g=p.a.parser;g.yy=m["default"];g.parse(b);m["default"].getDirection();b=Object(n.getConfig)().state;g=b.nodeSpacing||50;var h=b.rankSpacing||50;h=(new e.a.Graph({multigraph:!0,compound:!0})).setGraph({rankdir:"TB",nodesep:g,ranksep:h,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});r.log.info(m["default"].getRootDocV2());m["default"].extract(m["default"].getRootDocV2());r.log.info(m["default"].getRootDocV2());
J(h,void 0,m["default"].getRootDocV2(),!0);g=Object(f.select)('[id="'.concat(d,'"]'));var l=Object(f.select)("#"+d+" g");Object(q.render)(l,h,["barb"],"statediagram",d);l=g.node().getBBox();h=l.width+16;l=l.height+16;g.attr("class","statediagram");var v=g.node().getBBox();Object(t.configureSvgSize)(g,l,1.75*h,b.useMaxWidth);h="".concat(v.x-8," ").concat(v.y-8," ").concat(h," ").concat(l);r.log.debug("viewBox ".concat(h));g.attr("viewBox",h);if(!b.htmlLabels)for(d=document.querySelectorAll('[id="'+
d+'"] .edgeLabel .label'),b=0;b<d.length;b++)g=d[b],h=g.getBBox(),l=document.createElementNS("http://www.w3.org/2000/svg","rect"),l.setAttribute("rx",0),l.setAttribute("ry",0),l.setAttribute("width",h.width),l.setAttribute("height",h.height),g.insertBefore(l,g.firstChild)};d["default"]={setConf:v,getClasses:w,draw:I}},"./src/diagrams/state/stateRenderer.js":function(b,d,g){g.r(d);g.d(d,"setConf",function(){return H});g.d(d,"draw",function(){return z});var e=g("d3");b=g("dagre");var f=g.n(b);b=g("graphlib");
var m=g.n(b),p=g("./src/logger.js"),n=g("./src/diagrams/state/stateDb.js"),q=g("./src/diagrams/common/common.js"),r=g("./src/diagrams/state/parser/stateDiagram.jison"),t=g("./src/diagrams/state/shapes.js"),v=g("./src/config.js"),u=g("./src/utils.js");r.parser.yy=n["default"];var w,J={},H=function(){},z=function(b,d){w=Object(v.getConfig)().state;r.parser.yy.clear();r.parser.parse(b);p.log.debug("Rendering diagram "+b);b=Object(e.select)("[id='".concat(d,"']"));b.append("defs").append("marker").attr("id",
"dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z");(new m.a.Graph({multigraph:!0,compound:!0,rankdir:"RL"})).setDefaultEdgeLabel(function(){return{}});d=n["default"].getRootDoc();O(d,b,void 0,!1);var f=w.padding;d=b.node().getBBox();var g=d.width+2*f;f=d.height+2*f;Object(u.configureSvgSize)(b,f,1.75*g,w.useMaxWidth);b.attr("viewBox","".concat(d.x-w.padding,"  ").concat(d.y-w.padding,
" ")+g+" "+f)},I=function(b){return b?b.length*w.fontSizeFactor:1},O=function R(b,d,g,h){var l=new m.a.Graph({compound:!0,multigraph:!0}),r,v=!0;for(r=0;r<b.length;r++)if("relation"===b[r].stmt){v=!1;break}g?l.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:v?1:w.edgeLengthFactor,nodeSep:v?1:50,isMultiGraph:!0}):l.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:v?1:w.edgeLengthFactor,nodeSep:v?1:50,ranker:"tight-tree",isMultiGraph:!0});l.setDefaultEdgeLabel(function(){return{}});
n["default"].extract(b);b=n["default"].getStates();r=n["default"].getRelations();v=Object.keys(b);for(var u=0;u<v.length;u++){var z=b[v[u]];g&&(z.parentId=g);var F=void 0;if(z.doc){var G=d.append("g").attr("id",z.id).attr("class","stateGroup");F=R(z.doc,G,z.id,!h);G=Object(t.addTitleAndBox)(G,z,h);G=G.node().getBBox();F.width=G.width;F.height=G.height+w.padding/2;J[z.id]={y:w.compositTitleSize}}else F=Object(t.drawState)(d,z,l);z.note?(G=Object(t.drawState)(d,{descriptions:[],id:z.id+"-note",note:z.note,
type:"note"},l),"left of"===z.note.position?(l.setNode(F.id+"-note",G),l.setNode(F.id,F)):(l.setNode(F.id,F),l.setNode(F.id+"-note",G)),l.setParent(F.id,F.id+"-group"),l.setParent(F.id+"-note",F.id+"-group")):l.setNode(F.id,F)}p.log.debug("Count=",l.nodeCount(),l);var L=0;r.forEach(function(b){L++;p.log.debug("Setting edge",b);l.setEdge(b.id1,b.id2,{relation:b,width:I(b.title),height:w.labelHeight*q["default"].getRows(b.title).length,labelpos:"c"},"id"+L)});f.a.layout(l);p.log.debug("Graph after layout",
l.nodes());var H=d.node();l.nodes().forEach(function(b){"undefined"!==typeof b&&"undefined"!==typeof l.node(b)?(p.log.warn("Node "+b+": "+JSON.stringify(l.node(b))),Object(e.select)("#"+H.id+" #"+b).attr("transform","translate("+(l.node(b).x-l.node(b).width/2)+","+(l.node(b).y+(J[b]?J[b].y:0)-l.node(b).height/2)+" )"),Object(e.select)("#"+H.id+" #"+b).attr("data-x-shift",l.node(b).x-l.node(b).width/2),document.querySelectorAll("#"+H.id+" #"+b+" .divider").forEach(function(b){var d=b.parentElement,
e=0,f=0;d&&(d.parentElement&&(e=d.parentElement.getBBox().width),f=parseInt(d.getAttribute("data-x-shift"),10),Number.isNaN(f)&&(f=0));b.setAttribute("x1",0-f+8);b.setAttribute("x2",e-f-8)})):p.log.debug("No Node "+b+": "+JSON.stringify(l.node(b)))});h=H.getBBox();l.edges().forEach(function(b){"undefined"!==typeof b&&"undefined"!==typeof l.edge(b)&&(p.log.debug("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(l.edge(b))),Object(t.drawEdge)(d,l.edge(b),l.edge(b).relation))});h=H.getBBox();g={id:g?g:"root",
label:g?g:"root",width:0,height:0};g.width=h.width+2*w.padding;g.height=h.height+2*w.padding;p.log.debug("Doc rendered",g,l);return g};d["default"]={setConf:H,draw:z}},"./src/diagrams/state/styles.js":function(b,d,g){g.r(d);d["default"]=function(b){return"g.stateGroup text {\n  fill: ".concat(b.nodeBorder,";\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ").concat(b.textColor,";\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ").concat(b.labelColor,
";\n}\n\ng.stateGroup rect {\n  fill: ").concat(b.mainBkg,";\n  stroke: ").concat(b.nodeBorder,";\n}\n\ng.stateGroup line {\n  stroke: ").concat(b.lineColor,";\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ").concat(b.lineColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ").concat(b.background,";\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ").concat(b.noteBorderColor,";\n  fill: ").concat(b.noteBkgColor,
";\n\n  text {\n    fill: black;\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(b.mainBkg,";\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ").concat(b.tertiaryColor,";\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ").concat(b.tertiaryTextColor,";\n}\n.label div .edgeLabel {\n  color: ").concat(b.tertiaryTextColor,";\n}\n\n.stateLabel text {\n  fill: ").concat(b.labelColor,";\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ").concat(b.lineColor,
";\n  stroke: black;\n}\n.node circle.state-end {\n  fill: ").concat(b.primaryBorderColor,";\n  stroke: ").concat(b.background,";\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ").concat(b.background,";\n  // stroke: ").concat(b.background,";\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ").concat(b.mainBkg,";\n  stroke: ").concat(b.nodeBorder,";\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ").concat(b.lineColor,";\n}\n\n.statediagram-cluster rect {\n  fill: ").concat(b.mainBkg,
";\n  stroke: ").concat(b.nodeBorder,";\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ").concat(b.textColor,";\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ").concat(b.nodeBorder,";\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ").concat(b.background,";\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: #e0e0e0;\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ").concat(b.altBackground?
b.altBackground:"#efefef",";\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ").concat(b.noteBkgColor,";\n  stroke: ").concat(b.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ").concat(b.noteBkgColor,";\n  stroke: ").concat(b.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ").concat(b.noteTextColor,";\n}\n\n.statediagram-note .nodeLabel {\n  color: ").concat(b.noteTextColor,
";\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ").concat(b.lineColor,";\n  stroke: ").concat(b.lineColor,";\n  stroke-width: 1;\n}\n")}},"./src/diagrams/user-journey/journeyDb.js":function(b,d,g){function e(b){if(Array.isArray(b)){var d=0;for(var e=Array(b.length);d<b.length;d++)e[d]=b[d];d=e}else d=void 0;d||(d=Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=d))throw new TypeError("Invalid attempt to spread non-iterable instance");
return b}g.r(d);g.d(d,"parseDirective",function(){return v});g.d(d,"clear",function(){return u});g.d(d,"setTitle",function(){return w});g.d(d,"getTitle",function(){return J});g.d(d,"addSection",function(){return H});g.d(d,"getSections",function(){return z});g.d(d,"getTasks",function(){return I});g.d(d,"addTask",function(){return N});g.d(d,"addTaskOrg",function(){return L});var f=g("./src/mermaidAPI.js"),m=g("./src/config.js"),p="",n="",q=[],r=[],t=[],v=function(b,d,e){f["default"].parseDirective(this,
b,d,e)},u=function(){q.length=0;r.length=0;p=n="";t.length=0},w=function(b){p=b},J=function(){return p},H=function(b){n=b;q.push(b)},z=function(){return q},I=function(){for(var b=F(),d=0;!b&&100>d;)b=F(),d++;r.push.apply(r,t);return r},O=function(){var b=[];r.forEach(function(d){d.people&&b.push.apply(b,e(d.people))});var d=new Set(b);return e(d).sort()},N=function(b,d){var e=d.substr(1).split(":");d=0;var f=[];1===e.length?(d=Number(e[0]),f=[]):(d=Number(e[0]),f=e[1].split(","));e=f.map(function(b){return b.trim()});
t.push({section:n,type:n,people:e,task:b,score:d})},L=function(b){r.push({section:n,type:n,description:b,task:b,classes:[]})},F=function(){for(var b=!0,d=0;d<t.length;d++)b=b&&t[d].processed;return b};d["default"]={parseDirective:v,getConfig:function(){return m.getConfig().journey},clear:u,setTitle:w,getTitle:J,addSection:H,getSections:z,getTasks:I,addTask:N,addTaskOrg:L,getActors:function(){return O()}}},"./src/diagrams/user-journey/journeyRenderer.js":function(b,d,g){function e(b){var d=60;Object.keys(t).forEach(function(e){p["default"].drawCircle(b,
{cx:20,cy:d,r:7,fill:t[e],stroke:"#000"});p["default"].drawText(b,{x:40,y:d+7,fill:"#666",text:e,textMargin:q.boxTextMargin|5});d+=20})}g.r(d);g.d(d,"setConf",function(){return r});g.d(d,"draw",function(){return u});g.d(d,"bounds",function(){return w});g.d(d,"drawTasks",function(){return z});var f=g("d3"),m=g("./src/diagrams/user-journey/parser/journey.jison");b=g("./src/diagrams/user-journey/journeyDb.js");var p=g("./src/diagrams/user-journey/svgDraw.js"),n=g("./src/utils.js");m.parser.yy=b["default"];
var q={leftMargin:150,diagramMarginX:50,diagramMarginY:20,taskMargin:50,width:150,height:50,taskFontSize:14,taskFontFamily:'"Open-Sans", "sans-serif"',boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,activationWidth:10,textPlacement:"fo",actorColours:"#8FBC8F #7CFC00 #00FFFF #20B2AA #B0E0E6 #FFFFE0".split(" "),sectionFills:"#191970 #8B008B #4B0082 #2F4F4F #800000 #8B4513 #00008B".split(" "),sectionColours:["#fff"]},r=function(b){Object.keys(b).forEach(function(d){q[d]=
b[d]})},t={},v=q.leftMargin,u=function(b,d){m.parser.yy.clear();m.parser.parse(b+"\n");w.init();b=Object(f.select)("#"+d);b.attr("xmlns:xlink","http://www.w3.org/1999/xlink");p["default"].initGraphics(b);var g=m.parser.yy.getTasks();d=m.parser.yy.getTitle();var h=m.parser.yy.getActors();for(r in t)delete t[r];var l=0;h.forEach(function(b){t[b]=q.actorColours[l%q.actorColours.length];l++});e(b);w.insert(0,0,v,50*Object.keys(t).length);z(b,g,0);var r=w.getBounds();d&&b.append("text").text(d).attr("x",
v).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);g=r.stopy-r.starty+2*q.diagramMarginY;h=v+r.stopx+2*q.diagramMarginX;Object(n.configureSvgSize)(b,g,h,q.useMaxWidth);b.append("line").attr("x1",v).attr("y1",4*q.height).attr("x2",h-v-4).attr("y2",4*q.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");d=d?70:0;b.attr("viewBox","".concat(r.startx," -25 ").concat(h," ").concat(g+d));b.attr("preserveAspectRatio","xMinYMin meet")},w={data:{startx:void 0,
stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[];this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0};this.verticalPos=0},updateVal:function(b,d,e,f){b[d]="undefined"===typeof b[d]?e:f(e,b[d])},updateBounds:function(b,d,e,f){var g=this,h=0;this.sequenceItems.forEach(function(l){return function(m){h++;var n=g.sequenceItems.length-h+1;g.updateVal(m,"starty",d-n*q.boxMargin,Math.min);g.updateVal(m,"stopy",f+n*q.boxMargin,Math.max);
g.updateVal(w.data,"startx",b-n*q.boxMargin,Math.min);g.updateVal(w.data,"stopx",e+n*q.boxMargin,Math.max);"activation"!==l&&(g.updateVal(m,"startx",b-n*q.boxMargin,Math.min),g.updateVal(m,"stopx",e+n*q.boxMargin,Math.max),g.updateVal(w.data,"starty",d-n*q.boxMargin,Math.min),g.updateVal(w.data,"stopy",f+n*q.boxMargin,Math.max))}}())},insert:function(b,d,e,f){var g=Math.min(b,e);b=Math.max(b,e);e=Math.min(d,f);d=Math.max(d,f);this.updateVal(w.data,"startx",g,Math.min);this.updateVal(w.data,"starty",
e,Math.min);this.updateVal(w.data,"stopx",b,Math.max);this.updateVal(w.data,"stopy",d,Math.max);this.updateBounds(g,e,b,d)},bumpVerticalPos:function(b){this.verticalPos+=b;this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},J=q.sectionFills,H=q.sectionColours,z=function(b,d,e){var f="";e+=2*q.height+q.diagramMarginY;for(var g=0,h="#CCC",l="black",m=0,n=0;n<d.length;n++){var r=d[n];f!==r.section&&(h=J[g%J.length],m=g%J.length,
l=H[g%H.length],p["default"].drawSection(b,{x:n*q.taskMargin+n*q.width+v,y:50,text:r.section,fill:h,num:m,colour:l},q),f=r.section,g++);var u=r.people.reduce(function(b,d){t[d]&&(b[d]=t[d]);return b},{});r.x=n*q.taskMargin+n*q.width+v;r.y=e;r.width=q.diagramMarginX;r.height=q.diagramMarginY;r.colour=l;r.fill=h;r.num=m;r.actors=u;p["default"].drawTask(b,r,q);w.insert(r.x,r.y,r.x+r.width+q.taskMargin,450)}};d["default"]={setConf:r,draw:u}},"./src/diagrams/user-journey/parser/journey.jison":function(b,
d,g){(function(b,e){var f=function(){function b(){this.yy={}}var d=function(b,d,e,f){e=e||{};for(f=b.length;f--;e[b[f]]=d);return e},e=[1,2],f=[1,5],g=[6,9,11,17,18,19,21],h=[1,15],l=[1,16],m=[1,17],J=[1,21],H=[4,6,9,11,17,18,19,21];d={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,section:18,taskName:19,taskData:20,open_directive:21,
type_directive:22,arg_directive:23,close_directive:24,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"section",19:"taskName",20:"taskData",21:"open_directive",22:"type_directive",23:"arg_directive",24:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(b,d,e,f,g,h,l){b=h.length-1;switch(g){case 1:return h[b-1];case 3:this.$=
[];break;case 4:h[b-1].push(h[b]);this.$=h[b-1];break;case 5:case 6:this.$=h[b];break;case 7:case 8:this.$=[];break;case 11:f.setTitle(h[b].substr(6));this.$=h[b].substr(6);break;case 12:f.addSection(h[b].substr(8));this.$=h[b].substr(8);break;case 13:f.addTask(h[b-1],h[b]);this.$="task";break;case 15:f.parseDirective("%%{","open_directive");break;case 16:f.parseDirective(h[b],"type_directive");break;case 17:h[b]=h[b].trim().replace(/'/g,'"');f.parseDirective(h[b],"arg_directive");break;case 18:f.parseDirective("}%%",
"close_directive","journey")}},table:[{3:1,4:e,7:3,12:4,21:f},{1:[3]},d(g,[2,3],{5:6}),{3:7,4:e,7:3,12:4,21:f},{13:8,22:[1,9]},{22:[2,15]},{6:[1,10],7:18,8:11,9:[1,12],10:13,11:[1,14],12:4,17:h,18:l,19:m,21:f},{1:[2,2]},{14:19,15:[1,20],24:J},d([15,24],[2,16]),d(g,[2,8],{1:[2,1]}),d(g,[2,4]),{7:18,10:22,12:4,17:h,18:l,19:m,21:f},d(g,[2,6]),d(g,[2,7]),d(g,[2,11]),d(g,[2,12]),{20:[1,23]},d(g,[2,14]),{11:[1,24]},{16:25,23:[1,26]},{11:[2,18]},d(g,[2,5]),d(g,[2,13]),d(H,[2,9]),{14:27,24:J},{24:[2,17]},
{11:[1,28]},d(H,[2,10])],defaultActions:{5:[2,15],7:[2,2],21:[2,18],26:[2,17]},parseError:function(b,d){if(d.recoverable)this.trace(b);else throw b=Error(b),b.hash=d,b;},parse:function(b){var d=[0],e=[],f=[null],g=[],h=this.table,l="",m=0,n=0,p=g.slice.call(arguments,1),q=Object.create(this.lexer),r={};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(r[t]=this.yy[t]);q.setInput(b,r);r.lexer=q;r.parser=this;"undefined"==typeof q.yylloc&&(q.yylloc={});var t=q.yylloc;g.push(t);var v=
q.options&&q.options.ranges;this.parseError="function"===typeof r.parseError?r.parseError:Object.getPrototypeOf(this).parseError;for(var u,z,w,H={},J,Z;;){z=d[d.length-1];if(this.defaultActions[z])w=this.defaultActions[z];else{if(null===u||"undefined"==typeof u)u=e.pop()||q.lex()||1,"number"!==typeof u&&(u instanceof Array&&(e=u,u=e.pop()),u=this.symbols_[u]||u);w=h[z]&&h[z][u]}if("undefined"===typeof w||!w.length||!w[0]){Z=[];for(J in h[z])this.terminals_[J]&&2<J&&Z.push("'"+this.terminals_[J]+"'");
var oa=q.showPosition?"Parse error on line "+(m+1)+":\n"+q.showPosition()+"\nExpecting "+Z.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'");this.parseError(oa,{text:q.match,token:this.terminals_[u]||u,line:q.yylineno,loc:t,expected:Z})}if(w[0]instanceof Array&&1<w.length)throw Error("Parse Error: multiple actions possible at state: "+z+", token: "+u);switch(w[0]){case 1:d.push(u);f.push(q.yytext);g.push(q.yylloc);
d.push(w[1]);u=null;n=q.yyleng;l=q.yytext;m=q.yylineno;t=q.yylloc;break;case 2:Z=this.productions_[w[1]][1];H.$=f[f.length-Z];H._$={first_line:g[g.length-(Z||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(Z||1)].first_column,last_column:g[g.length-1].last_column};v&&(H._$.range=[g[g.length-(Z||1)].range[0],g[g.length-1].range[1]]);z=this.performAction.apply(H,[l,n,m,r,w[1],f,g].concat(p));if("undefined"!==typeof z)return z;Z&&(d=d.slice(0,-2*Z),f=f.slice(0,-1*Z),g=g.slice(0,
-1*Z));d.push(this.productions_[w[1]][0]);f.push(H.$);g.push(H._$);w=h[d[d.length-2]][d[d.length-1]];d.push(w);break;case 3:return!0}}}};e=function(){return{EOF:1,parseError:function(b,d){if(this.yy.parser)this.yy.parser.parseError(b,d);else throw Error(b);},setInput:function(b,d){this.yy=d||this.yy||{};this._input=b;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,
last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var b=this._input[0];this.yytext+=b;this.yyleng++;this.offset++;this.match+=b;this.matched+=b;b.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return b},unput:function(b){var d=b.length,e=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input;this.yytext=this.yytext.substr(0,
this.yytext.length-d);this.offset-=d;b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var f=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===b.length?this.yylloc.first_column:0)+b[b.length-e.length].length-e[0].length:this.yylloc.first_column-d};this.options.ranges&&
(this.yylloc.range=[f[0],f[0]+this.yyleng-d]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},
pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(20<b.length?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;20>b.length&&(b+=this._input.substr(0,20-b.length));return(b.substr(0,20)+(20<b.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),d=Array(b.length+1).join("-");return b+this.upcomingInput()+"\n"+d+"^"},test_match:function(b,d){var e;if(this.options.backtrack_lexer){var f={yylineno:this.yylineno,
yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))}if(e=b[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=e.length;this.yylloc=
{first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length};this.yytext+=b[0];this.match+=b[0];this.matches=b;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(b[0].length);this.matched+=b[0];b=this.performAction.call(this,this.yy,
this,d,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(b)return b;if(this._backtrack)for(var g in f)this[g]=f[g];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),e=0;e<d.length;e++)if((b=this._input.match(this.rules[d[e]]))&&(!f||b[0].length>f[0].length)){var f=b;var g=e;if(this.options.backtrack_lexer){f=this.test_match(b,d[e]);if(!1!==f)return f;
if(this._backtrack)f=!1;else return!1}else if(!this.options.flex)break}return f?(f=this.test_match(f,d[g]),!1!==f?f:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return b?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},
_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(b){b=this.conditionStack.length-1-Math.abs(b||0);return 0<=b?this.conditionStack[b]:"INITIAL"},pushState:function(b){this.begin(b)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(b,d,e,f){switch(e){case 0:return this.begin("open_directive"),
21;case 1:return this.begin("type_directive"),22;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),24;case 4:return 23;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return 18;case 13:return 19;case 14:return 20;case 15:return 15;case 16:return 6;case 17:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,
/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}}}();d.lexer=e;b.prototype=d;d.Parser=b;return new b}();d.parser=f;d.Parser=f.Parser;d.parse=function(){return f.parse.apply(f,arguments)};
d.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),b.exit(1));e=g("./node_modules/node-libs-browser/mock/empty.js").readFileSync(g("./node_modules/path-browserify/index.js").normalize(e[1]),"utf8");return d.parser.parse(e)};g.c[g.s]===e&&d.main(b.argv.slice(1))}).call(this,g("./node_modules/process/browser.js"),g("./node_modules/webpack/buildin/module.js")(b))},"./src/diagrams/user-journey/styles.js":function(b,d,g){g.r(d);d["default"]=function(b){return".label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ".concat(b.textColor,
";\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ").concat(b.textColor,"\n  }\n\n  .legend {\n    fill: ").concat(b.textColor,";\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ").concat(b.textColor,"\n  }\n\n  .face {\n    fill: #FFF8DC;\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(b.mainBkg,";\n    stroke: ").concat(b.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(b.arrowheadColor,
";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(b.lineColor,";\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(b.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(b.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ").concat(b.titleColor,";\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ").concat(b.tertiaryColor,
";\n    border: 1px solid ").concat(b.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ").concat(b.fillType0?"fill: ".concat(b.fillType0):"",";\n  }\n  .task-type-1, .section-type-1  {\n    ").concat(b.fillType0?"fill: ".concat(b.fillType1):"",";\n  }\n  .task-type-2, .section-type-2  {\n    ").concat(b.fillType0?"fill: ".concat(b.fillType2):"",";\n  }\n  .task-type-3, .section-type-3  {\n    ").concat(b.fillType0?"fill: ".concat(b.fillType3):
"",";\n  }\n  .task-type-4, .section-type-4  {\n    ").concat(b.fillType0?"fill: ".concat(b.fillType4):"",";\n  }\n  .task-type-5, .section-type-5  {\n    ").concat(b.fillType0?"fill: ".concat(b.fillType5):"",";\n  }\n  .task-type-6, .section-type-6  {\n    ").concat(b.fillType0?"fill: ".concat(b.fillType6):"",";\n  }\n  .task-type-7, .section-type-7  {\n    ").concat(b.fillType0?"fill: ".concat(b.fillType7):"",";\n  }\n")}},"./src/diagrams/user-journey/svgDraw.js":function(b,d,g){g.r(d);g.d(d,"drawRect",
function(){return f});g.d(d,"drawFace",function(){return m});g.d(d,"drawCircle",function(){return p});g.d(d,"drawText",function(){return n});g.d(d,"drawLabel",function(){return q});g.d(d,"drawSection",function(){return r});g.d(d,"drawTask",function(){return v});g.d(d,"drawBackgroundRect",function(){return u});g.d(d,"getTextObj",function(){return w});g.d(d,"getNoteRect",function(){return J});var e=g("d3"),f=function(b,d){b=b.append("rect");b.attr("x",d.x);b.attr("y",d.y);b.attr("fill",d.fill);b.attr("stroke",
d.stroke);b.attr("width",d.width);b.attr("height",d.height);b.attr("rx",d.rx);b.attr("ry",d.ry);"undefined"!==typeof d.class&&b.attr("class",d.class);return b},m=function(b,d){function f(b){var f=Object(e.arc)().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(15/2.2);b.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+d.cx+","+(d.cy+2)+")")}function g(b){var f=Object(e.arc)().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(15/
2.2);b.append("path").attr("class","mouth").attr("d",f).attr("transform","translate("+d.cx+","+(d.cy+7)+")")}var h=b.append("circle").attr("cx",d.cx).attr("cy",d.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible");b=b.append("g");b.append("circle").attr("cx",d.cx-5).attr("cy",d.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");b.append("circle").attr("cx",d.cx+5).attr("cy",d.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill",
"#666").attr("stroke","#666");3<d.score?f(b):3>d.score?g(b):b.append("line").attr("class","mouth").attr("stroke",2).attr("x1",d.cx-5).attr("y1",d.cy+7).attr("x2",d.cx+5).attr("y2",d.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666");return h},p=function(b,d){b=b.append("circle");b.attr("cx",d.cx);b.attr("cy",d.cy);b.attr("fill",d.fill);b.attr("stroke",d.stroke);b.attr("r",d.r);"undefined"!==typeof b.class&&b.attr("class",b.class);"undefined"!==typeof d.title&&b.append("title").text(d.title);
return b},n=function(b,d){var e=d.text.replace(/<br\s*\/?>/gi," ");b=b.append("text");b.attr("x",d.x);b.attr("y",d.y);b.attr("class","legend");b.style("text-anchor",d.anchor);"undefined"!==typeof d.class&&b.attr("class",d.class);var f=b.append("tspan");f.attr("x",d.x+2*d.textMargin);f.text(e);return b},q=function(b,d){var e=b.append("polygon");e.attr("points",function(b,d,e,f,g){return b+","+d+" "+(b+e)+","+d+" "+(b+e)+","+(d+f-g)+" "+(b+e-1.2*g)+","+(d+f)+" "+b+","+(d+f)}(d.x,d.y,50,20,7));e.attr("class",
"labelBox");d.y+=d.labelMargin;d.x+=.5*d.labelMargin;n(b,d)},r=function(b,d,e){b=b.append("g");var g=J();g.x=d.x;g.y=d.y;g.fill=d.fill;g.width=e.width;g.height=e.height;g.class="journey-section section-type-"+d.num;g.rx=3;g.ry=3;f(b,g);H(e)(d.text,b,g.x,g.y,g.width,g.height,{class:"journey-section section-type-"+d.num},e,d.colour)},t=-1,v=function(b,d,e){var g=d.x+e.width/2,h=b.append("g");t++;h.append("line").attr("id","task"+t).attr("x1",g).attr("y1",d.y).attr("x2",g).attr("y2",450).attr("class",
"task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666");m(h,{cx:g,cy:300+30*(5-d.score),score:d.score});b=J();b.x=d.x;b.y=d.y;b.fill=d.fill;b.width=e.width;b.height=e.height;b.class="task task-type-"+d.num;b.rx=3;b.ry=3;f(h,b);var l=d.x+14;d.people.forEach(function(b){p(h,{cx:l,cy:d.y,r:7,fill:d.actors[b],stroke:"#000",title:b});l+=10});H(e)(d.task,h,b.x,b.y,b.width,b.height,{class:"task"},e,d.colour)},u=function(b,d){f(b,{x:d.startx,y:d.starty,width:d.stopx-d.startx,
height:d.stopy-d.starty,fill:d.fill,class:"rect"}).lower()},w=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},J=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},H=function(){function b(b,d,e,g,h,l,m,n){b=d.append("text").attr("x",e+h/2).attr("y",g+l/2+5).style("font-color",n).style("text-anchor","middle").text(b);f(b,m)}function d(b,d,e,g,h,l,m,n,p){var q=n.taskFontSize;n=n.taskFontFamily;b=b.split(/<br\s*\/?>/gi);
for(var r=0;r<b.length;r++){var t=r*q-q*(b.length-1)/2,v=d.append("text").attr("x",e+h/2).attr("y",g).attr("fill",p).style("text-anchor","middle").style("font-size",q).style("font-family",n);v.append("tspan").attr("x",e+h/2).attr("dy",t).text(b[r]);v.attr("y",g+l/2).attr("dominant-baseline","central").attr("alignment-baseline","central");f(v,m)}}function e(b,e,g,h,l,m,n,p){e=e.append("switch");var q=e.append("foreignObject").attr("x",g).attr("y",h).attr("width",l).attr("height",m).attr("position",
"fixed").append("div").style("display","table").style("height","100%").style("width","100%");q.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(b);d(b,e,g,h,l,m,n,p);f(q,n)}function f(b,d){for(var e in d)e in d&&b.attr(e,d[e])}return function(f){return"fo"===f.textPlacement?e:"old"===f.textPlacement?b:d}}();d["default"]={drawRect:f,drawCircle:p,drawSection:r,drawText:n,drawLabel:q,drawTask:v,drawBackgroundRect:u,getTextObj:w,
getNoteRect:J,initGraphics:function(b){b.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}}},"./src/errorRenderer.js":function(b,d,g){g.r(d);g.d(d,"setConf",function(){return m});g.d(d,"draw",function(){return p});var e=g("d3"),f=g("./src/logger.js"),m=function(b){Object.keys(b).forEach(function(d){b[d]})},p=function(b,d){try{f.log.debug("Renering svg for syntax error\n");
var g=Object(e.select)("#"+b),h=g.append("g");h.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z");
h.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z");h.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z");h.append("path").attr("class",
"error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z");h.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z");h.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z");
h.append("text").attr("class","error-text").attr("x",1240).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph");h.append("text").attr("class","error-text").attr("x",1050).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+d);g.attr("height",100);g.attr("width",400);g.attr("viewBox","768 0 512 512")}catch(v){f.log.error("Error while rendering info diagram"),f.log.error(v.message)}};d["default"]={setConf:m,draw:p}},
"./src/logger.js":function(b,d,g){g.r(d);g.d(d,"LEVELS",function(){return f});g.d(d,"log",function(){return m});g.d(d,"setLogLevel",function(){return p});b=g("moment-mini");var e=g.n(b),f={debug:1,info:2,warn:3,error:4,fatal:5},m={debug:function(){},info:function(){},warn:function(){},error:function(){},fatal:function(){}},p=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"fatal";isNaN(b)&&(b=b.toLowerCase(),void 0!==f[b]&&(b=f[b]));m.trace=function(){};m.debug=function(){};
m.info=function(){};m.warn=function(){};m.error=function(){};m.fatal=function(){};b<=f.fatal&&(m.fatal=console.error?console.error.bind(console,n("FATAL"),"color: orange"):console.log.bind(console,"\u001b[35m",n("FATAL")));b<=f.error&&(m.error=console.error?console.error.bind(console,n("ERROR"),"color: orange"):console.log.bind(console,"\u001b[31m",n("ERROR")));b<=f.warn&&(m.warn=console.warn?console.warn.bind(console,n("WARN"),"color: orange"):console.log.bind(console,"\u001b[33m",n("WARN")));b<=
f.info&&(m.info=console.info?console.info.bind(console,n("INFO"),"color: lightblue"):console.log.bind(console,"\u001b[34m",n("INFO")));b<=f.debug&&(m.debug=console.debug?console.debug.bind(console,n("DEBUG"),"color: lightgreen"):console.log.bind(console,"\u001b[32m",n("DEBUG")))},n=function(b){var d=e()().format("ss.SSS");return"%c".concat(d," : ").concat(b," : ")}},"./src/mermaid.js":function(b,d,g){g.r(d);b=g("entity-decode/browser");var e=g.n(b),f=g("./src/logger.js"),m=g("./src/mermaidAPI.js"),
p=g("./src/utils.js"),n=function(){if(q.startOnLoad){var b=m["default"].getConfig();b.startOnLoad&&q.init()}else"undefined"===typeof q.startOnLoad&&(f.log.debug("In start, no config"),b=m["default"].getConfig(),b.startOnLoad&&q.init())};"undefined"!==typeof document&&window.addEventListener("load",function(){n()},!1);var q={startOnLoad:!0,htmlLabels:!0,mermaidAPI:m["default"],parse:m["default"].parse,render:m["default"].render,init:function(){var b=this,d=m["default"].getConfig();if(2<=arguments.length){"undefined"!==
typeof arguments[0]&&(q.sequenceConfig=arguments[0]);var g=arguments[1]}else g=arguments[0];if("function"===typeof arguments[arguments.length-1]){var h=arguments[arguments.length-1];f.log.debug("Callback function found")}else"undefined"!==typeof d.mermaid&&("function"===typeof d.mermaid.callback?(h=d.mermaid.callback,f.log.debug("Callback function found")):f.log.debug("No Callback function found"));g=void 0===g?document.querySelectorAll(".mermaid"):"string"===typeof g?document.querySelectorAll(g):
g instanceof window.Node?[g]:g;f.log.debug("Start On Load before: "+q.startOnLoad);"undefined"!==typeof q.startOnLoad&&(f.log.debug("Start On Load inner: "+q.startOnLoad),m["default"].updateSiteConfig({startOnLoad:q.startOnLoad}));"undefined"!==typeof q.ganttConfig&&m["default"].updateSiteConfig({gantt:q.ganttConfig});var l=p["default"].initIdGeneratior(d.deterministicIds,d.deterministicIDSeed).next,n;d=function(d){var q=g[d];if(q.getAttribute("data-processed"))return"continue";q.setAttribute("data-processed",
!0);var r="mermaid-".concat(l());n=q.innerHTML;n=e()(n).trim().replace(/<br\s*\/?>/gi,"<br/>");(d=p["default"].detectInit(n))&&f.log.debug("Detected early reinit: ",d);try{m["default"].render(r,n,function(b,d){q.innerHTML=b;"undefined"!==typeof h&&h(r);d&&d(q)},q)}catch(N){f.log.warn("Syntax Error rendering"),f.log.warn(N),b.parseError&&b.parseError(N)}};for(var H=0;H<g.length;H++)d(H)},initialize:function(b){"undefined"!==typeof b.mermaid&&("undefined"!==typeof b.mermaid.startOnLoad&&(q.startOnLoad=
b.mermaid.startOnLoad),"undefined"!==typeof b.mermaid.htmlLabels&&(q.htmlLabels=b.mermaid.htmlLabels));m["default"].initialize(b)},contentLoaded:n};d["default"]=q},"./src/mermaidAPI.js":function(b,d,g){function e(b){"@babel/helpers - typeof";e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return e(b)}function f(b){Q["default"].setConf(b.git);
t["default"].setConf(b.flowchart);v["default"].setConf(b.flowchart);"undefined"!==typeof b.sequenceDiagram&&J["default"].setConf(Object(r.assignWithDepth)(b.sequence,b.sequenceDiagram));J["default"].setConf(b.sequence);I["default"].setConf(b.gantt);L["default"].setConf(b.class);R["default"].setConf(b.state);W["default"].setConf(b.state);ua["default"].setConf(b.class);Z["default"].setConf(b.class);Xa["default"].setConf(b.er);za["default"].setConf(b.journey);V["default"].setConf(b.class)}g.r(d);g.d(d,
"encodeEntities",function(){return da});g.d(d,"decodeEntities",function(){return ja});b=g("stylis");var m=g.n(b),p=g("d3"),n=g("./package.json"),q=g("./src/logger.js"),r=g("./src/utils.js"),t=g("./src/diagrams/flowchart/flowRenderer.js"),v=g("./src/diagrams/flowchart/flowRenderer-v2.js");b=g("./src/diagrams/flowchart/parser/flow.jison");var u=g.n(b),w=g("./src/diagrams/flowchart/flowDb.js"),J=g("./src/diagrams/sequence/sequenceRenderer.js");b=g("./src/diagrams/sequence/parser/sequenceDiagram.jison");
var H=g.n(b),z=g("./src/diagrams/sequence/sequenceDb.js"),I=g("./src/diagrams/gantt/ganttRenderer.js");b=g("./src/diagrams/gantt/parser/gantt.jison");var O=g.n(b),N=g("./src/diagrams/gantt/ganttDb.js"),L=g("./src/diagrams/class/classRenderer.js"),F=g("./src/diagrams/class/classRenderer-v2.js");b=g("./src/diagrams/class/parser/classDiagram.jison");var G=g.n(b),U=g("./src/diagrams/class/classDb.js"),R=g("./src/diagrams/state/stateRenderer.js"),W=g("./src/diagrams/state/stateRenderer-v2.js");b=g("./src/diagrams/state/parser/stateDiagram.jison");
var T=g.n(b),ea=g("./src/diagrams/state/stateDb.js"),Q=g("./src/diagrams/git/gitGraphRenderer.js");b=g("./src/diagrams/git/parser/gitGraph.jison");var P=g.n(b),S=g("./src/diagrams/git/gitGraphAst.js"),ua=g("./src/diagrams/info/infoRenderer.js"),V=g("./src/errorRenderer.js");b=g("./src/diagrams/info/parser/info.jison");var ba=g.n(b),la=g("./src/diagrams/info/infoDb.js"),Z=g("./src/diagrams/pie/pieRenderer.js");b=g("./src/diagrams/pie/parser/pie.jison");var oa=g.n(b),Aa=g("./src/diagrams/pie/pieDb.js"),
ca=g("./src/diagrams/er/erDb.js");b=g("./src/diagrams/er/parser/erDiagram.jison");var db=g.n(b),Xa=g("./src/diagrams/er/erRenderer.js");b=g("./src/diagrams/user-journey/parser/journey.jison");var Da=g.n(b),Ha=g("./src/diagrams/user-journey/journeyDb.js"),za=g("./src/diagrams/user-journey/journeyRenderer.js"),va=g("./src/config.js"),Ba=g("./src/styles.js"),ya=g("./src/themes/index.js"),da=function(b){b=b.replace(/style.*:\S*#.*;/g,function(b){return b.substring(0,b.length-1)});b=b.replace(/classDef.*:\S*#.*;/g,
function(b){return b.substring(0,b.length-1)});return b=b.replace(/#\w+;/g,function(b){b=b.substring(1,b.length-1);return/^\+?\d+$/.test(b)?"\ufb02\u00b0\u00b0"+b+"\u00b6\u00df":"\ufb02\u00b0"+b+"\u00b6\u00df"})},ja=function(b){b=b.replace(/\ufb02\u00b0\u00b0/g,function(){return"&#"});b=b.replace(/\ufb02\u00b0/g,function(){return"&"});return b=b.replace(/\u00b6\u00df/g,function(){return";"})},ia={},na=function(b,d,e){q.log.debug("Directive type=".concat(d.type," with args:"),d.args);switch(d.type){case "init":case "initialize":["config"].forEach(function(b){"undefined"!==
typeof d.args[b]&&("flowchart-v2"===e&&(e="flowchart"),d.args[e]=d.args[b],delete d.args[b])});va.addDirective(d.args);break;case "wrap":case "nowrap":b&&b.setWrap&&b.setWrap("wrap"===d.type);break;default:q.log.warn("Unhandled directive: source: '%%{".concat(d.type,": ").concat(JSON.stringify(d.args?d.args:{}),"}%%"),d)}};g=Object.freeze({render:function(b,d,e,f){va.reset();var g=d,h=r["default"].detectInit(g);h&&va.addDirective(h);h=va.getConfig();d.length>h.maxTextSize&&(g="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");
"undefined"!==typeof f?(f.innerHTML="",Object(p.select)(f).append("div").attr("id","d"+b).attr("style","font-family: "+h.fontFamily).append("svg").attr("id",b).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")):((d=document.getElementById(b))&&d.remove(),(d=document.querySelector("#d"+b))&&d.remove(),Object(p.select)("body").append("div").attr("id","d"+b).append("svg").attr("id",b).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g"));window.txt=g;
g=da(g);f=Object(p.select)("#d"+b).node();d=r["default"].detectType(g);f=f.firstChild;var l=f.firstChild,u="";void 0!==h.themeCSS&&(u+="\n".concat(h.themeCSS));void 0!==h.fontFamily&&(u+="\n:root { --mermaid-font-family: ".concat(h.fontFamily,"}"));void 0!==h.altFontFamily&&(u+="\n:root { --mermaid-alt-font-family: ".concat(h.altFontFamily,"}"));if("flowchart"===d||"flowchart-v2"===d||"graph"===d){var z=t["default"].getClasses(g);for(G in z)u+="\n.".concat(G," > * { ").concat(z[G].styles.join(" !important; "),
" !important; }"),z[G].textStyles&&(u+="\n.".concat(G," tspan { ").concat(z[G].textStyles.join(" !important; ")," !important; }"))}var G=(new m.a)("#".concat(b),Object(Ba["default"])(d,u,h.themeVariables));u=document.createElement("style");u.innerHTML=G;f.insertBefore(u,l);try{switch(d){case "git":h.flowchart.arrowMarkerAbsolute=h.arrowMarkerAbsolute;Q["default"].setConf(h.git);Q["default"].draw(g,b,!1);break;case "flowchart":h.flowchart.arrowMarkerAbsolute=h.arrowMarkerAbsolute;t["default"].setConf(h.flowchart);
t["default"].draw(g,b,!1);break;case "flowchart-v2":h.flowchart.arrowMarkerAbsolute=h.arrowMarkerAbsolute;v["default"].setConf(h.flowchart);v["default"].draw(g,b,!1);break;case "sequence":h.sequence.arrowMarkerAbsolute=h.arrowMarkerAbsolute;h.sequenceDiagram?(J["default"].setConf(Object.assign(h.sequence,h.sequenceDiagram)),console.error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.")):J["default"].setConf(h.sequence);J["default"].draw(g,
b);break;case "gantt":h.gantt.arrowMarkerAbsolute=h.arrowMarkerAbsolute;I["default"].setConf(h.gantt);I["default"].draw(g,b);break;case "class":h.class.arrowMarkerAbsolute=h.arrowMarkerAbsolute;L["default"].setConf(h.class);L["default"].draw(g,b);break;case "classDiagram":h.class.arrowMarkerAbsolute=h.arrowMarkerAbsolute;F["default"].setConf(h.class);F["default"].draw(g,b);break;case "state":h.class.arrowMarkerAbsolute=h.arrowMarkerAbsolute;R["default"].setConf(h.state);R["default"].draw(g,b);break;
case "stateDiagram":h.class.arrowMarkerAbsolute=h.arrowMarkerAbsolute;W["default"].setConf(h.state);W["default"].draw(g,b);break;case "info":h.class.arrowMarkerAbsolute=h.arrowMarkerAbsolute;ua["default"].setConf(h.class);ua["default"].draw(g,b,n.version);break;case "pie":h.class.arrowMarkerAbsolute=h.arrowMarkerAbsolute;Z["default"].setConf(h.pie);Z["default"].draw(g,b,n.version);break;case "er":Xa["default"].setConf(h.er);Xa["default"].draw(g,b,n.version);break;case "journey":za["default"].setConf(h.journey),
za["default"].draw(g,b,n.version)}}catch(wa){throw V["default"].draw(b,n.version),wa;}Object(p.select)('[id="'.concat(b,'"]')).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");g=Object(p.select)("#d"+b).node().innerHTML;q.log.debug("cnf.arrowMarkerAbsolute",h.arrowMarkerAbsolute);h.arrowMarkerAbsolute&&"false"!==h.arrowMarkerAbsolute||(g=g.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g"));g=ja(g);g=g.replace(/<br>/g,"<br/>");if("undefined"!==typeof e)switch(d){case "flowchart":case "flowchart-v2":e(g,
w["default"].bindFunctions);break;case "gantt":e(g,N["default"].bindFunctions);break;case "class":case "classDiagram":e(g,U["default"].bindFunctions);break;default:e(g)}else q.log.debug("CB = undefined!");e=Object(p.select)("#d"+b).node();null!==e&&"function"===typeof e.remove&&Object(p.select)("#d"+b).node().remove();return g},parse:function(b){var d=r["default"].detectInit(b);d&&q.log.debug("reinit ",d);d=r["default"].detectType(b);q.log.debug("Type "+d);switch(d){case "git":var e=P.a;e.parser.yy=
S["default"];break;case "flowchart":w["default"].clear();e=u.a;e.parser.yy=w["default"];break;case "flowchart-v2":w["default"].clear();e=u.a;e.parser.yy=w["default"];break;case "sequence":e=H.a;e.parser.yy=z["default"];break;case "gantt":e=O.a;e.parser.yy=N["default"];break;case "class":e=G.a;e.parser.yy=U["default"];break;case "classDiagram":e=G.a;e.parser.yy=U["default"];break;case "state":e=T.a;e.parser.yy=ea["default"];break;case "stateDiagram":e=T.a;e.parser.yy=ea["default"];break;case "info":q.log.debug("info info info");
e=ba.a;e.parser.yy=la["default"];break;case "pie":q.log.debug("pie");e=oa.a;e.parser.yy=Aa["default"];break;case "er":q.log.debug("er");e=db.a;e.parser.yy=ca["default"];break;case "journey":q.log.debug("Journey"),e=Da.a,e.parser.yy=Ha["default"]}e.parser.yy.graphType=d;e.parser.yy.parseError=function(b,d){throw{str:b,hash:d};};e.parse(b);return e},parseDirective:function(b,d,e,f){try{if(void 0!==d)switch(d=d.trim(),e){case "open_directive":ia={};break;case "type_directive":ia.type=d.toLowerCase();
break;case "arg_directive":ia.args=JSON.parse(d);break;case "close_directive":na(b,ia,f),ia=null}}catch(qa){q.log.error("Error while rendering sequenceDiagram directive: ".concat(d," jison context: ").concat(e)),q.log.error(qa.message)}},initialize:function(b){b&&b.fontFamily&&(b.themeVariables?b.themeVariables.fontFamily||(b.themeVariables={fontFamily:b.fontFamily}):b.themeVariables={fontFamily:b.fontFamily});va.saveConfigFromInitilize(b);b&&b.theme&&ya["default"][b.theme]?b.themeVariables=ya["default"][b.theme].getThemeVariables(b.themeVariables):
b&&(b.themeVariables=ya["default"].default.getThemeVariables(b.themeVariables));b="object"===e(b)?va.setSiteConfig(b):va.getSiteConfig();f(b);Object(q.setLogLevel)(b.logLevel)},reinitialize:function(){},getConfig:va.getConfig,setConfig:va.setConfig,getSiteConfig:va.getSiteConfig,updateSiteConfig:va.updateSiteConfig,reset:function(){va.reset()},globalReset:function(){va.reset(va.defaultConfig);f(va.getConfig())},defaultConfig:va.defaultConfig});Object(q.setLogLevel)(va.getConfig().logLevel);va.reset(va.getConfig());
d["default"]=g},"./src/styles.js":function(b,d,g){g.r(d);g.d(d,"calcThemeVariables",function(){return u});b=g("./src/diagrams/class/styles.js");var e=g("./src/diagrams/er/styles.js"),f=g("./src/diagrams/flowchart/styles.js"),m=g("./src/diagrams/gantt/styles.js"),p=g("./src/diagrams/git/styles.js"),n=g("./src/diagrams/info/styles.js"),q=g("./src/diagrams/pie/styles.js"),r=g("./src/diagrams/sequence/styles.js"),t=g("./src/diagrams/state/styles.js");g=g("./src/diagrams/user-journey/styles.js");var v=
{flowchart:f["default"],"flowchart-v2":f["default"],sequence:r["default"],gantt:m["default"],classDiagram:b["default"],"classDiagram-v2":b["default"],class:b["default"],stateDiagram:t["default"],state:t["default"],git:p["default"],info:n["default"],pie:q["default"],er:e["default"],journey:g["default"]},u=function(b,d){return b.calcColors(d)};d["default"]=function(b,d,e){return" {\n    font-family: ".concat(e.fontFamily,";\n    font-size: ").concat(e.fontSize,";\n    fill: ").concat(e.textColor,"\n  }\n\n  /* Classes common for multiple diagrams */\n\n  .error-icon {\n    fill: ").concat(e.errorBkgColor,
";\n  }\n  .error-text {\n    fill: ").concat(e.errorTextColor,";\n    stroke: ").concat(e.errorTextColor,";\n  }\n\n  .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  .marker {\n    fill: ").concat(e.lineColor,";\n    stroke: ").concat(e.lineColor,";\n  }\n  .marker.cross {\n    stroke: ").concat(e.lineColor,
";\n  }\n\n  svg {\n    font-family: ").concat(e.fontFamily,";\n    font-size: ").concat(e.fontSize,";\n  }\n\n  ").concat(v[b](e),"\n\n  ").concat(d,"\n\n  ").concat(b," { fill: apa;}\n")}},"./src/themes/index.js":function(b,d,g){g.r(d);b=g("./src/themes/theme-base.js");var e=g("./src/themes/theme-dark.js"),f=g("./src/themes/theme-default.js"),m=g("./src/themes/theme-forest.js");g=g("./src/themes/theme-neutral.js");d["default"]={base:{getThemeVariables:b.getThemeVariables},dark:{getThemeVariables:e.getThemeVariables},
default:{getThemeVariables:f.getThemeVariables},forest:{getThemeVariables:m.getThemeVariables},neutral:{getThemeVariables:g.getThemeVariables}}},"./src/themes/theme-base.js":function(b,d,g){function e(b){"@babel/helpers - typeof";e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return e(b)}function f(b,d){for(var e=0;e<d.length;e++){var f=d[e];
f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}function m(b,d,e){d&&f(b.prototype,d);e&&f(b,e);return b}g.r(d);g.d(d,"getThemeVariables",function(){return r});var p=g("khroma"),n=g("./src/themes/theme-helpers.js"),q=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.background="#f4f4f4";this.darkMode=!1;this.primaryColor="#fff4dd";this.noteBkgColor="#fff5ad";this.noteTextColor=
"#333";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px"}m(b,[{key:"updateColors",value:function(){this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#ddd":"#333");this.secondaryColor=this.secondaryColor||Object(p.adjust)(this.primaryColor,{h:-120});this.tertiaryColor=this.tertiaryColor||Object(p.adjust)(this.primaryColor,{h:180,l:5});this.primaryBorderColor=this.primaryBorderColor||Object(n.mkBorder)(this.primaryColor,this.darkMode);this.secondaryBorderColor=
this.secondaryBorderColor||Object(n.mkBorder)(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=this.tertiaryBorderColor||Object(n.mkBorder)(this.tertiaryColor,this.darkMode);this.noteBorderColor=this.noteBorderColor||Object(n.mkBorder)(this.noteBkgColor,this.darkMode);this.secondaryTextColor=this.secondaryTextColor||Object(p.invert)(this.secondaryColor);this.tertiaryTextColor=this.tertiaryTextColor||Object(p.invert)(this.tertiaryColor);this.lineColor=this.lineColor||Object(p.invert)(this.background);
this.textColor=this.textColor||this.primaryTextColor;this.nodeBkg=this.nodeBkg||this.primaryColor;this.mainBkg=this.mainBkg||this.primaryColor;this.nodeBorder=this.nodeBorder||this.primaryBorderColor;this.clusterBkg=this.clusterBkg||this.tertiaryColor;this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor;this.defaultLinkColor=this.defaultLinkColor||this.lineColor;this.titleColor=this.titleColor||this.tertiaryTextColor;this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Object(p.darken)(this.secondaryColor,
30):this.secondaryColor);this.nodeTextColor=this.nodeTextColor||this.primaryTextColor;this.actorBorder=this.actorBorder||this.primaryBorderColor;this.actorBkg=this.actorBkg||this.mainBkg;this.actorTextColor=this.actorTextColor||this.primaryTextColor;this.actorLineColor=this.actorLineColor||"grey";this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg;this.signalColor=this.signalColor||this.textColor;this.signalTextColor=this.signalTextColor||this.textColor;this.labelBoxBorderColor=this.labelBoxBorderColor||
this.actorBorder;this.labelTextColor=this.labelTextColor||this.actorTextColor;this.loopTextColor=this.loopTextColor||this.actorTextColor;this.activationBorderColor=this.activationBorderColor||Object(p.darken)(this.secondaryColor,10);this.activationBkgColor=this.activationBkgColor||this.secondaryColor;this.sequenceNumberColor=this.sequenceNumberColor||Object(p.invert)(this.lineColor);this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor;this.altSectionBkgColor=this.altSectionBkgColor||"white";
this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor;this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor;this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor;this.taskBkgColor=this.taskBkgColor||this.primaryColor;this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor;this.activeTaskBkgColor=this.activeTaskBkgColor||Object(p.lighten)(this.primaryColor,23);this.gridColor=this.gridColor||"lightgrey";this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey";
this.doneTaskBorderColor=this.doneTaskBorderColor||"grey";this.critBorderColor=this.critBorderColor||"#ff8888";this.critBkgColor=this.critBkgColor||"red";this.todayLineColor=this.todayLineColor||"red";this.taskTextColor=this.taskTextColor||this.textColor;this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor;this.taskTextLightColor=this.taskTextLightColor||this.textColor;this.taskTextColor=this.taskTextColor||this.primaryTextColor;this.taskTextDarkColor=this.taskTextDarkColor||this.textColor;
this.taskTextClickableColor=this.taskTextClickableColor||"#003163";this.labelColor=this.labelColor||this.primaryTextColor;this.altBackground=this.altBackground||this.tertiaryColor;this.errorBkgColor=this.errorBkgColor||this.tertiaryColor;this.errorTextColor=this.errorTextColor||this.tertiaryTextColor;this.classText=this.classText||this.textColor;this.fillType0=this.fillType0||this.primaryColor;this.fillType1=this.fillType1||this.secondaryColor;this.fillType2=this.fillType2||Object(p.adjust)(this.primaryColor,
{h:64});this.fillType3=this.fillType3||Object(p.adjust)(this.secondaryColor,{h:64});this.fillType4=this.fillType4||Object(p.adjust)(this.primaryColor,{h:-64});this.fillType5=this.fillType5||Object(p.adjust)(this.secondaryColor,{h:-64});this.fillType6=this.fillType6||Object(p.adjust)(this.primaryColor,{h:128});this.fillType7=this.fillType7||Object(p.adjust)(this.secondaryColor,{h:128})}},{key:"calculate",value:function(b){var d=this;if("object"!==e(b))this.updateColors();else{var f=Object.keys(b);
f.forEach(function(e){d[e]=b[e]});this.updateColors();f.forEach(function(e){d[e]=b[e]})}}}]);return b}(),r=function(b){var d=new q;d.calculate(b);return d}},"./src/themes/theme-dark.js":function(b,d,g){function e(b){"@babel/helpers - typeof";e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return e(b)}function f(b,d){for(var e=0;e<d.length;e++){var f=
d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}function m(b,d,e){d&&f(b.prototype,d);e&&f(b,e);return b}g.r(d);g.d(d,"getThemeVariables",function(){return r});var p=g("khroma"),n=g("./src/themes/theme-helpers.js"),q=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.background="#333";this.primaryColor="#1f2020";this.secondaryColor=Object(p.lighten)(this.primaryColor,16);
this.tertiaryColor=Object(p.adjust)(this.primaryColor,{h:-160});this.primaryBorderColor=Object(n.mkBorder)(this.primaryColor,this.darkMode);this.secondaryBorderColor=Object(n.mkBorder)(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=Object(n.mkBorder)(this.tertiaryColor,this.darkMode);this.primaryTextColor=Object(p.invert)(this.primaryColor);this.secondaryTextColor=Object(p.invert)(this.secondaryColor);this.tertiaryTextColor=Object(p.invert)(this.tertiaryColor);this.lineColor=Object(p.invert)(this.background);
this.textColor=Object(p.invert)(this.background);this.mainBkg="#1f2020";this.secondBkg="calculated";this.mainContrastColor="lightgrey";this.darkTextColor=Object(p.lighten)(Object(p.invert)("#323D47"),10);this.lineColor="calculated";this.border1="#81B1DB";this.border2=Object(p.rgba)(255,255,255,.25);this.arrowheadColor="calculated";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.labelBackground="#181818";this.textColor="#ccc";this.defaultLinkColor=this.clusterBorder=
this.clusterBkg=this.nodeBorder=this.nodeBkg="calculated";this.titleColor="#F9FFFE";this.noteBorderColor=this.loopTextColor=this.labelTextColor=this.labelBoxBorderColor=this.labelBoxBkgColor=this.signalTextColor=this.signalColor=this.actorLineColor=this.actorTextColor=this.actorBkg=this.actorBorder=this.edgeLabelBackground="calculated";this.noteBkgColor="#fff5ad";this.activationBkgColor=this.activationBorderColor=this.noteTextColor="calculated";this.sequenceNumberColor="black";this.sectionBkgColor=
Object(p.darken)("#EAE8D9",30);this.altSectionBkgColor="calculated";this.sectionBkgColor2="#EAE8D9";this.taskBorderColor=Object(p.rgba)(255,255,255,70);this.taskTextOutsideColor=this.taskTextLightColor=this.taskTextColor=this.taskBkgColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBorderColor=Object(p.rgba)(255,255,255,50);this.activeTaskBkgColor="#81B1DB";this.doneTaskBkgColor=this.gridColor="calculated";this.doneTaskBorderColor="grey";this.critBkgColor=this.critBorderColor=
"#E83737";this.taskTextDarkColor="calculated";this.todayLineColor="#DB5757";this.labelColor="calculated";this.errorBkgColor="#a44141";this.errorTextColor="#ddd"}m(b,[{key:"updateColors",value:function(){this.secondBkg=Object(p.lighten)(this.mainBkg,16);this.arrowheadColor=this.lineColor=this.mainContrastColor;this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.edgeLabelBackground=Object(p.lighten)(this.labelBackground,
25);this.actorBorder=this.border1;this.actorBkg=this.mainBkg;this.signalTextColor=this.signalColor=this.actorLineColor=this.actorTextColor=this.mainContrastColor;this.labelBoxBkgColor=this.actorBkg;this.labelBoxBorderColor=this.actorBorder;this.loopTextColor=this.labelTextColor=this.mainContrastColor;this.noteBorderColor=this.border2;this.noteTextColor=this.mainBkg;this.activationBorderColor=this.border1;this.activationBkgColor=this.secondBkg;this.altSectionBkgColor=this.background;this.taskBkgColor=
Object(p.lighten)(this.mainBkg,23);this.taskTextColor=this.darkTextColor;this.doneTaskBkgColor=this.gridColor=this.taskTextOutsideColor=this.taskTextLightColor=this.mainContrastColor;this.taskTextDarkColor=this.darkTextColor;this.labelColor=this.textColor;this.altBackground=Object(p.lighten)(this.background,20);this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=Object(p.adjust)(this.primaryColor,{h:64});this.fillType3=Object(p.adjust)(this.secondaryColor,{h:64});this.fillType4=
Object(p.adjust)(this.primaryColor,{h:-64});this.fillType5=Object(p.adjust)(this.secondaryColor,{h:-64});this.fillType6=Object(p.adjust)(this.primaryColor,{h:128});this.fillType7=Object(p.adjust)(this.secondaryColor,{h:128});this.classText=this.primaryTextColor}},{key:"calculate",value:function(b){var d=this;if("object"!==e(b))this.updateColors();else{var f=Object.keys(b);f.forEach(function(e){d[e]=b[e]});this.updateColors();f.forEach(function(e){d[e]=b[e]})}}}]);return b}(),r=function(b){var d=new q;
d.calculate(b);return d}},"./src/themes/theme-default.js":function(b,d,g){function e(b){"@babel/helpers - typeof";e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return e(b)}function f(b,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}function m(b,
d,e){d&&f(b.prototype,d);e&&f(b,e);return b}g.r(d);g.d(d,"getThemeVariables",function(){return r});var p=g("khroma"),n=g("./src/themes/theme-helpers.js"),q=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.background="#f4f4f4";this.primaryColor="#ECECFF";Object(p.adjust)(this.primaryColor,{h:120});this.secondaryColor="#ffffde";this.tertiaryColor=Object(p.adjust)(this.primaryColor,{h:-160});this.primaryBorderColor=Object(n.mkBorder)(this.primaryColor,
this.darkMode);this.secondaryBorderColor=Object(n.mkBorder)(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=Object(n.mkBorder)(this.tertiaryColor,this.darkMode);this.primaryTextColor=Object(p.invert)(this.primaryColor);this.secondaryTextColor=Object(p.invert)(this.secondaryColor);this.tertiaryTextColor=Object(p.invert)(this.tertiaryColor);this.lineColor=Object(p.invert)(this.background);this.textColor=Object(p.invert)(this.background);this.background="white";this.mainBkg="#ECECFF";this.secondBkg=
"#ffffde";this.lineColor="#333333";this.border1="#9370DB";this.border2="#aaaa33";this.arrowheadColor="#333333";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.labelBackground="#e8e8e8";this.textColor="#333";this.actorBkg=this.actorBorder=this.edgeLabelBackground=this.titleColor=this.defaultLinkColor=this.clusterBorder=this.clusterBkg=this.nodeBorder=this.nodeBkg="calculated";this.actorTextColor="black";this.actorLineColor="grey";this.noteBorderColor=this.loopTextColor=
this.labelTextColor=this.labelBoxBorderColor=this.labelBoxBkgColor=this.signalTextColor=this.signalColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.todayLineColor=this.critBkgColor=this.critBorderColor=this.doneTaskBorderColor=this.doneTaskBkgColor=this.gridColor=this.activeTaskBkgColor=this.activeTaskBorderColor=this.taskTextClickableColor=this.taskTextOutsideColor=
this.taskTextDarkColor=this.taskTextColor=this.taskTextLightColor=this.taskBkgColor=this.taskBorderColor=this.sectionBkgColor2=this.altSectionBkgColor=this.sectionBkgColor="calculated";this.sectionBkgColor=Object(p.rgba)(102,102,255,.49);this.altSectionBkgColor="white";this.sectionBkgColor2="#fff400";this.taskBorderColor="#534fbc";this.taskBkgColor="#8a90dd";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="black";this.taskTextOutsideColor="calculated";this.taskTextClickableColor=
"#003163";this.activeTaskBorderColor="#534fbc";this.activeTaskBkgColor="#bfc7ff";this.doneTaskBkgColor=this.gridColor="lightgrey";this.doneTaskBorderColor="grey";this.critBorderColor="#ff8888";this.todayLineColor=this.critBkgColor="red";this.labelColor="black";this.errorTextColor=this.errorBkgColor="#552222";this.updateColors()}m(b,[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=
this.lineColor;this.titleColor=this.textColor;this.edgeLabelBackground=this.labelBackground;this.actorBorder=Object(p.lighten)(this.border1,23);this.labelBoxBkgColor=this.actorBkg=this.mainBkg;this.signalTextColor=this.signalColor=this.textColor;this.labelBoxBorderColor=this.actorBorder;this.loopTextColor=this.labelTextColor=this.actorTextColor;this.noteBorderColor=this.border2;this.noteTextColor=this.actorTextColor;this.taskTextColor=this.taskTextLightColor;this.taskTextOutsideColor=this.taskTextDarkColor;
this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=Object(p.adjust)(this.primaryColor,{h:64});this.fillType3=Object(p.adjust)(this.secondaryColor,{h:64});this.fillType4=Object(p.adjust)(this.primaryColor,{h:-64});this.fillType5=Object(p.adjust)(this.secondaryColor,{h:-64});this.fillType6=Object(p.adjust)(this.primaryColor,{h:128});this.fillType7=Object(p.adjust)(this.secondaryColor,{h:128})}},{key:"calculate",value:function(b){var d=
this;if("object"!==e(b))this.updateColors();else{var f=Object.keys(b);f.forEach(function(e){d[e]=b[e]});this.updateColors();f.forEach(function(e){d[e]=b[e]})}}}]);return b}(),r=function(b){var d=new q;d.calculate(b);return d}},"./src/themes/theme-forest.js":function(b,d,g){function e(b){"@babel/helpers - typeof";e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":typeof b};return e(b)}function f(b,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}function m(b,d,e){d&&f(b.prototype,d);e&&f(b,e);return b}g.r(d);g.d(d,"getThemeVariables",function(){return r});var p=g("khroma"),n=g("./src/themes/theme-helpers.js"),q=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.background="#f4f4f4";this.primaryColor=
"#cde498";this.secondaryColor="#cdffb2";this.background="white";this.mainBkg="#cde498";this.secondBkg="#cdffb2";this.lineColor="green";this.border1="#13540c";this.border2="#6eaa49";this.arrowheadColor="green";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.tertiaryColor=Object(p.lighten)("#cde498",10);this.primaryBorderColor=Object(n.mkBorder)(this.primaryColor,this.darkMode);this.secondaryBorderColor=Object(n.mkBorder)(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=
Object(n.mkBorder)(this.tertiaryColor,this.darkMode);this.primaryTextColor=Object(p.invert)(this.primaryColor);this.secondaryTextColor=Object(p.invert)(this.secondaryColor);this.tertiaryTextColor=Object(p.invert)(this.primaryColor);this.lineColor=Object(p.invert)(this.background);this.textColor=Object(p.invert)(this.background);this.defaultLinkColor=this.clusterBorder=this.clusterBkg=this.nodeBorder=this.nodeBkg="calculated";this.titleColor="#333";this.edgeLabelBackground="#e8e8e8";this.actorBkg=
this.actorBorder="calculated";this.actorTextColor="black";this.actorLineColor="grey";this.signalTextColor=this.signalColor="#333";this.labelBoxBkgColor="calculated";this.labelBoxBorderColor="#326932";this.noteBorderColor=this.loopTextColor=this.labelTextColor="calculated";this.noteBkgColor="#fff5ad";this.noteTextColor="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="#6eaa49";this.altSectionBkgColor="white";this.sectionBkgColor2=
"#6eaa49";this.taskBorderColor="calculated";this.taskBkgColor="#487e3a";this.taskTextLightColor="white";this.taskTextColor="calculated";this.taskTextDarkColor="black";this.taskTextOutsideColor="calculated";this.taskTextClickableColor="#003163";this.activeTaskBkgColor=this.activeTaskBorderColor="calculated";this.doneTaskBkgColor=this.gridColor="lightgrey";this.doneTaskBorderColor="grey";this.critBorderColor="#ff8888";this.todayLineColor=this.critBkgColor="red";this.labelColor="black";this.errorTextColor=
this.errorBkgColor="#552222"}m(b,[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.actorBorder=Object(p.darken)(this.mainBkg,20);this.labelBoxBkgColor=this.actorBkg=this.mainBkg;this.loopTextColor=this.labelTextColor=this.actorTextColor;this.noteBorderColor=this.border2;this.noteTextColor=this.actorTextColor;this.taskBorderColor=this.border1;this.taskTextColor=
this.taskTextLightColor;this.taskTextOutsideColor=this.taskTextDarkColor;this.activeTaskBorderColor=this.taskBorderColor;this.activeTaskBkgColor=this.mainBkg;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=Object(p.adjust)(this.primaryColor,{h:64});this.fillType3=Object(p.adjust)(this.secondaryColor,{h:64});this.fillType4=Object(p.adjust)(this.primaryColor,{h:-64});this.fillType5=Object(p.adjust)(this.secondaryColor,{h:-64});
this.fillType6=Object(p.adjust)(this.primaryColor,{h:128});this.fillType7=Object(p.adjust)(this.secondaryColor,{h:128})}},{key:"calculate",value:function(b){var d=this;if("object"!==e(b))this.updateColors();else{var f=Object.keys(b);f.forEach(function(e){d[e]=b[e]});this.updateColors();f.forEach(function(e){d[e]=b[e]})}}}]);return b}(),r=function(b){var d=new q;d.calculate(b);return d}},"./src/themes/theme-helpers.js":function(b,d,g){g.r(d);g.d(d,"mkBorder",function(){return f});var e=g("khroma"),
f=function(b,d){return d?Object(e.adjust)(b,{s:-40,l:10}):Object(e.adjust)(b,{s:-40,l:-10})}},"./src/themes/theme-neutral.js":function(b,d,g){function e(b){"@babel/helpers - typeof";e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return e(b)}function f(b,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=
!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}function m(b,d,e){d&&f(b.prototype,d);e&&f(b,e);return b}g.r(d);g.d(d,"getThemeVariables",function(){return r});var p=g("khroma"),n=g("./src/themes/theme-helpers.js"),q=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.primaryColor="#eee";this.contrast="#26a";this.secondaryColor=Object(p.lighten)(this.contrast,55);this.background="#ffffff";this.tertiaryColor=Object(p.adjust)(this.primaryColor,
{h:-160});this.primaryBorderColor=Object(n.mkBorder)(this.primaryColor,this.darkMode);this.secondaryBorderColor=Object(n.mkBorder)(this.secondaryColor,this.darkMode);this.tertiaryBorderColor=Object(n.mkBorder)(this.tertiaryColor,this.darkMode);this.primaryTextColor=Object(p.invert)(this.primaryColor);this.secondaryTextColor=Object(p.invert)(this.secondaryColor);this.tertiaryTextColor=Object(p.invert)(this.tertiaryColor);this.lineColor=Object(p.invert)(this.background);this.textColor=Object(p.invert)(this.background);
this.altBackground=Object(p.lighten)(this.contrast,55);this.mainBkg="#eee";this.secondBkg="calculated";this.lineColor="#666";this.border1="#999";this.border2="calculated";this.note="#ffa";this.text="#333";this.critical="#d42";this.done="#bbb";this.arrowheadColor="#333333";this.fontFamily='"trebuchet ms", verdana, arial, sans-serif';this.fontSize="16px";this.titleColor=this.defaultLinkColor=this.clusterBorder=this.clusterBkg=this.nodeBorder=this.nodeBkg="calculated";this.edgeLabelBackground="white";
this.noteTextColor=this.noteBkgColor=this.noteBorderColor=this.loopTextColor=this.labelTextColor=this.labelBoxBorderColor=this.labelBoxBkgColor=this.signalTextColor=this.signalColor=this.actorLineColor=this.actorTextColor=this.actorBkg=this.actorBorder="calculated";this.activationBorderColor="#666";this.activationBkgColor="#f4f4f4";this.sequenceNumberColor="white";this.sectionBkgColor="calculated";this.altSectionBkgColor="white";this.taskBkgColor=this.taskBorderColor=this.sectionBkgColor2="calculated";
this.taskTextLightColor="white";this.taskTextOutsideColor=this.taskTextDarkColor=this.taskTextColor="calculated";this.taskTextClickableColor="#003163";this.todayLineColor=this.critBorderColor=this.critBkgColor=this.doneTaskBorderColor=this.doneTaskBkgColor=this.gridColor=this.activeTaskBkgColor=this.activeTaskBorderColor="calculated";this.labelColor="black";this.errorTextColor=this.errorBkgColor="#552222"}m(b,[{key:"updateColors",value:function(){this.secondBkg=Object(p.lighten)(this.contrast,55);
this.border2=this.contrast;this.nodeBkg=this.mainBkg;this.nodeBorder=this.border1;this.clusterBkg=this.secondBkg;this.clusterBorder=this.border2;this.defaultLinkColor=this.lineColor;this.titleColor=this.text;this.actorBorder=Object(p.lighten)(this.border1,23);this.actorBkg=this.mainBkg;this.actorTextColor=this.text;this.actorLineColor=this.lineColor;this.signalTextColor=this.signalColor=this.text;this.labelBoxBkgColor=this.actorBkg;this.labelBoxBorderColor=this.actorBorder;this.loopTextColor=this.labelTextColor=
this.text;this.noteBorderColor=Object(p.darken)(this.note,60);this.noteBkgColor=this.note;this.noteTextColor=this.actorTextColor;this.sectionBkgColor=Object(p.lighten)(this.contrast,30);this.sectionBkgColor2=Object(p.lighten)(this.contrast,30);this.taskBorderColor=Object(p.darken)(this.contrast,10);this.taskBkgColor=this.contrast;this.taskTextColor=this.taskTextLightColor;this.taskTextOutsideColor=this.taskTextDarkColor=this.text;this.activeTaskBorderColor=this.taskBorderColor;this.activeTaskBkgColor=
this.mainBkg;this.gridColor=Object(p.lighten)(this.border1,30);this.doneTaskBkgColor=this.done;this.doneTaskBorderColor=this.lineColor;this.critBkgColor=this.critical;this.critBorderColor=Object(p.darken)(this.critBkgColor,10);this.todayLineColor=this.critBkgColor;this.classText=this.primaryTextColor;this.fillType0=this.primaryColor;this.fillType1=this.secondaryColor;this.fillType2=Object(p.adjust)(this.primaryColor,{h:64});this.fillType3=Object(p.adjust)(this.secondaryColor,{h:64});this.fillType4=
Object(p.adjust)(this.primaryColor,{h:-64});this.fillType5=Object(p.adjust)(this.secondaryColor,{h:-64});this.fillType6=Object(p.adjust)(this.primaryColor,{h:128});this.fillType7=Object(p.adjust)(this.secondaryColor,{h:128})}},{key:"calculate",value:function(b){var d=this;if("object"!==e(b))this.updateColors();else{var f=Object.keys(b);f.forEach(function(e){d[e]=b[e]});this.updateColors();f.forEach(function(e){d[e]=b[e]})}}}]);return b}(),r=function(b){var d=new q;d.calculate(b);return d}},"./src/utils.js":function(b,
d,g){function e(b,d){for(var e=0;e<d.length;e++){var f=d[e];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}function f(b,d,f){d&&e(b.prototype,d);f&&e(b,f);return b}function m(b){"@babel/helpers - typeof";m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return m(b)}function p(b){if(Array.isArray(b)){var d=
0;for(var e=Array(b.length);d<b.length;d++)e[d]=b[d];d=e}else d=void 0;d||(d=Symbol.iterator in Object(b)||"[object Arguments]"===Object.prototype.toString.call(b)?Array.from(b):void 0);if(!(b=d))throw new TypeError("Invalid attempt to spread non-iterable instance");return b}g.r(d);g.d(d,"detectInit",function(){return H});g.d(d,"detectDirective",function(){return z});g.d(d,"detectType",function(){return I});g.d(d,"isSubstringInArray",function(){return O});g.d(d,"interpolateToCurve",function(){return N});
g.d(d,"formatUrl",function(){return L});g.d(d,"runFunc",function(){return F});g.d(d,"getStylesFromArray",function(){return R});g.d(d,"generateId",function(){return T});g.d(d,"random",function(){return ea});g.d(d,"assignWithDepth",function(){return Q});g.d(d,"getTextObj",function(){return P});g.d(d,"drawSimpleText",function(){return S});g.d(d,"wrapLabel",function(){return ua});g.d(d,"calculateTextHeight",function(){return ba});g.d(d,"calculateTextWidth",function(){return la});g.d(d,"calculateTextDimensions",
function(){return Z});g.d(d,"calculateSvgSizeAttrs",function(){return oa});g.d(d,"configureSvgSize",function(){return Aa});g.d(d,"initIdGeneratior",function(){return ca});var n=g("@braintree/sanitize-url"),q=g("d3"),r=g("./src/diagrams/common/common.js"),t=g("./src/logger.js"),v={curveBasis:q.curveBasis,curveBasisClosed:q.curveBasisClosed,curveBasisOpen:q.curveBasisOpen,curveLinear:q.curveLinear,curveLinearClosed:q.curveLinearClosed,curveMonotoneX:q.curveMonotoneX,curveMonotoneY:q.curveMonotoneY,
curveNatural:q.curveNatural,curveStep:q.curveStep,curveStepAfter:q.curveStepAfter,curveStepBefore:q.curveStepBefore},u=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,w=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,J=/\s*%%.*\n/gm,H=function(b){var d=z(b,/(?:init\b)|(?:initialize\b)/),e={};Array.isArray(d)?(d=d.map(function(b){return b.args}),e=Q(e,p(d))):e=d.args;if(e){var f=I(b);["config"].forEach(function(b){"undefined"!==
typeof e[b]&&("flowchart-v2"===f&&(f="flowchart"),e[f]=e[b],delete e[b])})}return e},z=function(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{var e=new RegExp("[%]{2}(?![{]".concat(w.source,")(?=[}][%]{2}).*\n"),"ig");b=b.trim().replace(e,"").replace(/'/gm,'"');t.log.debug("Detecting diagram directive".concat(null!==d?" type:"+d:""," based on the text:").concat(b));var f;for(e=[];null!==(f=u.exec(b));)if(f.index===u.lastIndex&&u.lastIndex++,f&&!d||d&&f[1]&&f[1].match(d)||
d&&f[2]&&f[2].match(d)){var g=f[1]?f[1]:f[2],h=f[3]?f[3].trim():f[4]?JSON.parse(f[4].trim()):null;e.push({type:g,args:h})}0===e.length&&e.push({type:b,args:null});return 1===e.length?e[0]:e}catch(Ba){return t.log.error("ERROR: ".concat(Ba.message," - Unable to parse directive").concat(null!==d?" type:"+d:""," based on the text:").concat(b)),{type:null,args:null}}},I=function(b){b=b.replace(u,"").replace(J,"\n");t.log.debug("Detecting diagram type based on the text "+b);return b.match(/^\s*sequenceDiagram/)?
"sequence":b.match(/^\s*gantt/)?"gantt":b.match(/^\s*classDiagram-v2/)?"classDiagram":b.match(/^\s*classDiagram/)?"class":b.match(/^\s*stateDiagram-v2/)?"stateDiagram":b.match(/^\s*stateDiagram/)?"state":b.match(/^\s*gitGraph/)?"git":b.match(/^\s*flowchart/)?"flowchart-v2":b.match(/^\s*info/)?"info":b.match(/^\s*pie/)?"pie":b.match(/^\s*erDiagram/)?"er":b.match(/^\s*journey/)?"journey":"flowchart"};b=function(b,d){var e={};return function(){for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];
f=d?d.apply(void 0,g):g[0];if(f in e)return e[f];g=b.apply(void 0,g);return e[f]=g}};var O=function(b,d){for(var e=0;e<d.length;e++)if(d[e].match(b))return e;return-1},N=function(b,d){if(!b)return d;b="curve".concat(b.charAt(0).toUpperCase()+b.slice(1));return v[b]||d},L=function(b,d){if(b=b.trim())return"loose"!==d.securityLevel?Object(n.sanitizeUrl)(b):b},F=function(b){for(var d,e=b.split("."),f=e.length-1,g=e[f],h=window,l=0;l<f;l++)if(h=h[e[l]],!h)return;e=arguments.length;f=Array(1<e?e-1:0);
for(l=1;l<e;l++)f[l-1]=arguments[l];(d=h)[g].apply(d,f)},G=function(b,d){return b&&d?Math.sqrt(Math.pow(d.x-b.x,2)+Math.pow(d.y-b.y,2)):0},U=function(b){var d=0;b.forEach(function(b){d+=G(b,g);g=b});var e=d/2,f=void 0;var g=void 0;b.forEach(function(b){if(g&&!f){var d=G(b,g);d<e?e-=d:(d=e/d,0>=d&&(f=g),1<=d&&(f={x:b.x,y:b.y}),0<d&&1>d&&(f={x:(1-d)*g.x+d*b.x,y:(1-d)*g.y+d*b.y}))}g=b});return f},R=function(b){for(var d="",e="",f=0;f<b.length;f++)"undefined"!==typeof b[f]&&(b[f].startsWith("color:")||
b[f].startsWith("text-align:")?e=e+b[f]+";":d=d+b[f]+";");return{style:d,labelStyle:e}},W=0,T=function(){W++;return"id-"+Math.random().toString(36).substr(2,12)+"-"+W},ea=function(b){b=b.length;for(var d="",e=0;e<b;e++)d+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return d},Q=function za(b,d,e){var f=Object.assign({depth:2,clobber:!1},e),g=f.depth,h=f.clobber;if(Array.isArray(d)&&!Array.isArray(b))return d.forEach(function(d){return za(b,d,e)}),b;if(Array.isArray(d)&&Array.isArray(b))return d.forEach(function(d){-1===
b.indexOf(d)&&b.push(d)}),b;if("undefined"===typeof b||0>=g)return void 0!==b&&null!==b&&"object"===m(b)&&"object"===m(d)?Object.assign(b,d):d;"undefined"!==typeof d&&"object"===m(b)&&"object"===m(d)&&Object.keys(d).forEach(function(e){if("object"===m(d[e])&&(void 0===b[e]||"object"===m(b[e])))void 0===b[e]&&(b[e]=Array.isArray(d[e])?[]:{}),b[e]=za(b[e],d[e],{depth:g-1,clobber:h});else if(h||"object"!==m(b[e])&&"object"!==m(d[e]))b[e]=d[e]});return b},P=function(){return{x:0,y:0,fill:void 0,anchor:"start",
style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},S=function(b,d){var e=d.text.replace(r["default"].lineBreakRegex," ");b=b.append("text");b.attr("x",d.x);b.attr("y",d.y);b.style("text-anchor",d.anchor);b.style("font-family",d.fontFamily);b.style("font-size",d.fontSize);b.style("font-weight",d.fontWeight);b.attr("fill",d.fill);"undefined"!==typeof d.class&&b.attr("class",d.class);var f=b.append("tspan");f.attr("x",d.x+2*d.textMargin);f.attr("fill",d.fill);f.text(e);return b},
ua=b(function(b,d,e){if(!b)return b;e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},e);if(r["default"].lineBreakRegex.test(b))return b;var f=b.split(" "),g=[],h="";f.forEach(function(b,l){var m=la("".concat(b," "),e),n=la(h,e);m>d?(b=V(b,d,"-",e),m=b.remainingWord,g.push.apply(g,[h].concat(p(b.hyphenatedStrings))),h=m):n+m>=d?(g.push(h),h=b):h=[h,b].filter(Boolean).join(" ");l+1===f.length&&g.push(h)});return g.filter(function(b){return""!==b}).join(e.joinWith)},function(b,
d,e){return"".concat(b,"-").concat(d,"-").concat(e.fontSize,"-").concat(e.fontWeight,"-").concat(e.fontFamily,"-").concat(e.joinWith)}),V=b(function(b,d){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"-",f=3<arguments.length?arguments[3]:void 0;f=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},f);var g=b.split(""),h=[],l="";g.forEach(function(b,m){b="".concat(l).concat(b);if(la(b,f)>=d){m=g.length===m+1;var n="".concat(b).concat(e);h.push(m?b:n);l=""}else l=b});
return{hyphenatedStrings:h,remainingWord:l}},function(b,d){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"-",f=3<arguments.length?arguments[3]:void 0;return"".concat(b,"-").concat(d,"-").concat(e,"-").concat(f.fontSize,"-").concat(f.fontWeight,"-").concat(f.fontFamily)}),ba=function(b,d){d=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},d);return Z(b,d).height},la=function(b,d){d=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},d);return Z(b,d).width},
Z=b(function(b,d){var e=d=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},d);d=e.fontSize;var f=e.fontWeight;if(!b)return{width:0,height:0};e=["sans-serif",e.fontFamily];var g=b.split(r["default"].lineBreakRegex);b=[];var h=Object(q.select)("body");if(!h.remove)return{width:0,height:0,lineHeight:0};h=h.append("svg");for(var l=0;l<e.length;l++){var m=e[l],n=0,p={width:0,height:0,lineHeight:0},t=!0,u=!1,v=void 0;try{for(var w=g[Symbol.iterator](),z;!(t=(z=w.next()).done);t=!0){var F=z.value,
G=P();G.text=F;var H=S(h,G).style("font-size",d).style("font-weight",f).style("font-family",m),I=(H._groups||H)[0][0].getBBox();p.width=Math.round(Math.max(p.width,I.width));n=Math.round(I.height);p.height+=n;p.lineHeight=Math.round(Math.max(p.lineHeight,n))}}catch(ma){u=!0,v=ma}finally{try{t||null==w.return||w.return()}finally{if(u)throw v;}}b.push(p)}h.remove();w=isNaN(b[1].height)||isNaN(b[1].width)||isNaN(b[1].lineHeight)||b[0].height>b[1].height&&b[0].width>b[1].width&&b[0].lineHeight>b[1].lineHeight?
0:1;return b[w]},function(b,d){return"".concat(b,"-").concat(d.fontSize,"-").concat(d.fontWeight,"-").concat(d.fontFamily)}),oa=function(b,d,e){var f=new Map;f.set("height",b);e?(f.set("width","100%"),f.set("style","max-width: ".concat(d,"px;"))):f.set("width",d);return f},Aa=function(b,d,e,f){d=oa(d,e,f);e=!0;f=!1;var g=void 0;try{for(var h=d[Symbol.iterator](),l;!(e=(l=h.next()).done);e=!0){var m=l.value;b.attr(m[0],m[1])}}catch(ja){f=!0,g=ja}finally{try{e||null==h.return||h.return()}finally{if(f)throw g;
}}},ca=function(b,d){return b?new (function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");return this.count=d?d.length:0}f(b,[{key:"next",value:function(){return this.count++}}]);return b}()):{next:function(){return Date.now()}}};d["default"]={assignWithDepth:Q,wrapLabel:ua,calculateTextHeight:ba,calculateTextWidth:la,calculateTextDimensions:Z,calculateSvgSizeAttrs:oa,configureSvgSize:Aa,detectInit:H,detectDirective:z,detectType:I,isSubstringInArray:O,
interpolateToCurve:N,calcLabelPosition:function(b){return U(b)},calcCardinalityPosition:function(b,d,e){var f=0;t.log.info("our points",d);d[0]!==e&&(d=d.reverse());d.forEach(function(b){f+=G(b,l);l=b});var g=25,h;var l=void 0;d.forEach(function(b){if(l&&!h){var d=G(b,l);d<g?g-=d:(d=g/d,0>=d&&(h=l),1<=d&&(h={x:b.x,y:b.y}),0<d&&1>d&&(h={x:(1-d)*l.x+d*b.x,y:(1-d)*l.y+d*b.y}))}l=b});b=b?10:5;e=Math.atan2(d[0].y-h.y,d[0].x-h.x);var m={x:0,y:0};m.x=Math.sin(e)*b+(d[0].x+h.x)/2;m.y=-Math.cos(e)*b+(d[0].y+
h.y)/2;return m},calcTerminalLabelPosition:function(b,d,e){b=JSON.parse(JSON.stringify(e));var f=0;t.log.info("our points",b);"start_left"!==d&&"start_right"!==d&&(b=b.reverse());b.forEach(function(b){f+=G(b,l);l=b});var g=25,h;var l=void 0;b.forEach(function(b){if(l&&!h){var d=G(b,l);d<g?g-=d:(d=g/d,0>=d&&(h=l),1<=d&&(h={x:b.x,y:b.y}),0<d&&1>d&&(h={x:(1-d)*l.x+d*b.x,y:(1-d)*l.y+d*b.y}))}l=b});e=Math.atan2(b[0].y-h.y,b[0].x-h.x);var m={x:0,y:0};m.x=10*Math.sin(e)+(b[0].x+h.x)/2;m.y=10*-Math.cos(e)+
(b[0].y+h.y)/2;"start_left"===d&&(m.x=10*Math.sin(e+Math.PI)+(b[0].x+h.x)/2,m.y=10*-Math.cos(e+Math.PI)+(b[0].y+h.y)/2);"end_right"===d&&(m.x=10*Math.sin(e-Math.PI)+(b[0].x+h.x)/2-5,m.y=10*-Math.cos(e-Math.PI)+(b[0].y+h.y)/2-5);"end_left"===d&&(m.x=10*Math.sin(e)+(b[0].x+h.x)/2-5,m.y=10*-Math.cos(e)+(b[0].y+h.y)/2-5);return m},formatUrl:L,getStylesFromArray:R,generateId:T,random:ea,memoize:b,runFunc:F,initIdGeneratior:ca}},"@braintree/sanitize-url":function(b,d){b.exports=sanitizeUrl_1},d3:function(b,
d){b.exports=require$$1},dagre:function(b,d){b.exports=dagre$1},"dagre-d3":function(b,d){b.exports=dagreD3},"dagre-d3/lib/label/add-html-label.js":function(b,d){b.exports=addHtmlLabel_1},"entity-decode/browser":function(b,d){b.exports=require$$5},graphlib:function(b,d){b.exports=graphlib$2},khroma:function(b,d){b.exports=dist},"moment-mini":function(b,d){b.exports=moment_min},stylis:function(b,d){b.exports=stylis}})["default"]})}),Mermaid=getDefaultExportFromCjs(mermaid_core);
function murmurhash3_32_gc(b,d){b=(new TextEncoder).encode(b);var e=b.length&3;var f=b.length-e;var g=d;for(d=0;d<f;){var h=b[d]&255|(b[++d]&255)<<8|(b[++d]&255)<<16|(b[++d]&255)<<24;++d;h=3432918353*(h&65535)+((3432918353*(h>>>16)&65535)<<16)&4294967295;h=h<<15|h>>>17;h=461845907*(h&65535)+((461845907*(h>>>16)&65535)<<16)&4294967295;g^=h;g=g<<13|g>>>19;g=5*(g&65535)+((5*(g>>>16)&65535)<<16)&4294967295;g=(g&65535)+27492+(((g>>>16)+58964&65535)<<16)}h=0;switch(e){case 3:h^=(b[d+2]&255)<<16;case 2:h^=
(b[d+1]&255)<<8;case 1:h^=b[d]&255,h=3432918353*(h&65535)+((3432918353*(h>>>16)&65535)<<16)&4294967295,h=h<<15|h>>>17,g^=461845907*(h&65535)+((461845907*(h>>>16)&65535)<<16)&4294967295}g^=b.length;g^=g>>>16;g=2246822507*(g&65535)+((2246822507*(g>>>16)&65535)<<16)&4294967295;g^=g>>>13;g=3266489909*(g&65535)+((3266489909*(g>>>16)&65535)<<16)&4294967295;return(g^g>>>16)>>>0}
let htmlEntities=b=>String(b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),MermaidChart=b=>{try{var d="render"+murmurhash3_32_gc(b,42).toString();console.log("hash",{domId:d,code:b});Mermaid.mermaidAPI.render(d,b,d=>{console.log("mermaid has returned");b=d});return`<div class="mermaid">${b}</div>`}catch(e){return`<pre>[Mermaid]: ${htmlEntities(e.name)}: ${htmlEntities(e.message)}</pre>`}},MermaidPlugIn=(b,d)=>{Mermaid.initialize(Object.assign(MermaidPlugIn,d));if(!b.renderer.rules.fence)throw Error("Default markdown renderer was not found while trying to use mermaid-it!");
const e=b.renderer.rules.fence.bind(b.renderer.rules);b.renderer.rules.fence=(b,d,h,l,m)=>{const f=b[d],g=f.content.trim();return f.info.startsWith("mermaid")?MermaidChart(g):e(b,d,h,l,m)}};module.exports=MermaidPlugIn
